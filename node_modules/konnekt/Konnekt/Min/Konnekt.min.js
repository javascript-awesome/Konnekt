var Konnekt=function(){var W=function(){return function(z,q,u,t){function N(b,d,h,v){b=void 0===b?{}:b;var f={},e=window.Proxy?new Proxy(f,{set:L,deleteProperty:Q}):f,l=Object.keys(b,"all");Object.defineProperties(f,{__kbname:c("string"===typeof d?d:"default",!0,!0),__kbref:c(h?h.__kbref||h:e,!0,!0),__kbscopeString:c(v||"",!0,!0),__kbImmediateParent:c(h||null,!0,!0),__kbsubscribers:c({}),__kbparentsubscribers:c({}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),
__kbcreatelisteners:c([]),__kbdeletelisteners:c([]),__kbparentcreatelisteners:c([]),__kbparentdeletelisteners:c([]),__kbmethodlisteners:c([]),__kbmethodupdatelisteners:c([]),__kbpointers:c({}),__kbevents:c(k),length:c(0,!0),__kbnonproxy:c(f,!1,!0),__kbproxy:c(e,!1,!0),_stopChange:c(!1,!0)});f.__proto__=N.prototype;d=0;for(h=l.length;d<h;d++)e.set(l[d],b[l[d]]);f.__kbevents.addlistener=[];f.__kbevents.removelistener=[];f.addActionListener("addlistener",function(b){if("string"===typeof b.arguments[0]&&
void 0!==b.local.__kbpointers[b.arguments[0]]){var d=b.local.__kbpointers[b.arguments[0]],d=d.point.getLayer(d.keys);if(void 0!==d[b.arguments[0]])d[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var d=b.local.__kbpointers[b.arguments[0]],d=d.point.getLayer(d.keys);if(void 0!==d[b.arguments[0]])d[b.arguments[2]](b.arguments[0],b.arguments[1])}});return e}function B(b,
d,h,v,f,e,l,x){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=d;this.arguments=e;this.type=this.event=h;this.listener=l;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=v;this.oldValue=f;this.stopChange=x}function c(b,d,h,v){return{value:b,writable:!!d,enumerable:!!v,configurable:!!h}}function O(b,d,h){return{get:function(){return b.call(this)},
set:function(h){d&&(b=h)},enumerable:!1,configurable:!!h}}function I(b,d){var h=d,v=d;return{get:function(){return h},set:function(d){var e=new B(this,b,"set",d,h,arguments,"__kblisteners",this._stopChange);!0!==g(e)&&(v=h,h=d,e.stopChange||(e.listener="__kbupdatelisteners",e.type="postset",g(e)),this.callSubscribers(this.__kbref,this,b,h,v,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function S(){var b=Array.prototype.slice.call(arguments),d=b.shift();return{get:function(){return b.reduce(function(b,
d){return b[d]},d)},set:function(h){var v=b.slice(0,b.length-1).reduce(function(b,d){return b[d]},d);(this._stopChange?v.stopChange():v)[b[b.length-1]]=h;this._stopChange=!1},enumerable:!0,configurable:!0}}function M(b,d){for(var h=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
v=[],f,e=0,l=h.length;e<l;e++)if(f=b[h[e].listener],D.call(f))for(var v=Object.keys(f),x=0,g=v.length;x<g;x++)for(var c=0,n=f[v[x]].length;c<n;c++)d[h[e].method](v[x],f[v[x]][c]);else for(x=0,g=f.length;x<g;x++)d[h[e].method](f[x])}function L(b,d,h){if(J(b,d)||"length"===d){if("length"===d)if(h>b.length&&void 0!==b[h-1])b.length=h;else{if(h<b.length){d=h;for(var v=b.length;d<v;d++)b[d]&&delete b[d];b.length=h}}else b[d]=h;return!0}b.set(d,h)}function Q(b,d){b.del(d);return!0}function P(b,d,h){var v=
r(h),f=D(h),e=K(h);if(v&&h.__kbname!==b.__kbname)"default"===h.__kbname?b.merge(h,d):b.__kbpointers[d]||b.addPointer(h,d);else{var v=new B(this,d,"create",h,void 0,[],"__kbcreatelisteners",this._stopChange),l=g(v),x=parseInt(d,10);if(!0!==l)if((f||e)&&0!==Object.keys(h,"all").length)for(P.call(this,b,d,{}),f=0,e=Object.keys(h,"all"),v=e.length;f<v;f++)P.call(this[d],b[d],e[f],h[e[f]]);else{if(f||e)h=new N(h,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+d),M(b,h);Object.defineProperty(b,
d,I(d,h));!isNaN(x)&&b.length<=x&&(b.length=x+1);v.listener="__kbupdatelisteners";v.type="postcreate";g(v)}}}function C(b,d,h,v){var f=r(h),e=D(h),l=K(h);if(f&&h.__kbname!==b.__kbname)"default"===h.__kbname?b.merge(h,d):b.__kbpointers[d]||b.addPointer(h,d);else if(void 0===b[d])-1===p.indexOf(d)?P.call(this,b,d,h):(v?b.stopChange():b)[d]=h;else if(e||l)for(f=0,e=Object.keys(h,"all"),l=e.length;f<l;f++)C.call(this[d],b[d],e[f],h[e[f]],v);else(v?b.stopChange():b)[d]=h}function E(b){return{}.toString.call(b).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}
function D(b){return"object"===E(void 0!==b?b:this)}function K(b){return"array"===E(void 0!==b?b:this)}function r(b){return"mixed"===E(void 0!==b?b:this)}function J(b,d){d="string"===typeof b?b:d;var h=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,d);return h?void 0===h.value:!1}function A(b,d){"number"===typeof b&&(b=b.toString());var h=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var v=new B(this,b,"set",d,this[b],arguments,
"__kbmethodlisteners");!0!==g(v)&&(C.call(this,h,b,d,this._stopChange),this.stopChange=void 0,v.type="postset",v.listener="__kbmethodupdatelisteners",g(v));return this}function n(b){return b.split(".")}function G(b,d){return function(h,v){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var f=this[d],e=new B(this,d,"addlistener",f,void 0,arguments,"");"string"===typeof h&&1!==n(h).length&&(f=n(h),h=f.pop(),f=f.join("."),e.local=this.getLayer(f),f=e.local[d],e.value=f);!0!==g(e)&&
(D.call(f)?(void 0===f[h]&&(f[h]=[]),f[h].push(v),e.type="postaddlistener",g(e)):K.call(f)&&"function"===typeof h&&(f.push(h),e.type="postaddlistener",g(e)));return this}}function H(b,d){return function(h,v){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var f=this[d],e=new B(this,d,"removelistener",f,void 0,arguments,"");"string"===typeof h&&1!==n(h).length&&(f=n(h),f.pop(),f.join("."),e.local=this.getLayer(f),f=e.local[d],e.value=f,h=n(h).pop());if(!0!==g(e))if(D.call(f)){if(void 0!==
f[h])for(var l=0,x=f[h].length;l<x;l++)if(f[h][l].toString()===v.toString()){f[h].splice(l,1);e.type="postremovelistener";g(e);break}}else if(K.call(f)&&"function"===typeof h)for(l=0,x=f.length;l<x;l++)if(f[l].toString()===h.toString()){f.splice(l,1);e.type="postremovelistener";g(e);break}return this}}function F(b,d){function h(b,d,e){var l=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),g=this,c=b;"string"===typeof b&&1!==n(b).length&&(g=n(b),c=g.pop(),g=g.join("."),
g=this.getLayer(g),void 0===g[e][c]&&(g[e][c]=[]),g[e][c].push(d));D.call(g[e])?(void 0===g[e][c]&&(g[e][c]=[]),g[e][c].push(d),g=g.__kbpointers[c],g=g.point.getLayer(g.keys),void 0!==g[c]&&(void 0===g[e][c]&&(g[e][c]=[]),g[e][c].push(_func))):g[e].push(d);c=0;for(g=l.length;c<g;c++)h.call(this[l[c]],b,d,e)}return function(e,f){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var c=new B(this,d,"addchildlistener",void 0,void 0,arguments,"");!0!==g(c)&&(h.call(this.__kbnonproxy,e,
f,d),c.type="postaddchildlistener",g(c));return this}}function y(b,d){function h(b,d,e){var l=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),g=this,c=b;if("string"===typeof b&&1!==n(b).length){var w=n(b),c=w.pop();w.join(".");g=this.getLayer(w);if(void 0!==g[e][b])for(var w=0,k=g[e][b].length;w<k;w++)if(g[e][b][w].toString()===d.toString()){g[e][b].splice(w,1);break}}if(D.call(g[e])){if(void 0!==g[e][c]){w=0;for(k=g[e][c].length;w<k;w++)if(g[e][c][w].toString()===d.toString()){g[e][c].splice(w,
1);break}if(-1!==g.__kbpointers.indexOf(c)&&(w=g.__kbpointers[c],g=w.point.getLayer(w.keys),void 0!==g[e][c]))for(w=0,k=g[e][c].length;w<k;w++)if(g[e][c][w].toString()===d.toString()){g[e][c].splice(w,1);break}}}else for(w=0,k=g[e].length;w<k;w++)if(g[e][w].toString()===d.toString()){g[e].splice(w,1);break}w=0;for(k=l.length;w<k;w++)h.call(this[l[w]],b,d,e)}return function(e,f){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var c=new B(this,d,"removechildlistener",void 0,void 0,
arguments,"");!0!==g(c)&&(h.call(this.__kbnonproxy,e,f,d),c.type="postremovechildlistener",g(c));return this}}var k={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],
postremovechildlistener:[]},p=["__proto__","_stopChange"],m=function(b,d){if(!d._stopPropogration&&b)for(var h=0,e=b.length;h!==e&&(b[h](d),!d._stopPropogration);h++);},g=function(b){if(b.listener){var d=b.local[b.listener],h=b.local[b.listener.replace("__kb","__kbparent")];D.call(d)?(m(d[b.key],b),m(d["*"],b)):m(d,b);D.call(h)?(m(h[b.key],b),m(h["*"],b)):m(h,b)}m(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},e=Array.prototype.sort;Object.prototype._toString||(Object.prototype._toString=
Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof N?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,d){return Object._keys(b).filter(function(b){return d&&"object"!==d&&"o"!==d?"all"===d?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};Object.defineProperties(N.prototype,{"typeof":c(E,!1,!0),sizeof:c(function(b){function d(b){for(var e=Object.keys(b,"all"),g=0,l=void 0,c=0,R=e.length;c<
R;c++)l=b[e[c]],"object"===typeof l&&void 0!==l&&null!==l?-1===h.indexOf(l)&&(h.push(l),g+=d(l)):"string"===typeof l?g+=2*l.length:"number"===typeof l?g+=8:"boolean"===typeof l?g+=4:"function"===typeof l&&(g+=2*l.toString().length),g+=2*e[c].length;return g}var h=[];return d(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:c(D,!1,!0),isArray:c(K,!1,!0),isMixed:c(r,!1,!0),isObservable:c(J,!1,!0),stringify:c(function(b){var d=[];return JSON.stringify(b||this,function(b,e){if(K(e)||D(e)){if(-1!==
d.indexOf(e))return;d.push(e)}return e})},!1,!0),getKeys:c(function(b,d){d="string"===typeof b?b:d?d:"object";return Object.keys("string"===typeof b||void 0===b?this:b,d)},!1,!0),getIndexes:c(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var d=[],h=0,e=b.length;h<e;h++)void 0!==b[h]&&(d[d.length]=h);return d},!1,!0),keyCount:O(function(){return this.getKeys("object").length},!1,!0),indexCount:O(function(){return this.length},!1,!0),count:O(function(){return this.keyCount+this.indexCount},
!1,!0),concat:c(Array.prototype.concat),every:c(Array.prototype.every),filter:c(Array.prototype.filter),find:c(Array.prototype.find),findIndex:c(Array.prototype.findIndex),forEach:c(Array.prototype.forEach),includes:c(Array.prototype.includes),indexOf:c(Array.prototype.indexOf),join:c(Array.prototype.join),lastIndexOf:c(Array.prototype.lastIndexOf),map:c(Array.prototype.map),reduce:c(Array.prototype.reduce),reduceRight:c(Array.prototype.reduceRight),slice:c(Array.prototype.slice),some:c(Array.prototype.some),
entries:c(Array.prototype.entries),toLocaleString:c(Array.prototype.toLocaleString),add:c(function(b,d){A.call(this,b,d);return this}),set:c(A),get:c(function(b){"number"===typeof b&&(b=b.toString());var d=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(d)return d[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),del:c(function(b,d){var h="number"===typeof b||!isNaN(parseInt(b,10));h&&(b=b.toString());var e=-1!==
b.indexOf(".")?this.getLayer(b):this,f=b.split(".").pop();if(e&&void 0!==e[f])if(h&&e.length>parseInt(b,10)&&!d)e=e.__kbnonproxy,e.splice(f,1);else{var T=new B(e,b,"delete",e[f],void 0,[],"__kbmethodlisteners"),l=g(T),x=new B(e,b,"delete",e[f],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==g(x)&&!0!==l&&(e=e.__kbnonproxy,Object.defineProperty(e,f,c(void 0,!0,!0,!1)),delete e[f],h&&e.length>parseInt(b,10)&&d&&--e.length,T.type="postdelete",T.listener="__kbmethodupdatelisteners",g(T),x.listener=
"__kbupdatelisteners",x.type="postdelete",x.oldValue=x.value,x.value=void 0,g(x))}return this}),exists:c(function(b){var d=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());return d?void 0!==d[b]:!!d}),addPrototype:c(function(b,d){var h=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===h[b]?Object.defineProperty(h.__proto__,b,c(d,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",
prop,h);return this}),addPointer:c(function(){var b=Array.prototype.slice.call(arguments),d=b.shift(),h=b[b.length-1];d instanceof N||(d=new N(d,d.__kbname));var e=new B(this,h,"create",d[h],void 0,[],"__kbcreatelisteners",this._stopChange),f=this.__kbnonproxy;e.root=d.__kbref.__kbproxy;if(!0!==g(e)){Object.defineProperty(f,h,S.apply(f,arguments));f.__kbpointers[h]={keys:b.join("."),point:d};var b=f,d=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],
f=[],c;if(b[h].__kbImmediateParent)for(var l=0,x=d.length;l<x;l++){c=b[d[l].listener];for(var f=Object.keys(c),R=0,w=f.length;R<w;R++)if(h===f[l])for(var n=0,k=c[f[l]].length;n<k;n++)void 0===b[h].__kbImmediateParent[d[l].listener][h]&&(b[h].__kbImmediateParent[d[l].listener][h]=[]),b[h].__kbImmediateParent[d[l].listener][h].push(c[f[l]][n])}M(b,b[h]);e.listener="__kbupdatelisteners";e.type="postcreate";g(e)}return this}),move:c(function(b,d){this.__kbnonproxy.set(d,b[d]);r(b)?b.del(d):(b[d]=null,
delete b[d]);return this}),copy:c(function(b,d){var h=this.__kbnonproxy;r(b)?"default"===b.__kbname?h.merge(b[d],d):h.addPointer(b,d):h.set(d,b[d]);return this}),merge:c(function(b,d){function h(b,d){for(var f=r(b)?b.keys("object"):Object.keys(b),g,c=0,n=f.length;c<n;c++)g=b[f[c]],"object"===typeof g&&-1===e.indexOf(g)&&"undefined"!==d[f[c]]?h(g,d):d.set(f[c],"object"===typeof g?{}:g)}var e=[],f=this.__kbnonproxy;d&&void 0===f[d]&&f.set(d,{});h(b,d?f[d]:f);return this}),copyWithin:c(function(b,d,
h){d=d||0;h=h||0;var e=new B(this,b,"copyWithin",this[b],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==g(e)&&b<f.length){b=0>b?f.length-1:b;d=d<f.length?d:f.length-1;h=h<f.length?h:f.length-1;d=0>d?f.length-1:d;h=0>d?f.length-1:h;for(var c=d;c<=h;c++)f.set(b+(c-d),f[c]);e.type="postcopyWithin";e.listener="__kbmethodupdatelisteners";g(e)}return this}),fill:c(function(b,d,h){d=void 0!==d?Math.max(0,d):0;h=void 0!==h&&h<=this.length?Math.min(this.length,Math.max(0,h)):this.length;
var e=new B(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==g(e)){for(var c=a.key;c<h;c++)f[c]=b;e.type="postfill";e.listener="__kbmethodupdatelisteners";g(e)}return this}),pop:c(function(){var b=new B(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;if(!0!==g(b)){var h=d[d.length-1];d.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";g(b);return h}return null}),push:c(function(b){var d=
new B(this,this.length,"push",b,void 0,arguments,"__kbmethodlisteners"),h=this.__kbnonproxy;!0!==g(d)&&(h.set(h.length,b),d.type="postpush",d.listener="__kbmethodupdatelisteners",g(d));return this.length}),reverse:c(function(){var b=new B(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;if(!0!==g(b)){for(var h=null,e=null,f=d.length,h=0;h<f/2;h+=1){var e=f-1-h,c=d[h];d[h]=d[e];d[e]=c}b.type="postreverse";b.listener="__kbmethodupdatelisteners";g(b)}return this}),
shift:c(function(){var b=new B(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;if(!0!==g(b)){for(var h=a.key,e=this.length-1;h<e;h++)d[h]=d[h+1];d.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";g(b)}return null}),sort:c(function(){var b=new B(this,void 0,"sort",void 0,void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;!0!==g(b)&&(e.apply(d,arguments),b.type="postsort",b.listener="__kbmethodupdatelisteners",g(b));return this}),
splice:c(function(b,d,e){b="string"===typeof b?parseInt(b,10):b;var c=new B(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==g(c)){var n=[],l=Array.prototype.slice.call(arguments,2),x=l.length-2,R=0;if(0!==d&&void 0!==f[b-1+d])for(var w=0,k=d;w<k;w++){n.push(f[b+w]);for(var p=b+w,m=this.length-1;p<m;p++)f[p]=f[p+1];f.del(f.length-1,!0)}if(0!==x)for(w=0,k=x;w<k;w++){R=b+Math.min(1,w);p=f.length;for(m=R;p>m;p--)f.set(p,f[p-1]);f.set(R,l[w])}c.type="postsplice";
c.listener="__kbmethodupdatelisteners";g(c);return n}return[]}),unshift:c(function(){var b=new B(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;if(!0!==g(b)){for(var e=Array.prototype.slice.call(arguments),c=d.length-1+e.length,f=e.length;-1!==c;c--)c<f?d.set(c,e[c]):d.set(c,d[c-e.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";g(b)}return this.length}),getLayer:c(function(b){function d(b){var e=b[0];return void 0===this[e]&&0!==b.length-
1?null:r(this[e])?0!==b.length-1?(b.shift(),d.call(this[e],b)):this[e]:this}b=n(b);return d.call(this,b)}),setLayer:c(function(b){function d(b){var e=b[0];void 0===this[e]&&0!==b.length-1&&(this[e]=N({},this.__kbname,this,this.__kbscopeString+"."+e));return r(this[e])?0!==b.length-1?(b.shift(),d.call(this[e],b)):this[e]:this}b=n(b);return d.call(this,b)}),ignoreCreate:c(function(b){-1===p.indexOf(b)&&p.push(b);return this}),addActionListener:c(function(b,d){var e=this.__kbnonproxy;void 0!==e.__kbref.__kbevents[b]&&
e.__kbref.__kbevents[b].push(d);return this}),removeActionListener:c(function(b,d){var e=this.__kbnonproxy;if(void 0!==e.__kbref.__kbevents[b])for(var g=0,f=e.__kbref.__kbevents[b];g<f;g++)if(e.__kbref.__kbevents[b][g].toString()===d.toString()){e.__kbref.__kbevents[b].splice(g,1);break}return this}),subscribe:c(function(b,d){var e=b.split("."),g=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;void 0===e.__kbsubscribers[g]&&(e.__kbsubscribers[g]=[]);e.__kbsubscribers[g].push(d);
return this}),unsubscribe:c(function(b,d){var e=b.split("."),g=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;if(void 0!==e.__kbsubscribers[g])for(var f=0,c=e.__kbsubscribers[g].length;f<c;f++)if(e.__kbsubscribers[g][f].toString()===d.toString()){e.__kbsubscribers[g].splice(f,1);break}return this}),subscribeDeep:c(function(b,d){function e(b,f){var g=Object.keys(b,"all").filter(function(d){return r.call(b[d])}.bind(b));if(void 0!==b[f]||"*"===f)void 0===b.__kbparentsubscribers[f]&&
(b.__kbparentsubscribers[f]=[]),b.__kbparentsubscribers[f].push(d);for(var c=0,l=g.length;c<l;c++)e(b[g[c]],f)}var g=-1!==b.indexOf("*"),f=b.split(".");f.slice(0,f.indexOf("*"));var c=-1!==f.indexOf("*")?f.slice(f.indexOf("*"),f.length):[],l=1===c.length,n=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):this.__kbnonproxy;g?l?e(f,"*"):(c.shift(),f.subscribeDeep(c.join("."),d)):e(f,n);return this}),unsubscribeDeep:c(function(b,d){function e(b,f){var g=Object.keys(b,"all").filter(function(d){return r.call(b[d])&&
!(b[d]instanceof HTMLElement)}.bind(b));if((void 0!==b[f]||"*"===f)&&void 0!==b.__kbparentsubscribers[f])for(var c=0,l=b.__kbparentsubscribers[f].length;c<l;c++)b.__kbparentsubscribers[f][c].toString()===d.toString()&&b.__kbparentsubscribers[f].splice(c,1);c=0;for(l=g.length;c<l;c++)e(b[g[c]],f)}var g=-1!==b.indexOf("*"),f=b.split(".");f.slice(0,f.indexOf("*"));var c=-1!==f.indexOf("*")?f.slice(f.indexOf("*"),f.length):[],l=1===c.length,n=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):
this.__kbnonproxy;g?l?e(f,"*"):(c.shift(),f.unsubscribeDeep(c.join("."),d)):e(f,n);return this}),callSubscribers:c(function(b,d,e,g,f,c){var l=this.__kbnonproxy;if(void 0!==l.__kbsubscribers[e])for(var n=0,k=l.__kbsubscribers[e].length;n<k;n++)l.__kbsubscribers[e][n].call(this,{key:e,value:g,oldValue:f,stopChange:c,local:d,kbref:b});if(void 0!==l.__kbparentsubscribers[e])for(n=0,k=l.__kbparentsubscribers[e].length;n<k;n++)l.__kbparentsubscribers[e][n].call(this,{key:e,value:g,oldValue:f,stopChange:c,
local:d,kbref:b});if(void 0!==l.__kbsubscribers["*"])for(n=0,k=l.__kbsubscribers["*"].length;n<k;n++)l.__kbsubscribers["*"][n].call(this,{key:e,value:g,oldValue:f,stopChange:c,local:d,kbref:b});if(void 0!==l.__kbparentsubscribers["*"])for(n=0,k=l.__kbparentsubscribers["*"].length;n<k;n++)l.__kbparentsubscribers["*"][n].call(this,{key:e,value:g,oldValue:f,stopChange:c,local:d,kbref:b});return this}),callAllSubscribers:c(function(){function b(b,e,g){for(var f=0,c=e.length;f<c;f++)e[f].call(b,{key:g,
value:b[g],oldValue:b[g],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(d){for(var e=Object.keys(d.__kbsubscribers),g=Object.keys(d.__kbparentsubscribers),f=0,c=e.length;f<c;f++)if(0!==d.__kbsubscribers[e[f]].length)if("*"===e[f])for(var l=0,n=Object.keys(d),k=n.length;l<k;l++)b(d,d.__kbsubscribers[e[f]],n[l]);else b(d,d.__kbsubscribers[e[f]],e[f]);f=0;for(c=g.length;f<c;f++)if(0!==d.__kbparentsubscribers[g[f]].length)if("*"===g[f])for(l=0,n=Object.keys(d),k=n.length;l<k;l++)b(d,d.__kbparentsubscribers[g[f]],
n[l]);else b(d,d.__kbparentsubscribers[g[f]],g[f])})(this.__kbnonproxy);return this}),stopChange:c(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(N.prototype,{addDataListener:c(G("addDataListener","__kblisteners")),removeDataListener:c(H("removeDataListener","__kblisteners")),addDataUpdateListener:c(G("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:c(H("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:c(G("addDataCreateListener",
"__kbcreatelisteners")),removeDataCreateListener:c(H("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:c(G("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:c(H("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:c(G("addDataMethodListener","__kbmethodlisteners")),removeDataMethodListener:c(H("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:c(G("addDataMethodUpdateListener","__kbmethodupdatelisteners")),
removeDataMethodUpdateListener:c(H("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:c(F("addChildDataListener","__kbparentlisteners")),removeChildDataListener:c(y("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:c(F("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:c(y("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:c(F("addChildDataCreateListener","__kbparentcreatelisteners")),
removeChildDataCreateListener:c(y("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:c(F("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:c(y("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return N}}(),X=function(){return function(){function z(t){if("object"===typeof t)for(var u=0,B=t.length;u<B;u++)K_Components[t[u]]?q(t[u],K_Components[t[u]],document.getElementById("script_"+t[u])):z.load(t[u],"component/"+
t[u]+"/"+location.search,q);else"string"===typeof t&&(K_Components[t[u]]?q(t,K_Components[t],document.getElementById("script_"+t)):z.load(t,"component/"+t+"/"+location.search,q))}var q=function(){},u=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});z.getUnknowns=function(q){var z=q.match(u);return z.map(function(q){return q.replace(/[<\/>]/g,"")}).filter(function(q,c){return document.createElement(q)instanceof HTMLUnknownElement&&-1===z.indexOf(q,c+1)&&!K_Components[q]})};z.load=function(q,
u,B){document.head.appendChild(function(c,q,u){var t=document.createElement("script");t.type="text/javascript";t.charset="utf-8";t.async=!0;t.src=q;t.id="script_"+c;t.onload=function(){u(c,K_Components[c],this)};return t}(q,u,B));return z};z.onLoad=function(t){if(void 0===t)return q;q="function"===typeof t?t:q;return z};return z}}(),V=function(){function z(){function q(e,b){var d=e.length,h;for(h=0;h<d&&(e[h](b),void 0===b._stopPropogation);h++);}function u(e,b){var d=e.length,h;for(h=0;h<d&&(b.child=
b.target,b.target=e[h].parent,e[h].func(b),void 0===b._stopPropogation);h++);}function t(e,b){for(var d=e.length;0<d;p++)if(e[p].toString()===b.toString())return!0;return!1}function z(e,b,d,h,g,f,c,l){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=d;this.oldValue=h;this.target=e;this.attr=b;this.arguments=g;this.action=f;this.child=void 0;this.type=c;this.stopChange=l}function B(){this._attrListeners={};this._attrUpdateListeners=
{};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function c(e,b,d,h){var g=e.get,f=e.set,c;return function(e){c=g.call(this);d(this,b,e,c,void 0,this._stopChange)&&f.call(this,e);this._stopChange||h(this,b,e,c);this._stopChange=void 0}}function O(e,b,d,h){var g;return function(f){g=e.value;d(this,b,f,g,arguments,this._stopChange)&&(e.value=
f);this._stopChange||h(this,b,f,g,arguments);this._stopChange=void 0}}function I(e,b,d,h){var g=e.value,f;return function(){d(this,b,null,null,arguments,this._stopChange)&&(f=g.apply(this,arguments));this._stopChange||h(this,b,null,null,arguments,f);this._stopChange=void 0;return f}}function S(e,b,d,g,c){var f=c.style,n=b.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),l,k;return{get:function(){return k},set:function(e){l=k;d(c,b,e,l,void 0,this._stopChange)&&(k=e,f.setProperty(n,e));this._stopChange||
g(c,b,e,l);this._stopChange=void 0},enumerable:!0,configurable:!0}}function M(e,b,d,g){if("function"!==typeof b)return r;var c=-1!==["value","checked"].indexOf(e),f=-1!==y.indexOf(e),k;if(this.toString()!==r.toString())if(d){var l=this.querySelectorAll("*");d=l.length;for(var p,m=0;m<d;m++){p=l[m].attrListeners();if(c||"*"===e)void 0!==l[m].addInputBinding&&l[m].addInputBinding(),void 0!==l[m].addInputBoxBinding&&l[m].addInputBoxBinding();if(f)r.injectStyleProperty(l[m],e),k=g?"_parentStyleUpdateListeners":
"_parentStyleListeners";else{if("*"===e){k=g?"_parentStyleUpdateListeners":"_parentStyleListeners";d=y.length;for(var w=0;w<d;w++)r.injectStyleProperty(l[m],y[w]);void 0===p[k]["*"]&&(p[k]["*"]=[]);p[k]["*"].push({parent:this,func:b})}k=g?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===p[k][e]&&(p[k][e]=[]);p[k][e].push({parent:this,func:b})}}else{p=this.attrListeners();if(f)k=g?"_styleUpdateListeners":"_styleListeners",r.injectStyleProperty(this,e);else{if(c||"*"===e)void 0!==this.addInputBinding&&
this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===e){k=g?"_styleUpdateListeners":"_styleListeners";d=y.length;for(m=0;m<d;m++)r.injectStyleProperty(this,y[m]);void 0===p[k][e]&&(p[k][e]=[]);p[k][e].push(b)}k=g?"_attrUpdateListeners":"_attrListeners"}void 0===p[k][e]&&(p[k][e]=[]);p[k][e].push(b)}else{if(c||"*"===e)for(w=document.querySelectorAll("input, textarea"),d=w.length,m=0;m<d;m++)void 0!==w[m].addInputBinding&&w[m].addInputBinding(),void 0!==w[m].addInputBoxBinding&&
w[m].addInputBoxBinding();if(f){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));d=f.length+1;f.unshift(document.body);for(m=0;m<d;m++)r.injectStyleProperty(f[m],e);k=g?G:n}else{if("*"===e){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));d=f.length+1;c=y.length;f.unshift(document.body);for(m=0;m<d;m++)for(w=0;w<c;w++)r.injectStyleProperty(f[m],y[w]);k=g?G:n;void 0===k[e]&&(k[e]=[]);k[e].push(b)}k=g?A:J}void 0===k[e]&&(k[e]=[]);k[e].push(b)}}function L(e,b,d,g){function c(e,
d){var f=d[e],g=f.length;for(k=0;k<g;k++)f[k].toString()===b.toString()&&f.splice(k,1)}if("function"!==typeof b)return r;["value","checked"].indexOf(e);var f=-1!==y.indexOf(e),k;if(this.toString()!==r.toString())if(d){d=this.querySelectorAll("*");var l=d.length;f?(f=g?"_childStyleUpdateListeners":"_childStyleListeners",c(e,this.attrListeners()[f]),f=g?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===e&&(f=g?"_childStyleUpdateListeners":"_childStyleListeners",c(e,this.attrListeners()[f])),
f=g?"_childAttrUpdateListeners":"_childAttrListeners",c(e,this.attrListeners()[f]),f=g?"_parentAttrUpdateListeners":"_parentAttrListeners");for(k=0;k<l;k++){for(var m=d[k].attrListeners()[f][e],p=m.length,w=0;w<p;w++)m[w].isEqualNode(this)&&m.slice(w,1);if("*"===e)for(listenersStyle=g?"_parentStyleUpdateListeners":"_parentStyleListeners",m=d[k].attrListeners()[f][e],p=m.length,w=0;w<p;w++)m[w].isEqualNode(this)&&m.slice(w,1)}}else f?f=g?"_styleUpdateListeners":"_styleListeners":("*"===e&&(f=g?"_styleUpdateListeners":
"_styleListeners",c(e,this.attrListeners()[f])),f=g?"_attrUpdateListeners":"_attrListeners"),c(e,this.attrListeners()[f]);else f?f=g?G:n:("*"===e&&(f=g?G:n,c(e,f)),f=g?A:J),c(e,f)}function Q(e,b){r.addAttrListener.call(this,e,b,!0);return this}function P(e,b){r.addAttrUpdateListener.call(this,e,b,!0);return this}function C(e,b){r.removeAttrListener.call(this,e,b,!0);return this}function E(e,b){r.removeAttrUpdateListener.call(this,e,b,!0);return this}function D(e,b,d){var g=this.attrListeners();"html"===
b&&(b="innerHTML");"events"===b&&(b="onclick");switch(e){case "attr":if(t(g._attrListeners[b],d))return!0;break;case "attrupdate":if(t(g._attrUpdateListeners[b],d))return!0}return!1}function K(){this._stopChange=!0;return this}function r(){function e(b,e){var d,f=e.length;for(d=0;d<f;d++)-1===b.indexOf(e[d])&&b.push(e[d]);return b}function b(b,e){for(var d=Object.keys(b),f,g,c=0,h=d.length;c<h;c++)if(f=d[c],void 0===e[f])e[f]=b[f].slice();else for(var k=0,n=b[f].length;k<n;k++)g=b[f][k],e[f].push(g)}
function d(d){if(3!==d.target.nodeType&&8!==d.target.nodeType){var f=d.target.attrListeners(),g,c=["value","checked"],h=f._attrListeners,k=f._attrUpdateListeners,m=f._parentAttrListeners;g=f._parentAttrUpdateListeners;var p=!1;if(void 0!==J["*"]||void 0!==A["*"])p=!0;if(!0!==p&&void 0!==h["*"]||void 0!==k["*"]||void 0!==m["*"]||void 0!==g["*"])p=!0;if(!0!==p)for(var v=0;v<c.length;v++)if(void 0!==J[c[v]]||void 0!==A[c[v]]||void 0!==h[c[v]]||void 0!==k[c[v]]||void 0!==m[c[v]]||void 0!==g[c[v]]){p=
!0;break}g=p;c=Object.keys(n);h=Object.keys(G);Object.keys(f._styleListeners);Object.keys(f._styleUpdateListeners);k=Object.keys(f._parentStyleListeners);f=Object.keys(f._parentStyleUpdateListeners);m=[];if(0!==c.length||0!==h.length)m=e(m,c),m=e(m,h);if(0!==m.length&&0!==k.length||0!==f.length)m=e(m,k),m=e(m,f);-1!==m.indexOf("*")&&(m=y);var f=m,c=f.length,H,q,h=[],F,k="outerHTML"===d.attr||"outerText"===d.attr?d.attr:void 0,m=d.target;void 0!==k&&(d.attr="appendChild",d.arguments=[d.target],d.target=
d.target.parentElement);if(g){"appendChild"===d.attr&&3!==d.arguments[0].nodeType&&8!==d.arguments[0].nodeType?(h=Array.prototype.slice.call(d.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==d.arguments[0].tagName&&"TEXTAREA"!==d.arguments[0].tagName||h.unshift(d.arguments[0])):h=Array.prototype.slice.call(d.target.querySelectorAll("input,textarea"));F=h.length;for(var t=0;t<F;t++)void 0!==h[t].addInputBinding&&h[t].addInputBinding(),void 0!==h[t].addInputBoxBinding&&h[t].addInputBoxBinding()}"appendChild"===
d.attr&&"#text"!==d.arguments[0].nodeName&&"#comment"!==d.arguments[0].nodeName?(h=Array.prototype.slice.call(d.arguments[0].querySelectorAll("*")),h.unshift(d.arguments[0])):h=Array.prototype.slice.call(d.target.querySelectorAll("*"));g=d.target.__kb._parentAttrListeners;p=d.target.__kb._parentAttrUpdateListeners;v=d.target.__kb._parentStyleListeners;H=d.target.__kb._parentStyleUpdateListeners;F=h.length;for(t=0;t<F;t++){if(0!==c)for(q=0;q<c;q++)r.injectStyleProperty(h[t],f[q]);q=h[t].attrListeners();
b(g,q._parentAttrListeners);b(p,q._parentAttrUpdateListeners);b(v,q._parentStyleListeners);b(H,q._parentStyleUpdateListeners)}void 0!==k&&(d.attr=k,d.target=m,d.arguments=[])}}function c(b){var d=b.target.attributes[b.arguments[0]],e="setAttribute"===b.attr?b.arguments[1]:"";f(b.target,b.arguments[0],e,void 0!==d?d.value:"",[e])||b.preventDefault()}function k(b){var d=b.target.attributes[b.arguments[0]],e="setAttribute"===b.attr?b.arguments[1]:"";p(b.target,b.arguments[0],e,void 0!==d?d.value:"",
[e])}r.injectPrototypes(Node,"Node");r.injectPrototypes(Element,"Element");r.injectPrototypes(HTMLElement,"HTMLElement");r.injectPrototypes(HTMLInputElement,"HTMLInputElement");r.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");r.injectPrototypes(Document,"Document");var f=m,p=g;r.addAttrUpdateListener("appendChild",d);r.addAttrUpdateListener("removeChild",d);r.addAttrUpdateListener("innerHTML",d);r.addAttrUpdateListener("outerHTML",d);r.addAttrUpdateListener("innerText",d);r.addAttrUpdateListener("outerText",
d);r.addAttrUpdateListener("textContent",d);r.addAttrListener("setAttribute",c);r.addAttrListener("removeAttribute",c);r.addAttrUpdateListener("setAttribute",k);r.addAttrUpdateListener("removeAttribute",k);return r}var J={},A={},n={},G={},H={},F="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),y=Object.getOwnPropertyNames(document.documentElement.style),k=Object.keys(HTMLElement.prototype).filter(function(e){return 0===
e.indexOf("on")}).concat(["addEventListener","removeEventListener"]),p,m=function(e,b,d,g,c,f){d=new z(e,b,d,g,c,void 0,"set",f);void 0!==e.__kb&&(g=e.__kb._attrListeners,c=e.__kb._styleListeners,f=e.__kb._parentAttrListeners,e=e.__kb._parentStyleListeners,void 0!==g[b]&&q(g[b],d),void 0===d._stopPropogation&&void 0!==c[b]&&q(c[b],d),void 0===d._stopPropogation&&void 0!==g["*"]&&(q(g["*"],d),void 0===d._stopPropogation&&q(c["*"],d)),void 0===d._stopPropogation&&void 0!==f[b]&&u(f[b],d),void 0===d._stopPropogation&&
void 0!==e[b]&&u(e[b],d),void 0===d._stopPropogation&&void 0!==f["*"]&&(u(f["*"],d),void 0===d._stopPropogation&&u(e["*"],d)));void 0===d._stopPropogation&&void 0!==J[b]&&q(J[b],d);void 0===d._stopPropogation&&void 0!==n[b]&&q(n[b],d);void 0===d._stopPropogation&&void 0!==J["*"]&&(q(J["*"],d),void 0===d._stopPropogation&&q(n["*"],d));return void 0!==d._preventDefault?!1:!0},g=function(e,b,d,g,c,f){d=new z(e,b,d,g,c,f,"update");void 0!==e.__kb&&(g=e.__kb._attrUpdateListeners,c=e.__kb._styleUpdateListeners,
f=e.__kb._parentAttrUpdateListeners,e=e.__kb._parentStyleUpdateListeners,void 0!==g[b]&&q(g[b],d),void 0===d._stopPropogation&&void 0!==c[b]&&q(c[b],d),void 0===d._stopPropogation&&void 0!==g["*"]&&(q(g["*"],d),void 0===d._stopPropogation&&q(c["*"],d)),void 0===d._stopPropogation&&void 0!==f[b]&&u(f[b],d),void 0===d._stopPropogation&&void 0!==e[b]&&u(e[b],d),void 0===d._stopPropogation&&void 0!==f["*"]&&(u(f["*"],d),void 0===d._stopPropogation&&u(e["*"],d)));void 0===d._stopPropogation&&void 0!==
A[b]&&q(A[b],d);void 0===d._stopPropogation&&void 0!==G[b]&&q(G[b],d);void 0===d._stopPropogation&&void 0!==A["*"]&&(q(A["*"],d),void 0===d._stopPropogation&&q(G["*"],d));return void 0!==d._preventDefault?!1:!0};r.injectPrototypeProperty=function(e,b,d,h,k){var f=e.prototype,n=Object.getOwnPropertyDescriptor(f,b);d=d||e.toString().split(/\s+/)[1].split("{")[0].replace("()","");var l=H[d];h=h||m;k=k||g;void 0===f.attrListeners&&(f={},f.attrListeners=function(){void 0===this.__kb&&(this.__kb=new B);
return this.__kb}.bind(f),f.addAttrListener=r.addAttrListener,f.addAttrUpdateListener=r.addAttrUpdateListener,f.addChildAttrListener=Q,f.addChildAttrUpdateListener=P,f.hasListener=D,f.removeAttrListener=r.removeAttrListener,f.removeAttrUpdateListener=r.removeAttrUpdateListener,f.removeChildAttrListener=C,f.removeChildAttrUpdateListener=E,f.stopChange=K);void 0===l&&(H[d]={obj:e,proto:f,descriptors:{},set:void 0,update:void 0},l=H[d],l.set=h,l.update=k);void 0===l.descriptors[b]&&(l.descriptors[b]=
n);n.configurable&&(void 0!==n.set?Object.defineProperty(f,b,{get:n.get,set:c(n,b,h,k),enumerable:!0,configurable:!0}):"function"===typeof n.value?Object.defineProperty(f,b,{value:I(n,b,h,k),writable:!0,enumerable:!0,configurable:!0}):void 0!==n.value&&Object.defineProperty(f,b,{get:function(){return n.value},set:O(n,b,h,k),enumerable:!0,configurable:!0}));return r};r.injectStyleProperty=function(e,b,d,c){var k=e.style,f=Object.getOwnPropertyDescriptor(k,b),n=e.attrListeners().injectedStyle;d=d||
m;c=c||g;void 0===n&&(e.attrListeners().injectedStyle={obj:e,proto:k,descriptors:{},set:void 0,update:void 0},e.attrListeners().injectedStyle.set=d,e.attrListeners().injectedStyle.update=c,n=e.attrListeners().injectedStyle);void 0===n.descriptors[b]&&(n.descriptors[b]=f);f.configurable&&Object.defineProperty(k,b,S(f,b,d,c,e));return r};r.injectPrototypes=function(e,b,d,c){var k=e.prototype;b=b||e.toString().split(/\s+/)[1].split("{")[0].replace("()","");var f=H[b],n=Object.getOwnPropertyNames(k);
d=d||m;c=c||g;var l;void 0===k.attrListeners&&(k.attrListeners=function(){void 0===this.__kb&&(this.__kb=new B);return this.__kb},k.addAttrListener=r.addAttrListener,k.addAttrUpdateListener=r.addAttrUpdateListener,k.addChildAttrListener=Q,k.addChildAttrUpdateListener=P,k.removeAttrListener=r.removeAttrListener,k.removeAttrUpdateListener=r.removeAttrUpdateListener,k.removeChildAttrListener=C,k.removeChildAttrUpdateListener=E,k.hasListener=D,k.stopChange=K);void 0===f&&(H[b]={obj:e,proto:k,descriptors:{},
set:void 0,update:void 0},f=H[b],f.set=d,f.update=c);l=H[b].descriptors;for(c=0;c<n.length;c+=1)void 0===l[n[c]]&&r.injectPrototypeProperty(e,n[c],b,d,g);if(-1!==n.indexOf("value")){var p=function(b){var d,e,g;if("checkbox"===this.type||"radio"===this.type)d=!0;e=d?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){g=d?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;d&&(f.set(this,"checked",this.checked,e)?f.update(this,
"checked",this.checked,e):l.checked.set.call(this,e));this.value!==g&&(this.value=g);f.set(this,"value",this.value,e)?f.update(this,"value",this.value,e):l.value.set.call(this,e)}.bind(this),0)};k.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",p)};k.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",p)};k.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",
p)};k.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",p)}}return r};r.addAttrListener=function(e,b,d){if("html"===e){e=0;for(var g=F.length;e<g;e++)M.call(this,F[e],b,d,!1)}else if("events"===e)for(e=0,g=k.length;e<g;e++)M.call(this,k[e],b,d,!1);else M.call(this,e,b,d,!1);return this};r.addAttrUpdateListener=function(e,b,d){if("html"===e){e=0;for(var g=F.length;e<g;e++)M.call(this,F[e],b,d,!0)}else if("events"===e)for(e=0,g=k.length;e<g;e++)M.call(this,
k[e],b,d,!0);else M.call(this,e,b,d,!0);return this};r.removeAttrListener=function(e,b,d){if("html"===e){e=0;for(var g=F.length;e<g;e++)L.call(this,F[e],b,d,!1)}else if("events"===e)for(e=0,g=k.length;e<g;e++)L.call(this,k[e],b,d,!1);else L.call(this,e,b,d,!1);return this};r.removeAttrUpdateListener=function(e,b,d){if("html"===e){e=0;for(var g=F.length;e<g;e++)L.call(this,F[e],b,d,!0)}else if("events"===e)for(e=0,g=k.length;e<g;e++)L.call(this,k[e],b,d,!0);else L.call(this,e,b,d,!0);return this};
r.hasListener=function(e,b,d){"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(e){case "attr":if(t(J[b],d))return!0;break;case "attrupdate":if(t(A[b],d))return!0}return!1};r.injectedPrototypes=function(){return H};return r}"function"===typeof define&&define.amd&&define("KB",z);return z}(),Y=function(z){return function(){function q(c){document.createDocumentFragment();this.name=c.tagName.toLowerCase();this.template=K[this.name]||'<div class="missing_component">Unknown Component</div>';
this.node=c;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name}function u(c,G,H,q){return{value:c,writable:!!G,enumerable:!!q,configurable:!!H}}function t(){return new RegExp("(\\"+C.split("").join("\\")+")(.*?)(\\"+E.split("").join("\\")+")","g")}function N(c){return new RegExp("("+C.split("").join("\\")+">"+c+"(.*?)"+E.split("").join("\\")+")","g")}function B(c){return c.split(new RegExp("("+
C.split("").join("\\")+")(.*?)("+E.split("").join("\\")+")","g")).map(function(c,n,q){return q[n-1]===C?C+c+E:c}).filter(function(c,n,q){return 0!==c.length&&c!==C&&c!==E&&0!==c.length})}function c(c){return c.replace(new RegExp("["+C+E+"]","g"),"").replace(new RegExp("\\"+D.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function O(c){return-1!==c.indexOf(D)?c.replace(new RegExp("["+E+"]","g"),"").replace(new RegExp("(.*?)(\\"+D.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[]}function I(c){return c.reduce(function(c,
n){n.match(/(\()(.*?)(\))/)?c.vmFilters[c.vmFilters.length]=n.replace(/[\(\)]/g,""):n.match(/(\[)(.*?)(\])/)?-1!==n.indexOf("~")?c.model[c.model.length]=n.replace(/[\[\]\~]/g,""):-1!==n.indexOf("+")?c.local[c.local.length]=n.replace(/[\[\]\+]/g,""):c.session[c.session.length]=n.replace(/[\[\]\-]/g,""):c.filters[c.filters.length]=n;return c},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function S(c){return-1!==c.indexOf("for")?c.replace(new RegExp("["+C+E+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,
"").split(/for(.*?)loop/).filter(function(c){return 0!==c.length}):[]}function M(c){if(0!==c.length){for(var q="",r=0,t=c.length;r<t;r++)q="string"===typeof c[r]?q+c[r]:void 0===c[r]._data?q+c[r].text:q+L(c[r]._data.get(c[r].key),c[r].filters.filters,c[r]._data.filters);return q}return L(c[0]._data.get(c[0].key),c[0].filters.filters,c[0]._data.filters)}function L(c,q,r){for(var t=0,u=q.length;t<u;t++)r[q[t]]&&(c=r[q[t]](c));return c}function Q(c,q,r,t){for(var u=0,k=q.length;u<k;u++)if(r[q[u]])r[q[u]](c,
t);return c}function P(){function c(g,e){this.text=g;this.key=e;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();this.filters=I(O(g));this.component="for"===this.type?S(g)[1]:void 0;this.id=0}function q(c,e){for(var b=0,d=e.length;b<d;b++)c.stopChange().appendChild(e[b])}function r(c){if(c&&window.model)return window.model.get(c[0])}function t(c,e){if(e&&0!==e.length&&window.model)for(var b=0,d=e.length;b<d;b++)window.model.set(e[b],c)}function y(c){if(c&&window.localStorage)return localStorage.getItem(c[0])}
function k(c,e){if(c&&0!==c.length&&window.localStorage)for(var b=0,d=c.length;b<d;b++)localStorage.setItem(c[b],e)}function p(c){if(c&&window.sessionStorage)return sessionStorage.getItem(c[0])}function m(c,e){if(c&&0!==c.length&&window.sessionStorage)for(var b=0,d=c.length;b<d;b++)sessionStorage.setItem(c[b],e)}Object.defineProperties(c.prototype,{addPointer:u(function(c){for(var e=document.createElement(this.component),b=Q(this._data.getLayer(this.key),this.filters.filters,this._data.filters,c)[c],
d=0,h=Object.keys(b,"all"),k=h.length;d<k;d++)e.k_post||(e.k_post={}),e.k_post[h[d]]=b,e.k_post.x=c,e.k_post.loopid=this.component+"_"+c;c>=this.node.children.length?this.node.stopChange().appendChild(e):this.node.stopChange().insertBefore(e,this.node.children[c]);c={event:"loopitem",node:e,parent:this.node};e=A[c.event];b=0;for(d=e.length;b<d;b++)e[b](c);return this}),removePointer:u(function(c){for(var e=this.node.children[c].kb_maps,b=0,d=Object.keys(this.node.children[c].kb_viewmodel.pointers),
h=d.length;b<h;b++){var k=e[d[b]];if(k)for(var f=0,n=k.length;f<n;f++)k[f].unsync(),k[f]=null,delete k[f]}this.node.stopChange().removeChild(this.node.children[c]);b=0;for(h=this.node.children.length;b<h;b++)this.node.children[b].kb_viewmodel.x=b,c=this.node.children[b].kb_viewmodel.loopid,this.node.children[b].kb_viewmodel.loopid=c.substring(0,c.lastIndexOf("_")+1)+b;return this}),reapplyPointer:u(function(c){for(var e=this.node.children[c].kb_maps,b=this.node.children[c].kb_viewmodel.loopid,d=0,
h=Object.keys(this.node.children[c].kb_viewmodel.pointers),k=h.length;d<k;d++){var f=e[h[d]];if(void 0!==f)for(var n=0,l=f.length;n<l;n++)f[n].reconnect()}this.node.children[c].kb_viewmodel.x=c;this.node.children[c].kb_viewmodel.loopid=b.substring(0,b.lastIndexOf("_")+1)+c;return this}),connect:u(function(c){var e=this;this._data=c;"for"!==this.type?(this.dataListener=function(b){"delete"===b.event?e.unsync():e.setDom(b.value)},c.getLayer(this.key).addDataUpdateListener(this.localKey,this.dataListener),
1===this.bindText.length&&(this.domListener=function(b){e.setData(b.value)},this.node.addAttrUpdateListener(this.listener,this.domListener))):(this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");e.setLoop(b.key,b.event)},c.getLayer(this.key).addDataMethodUpdateListener(this.dataListener));"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,r(this.filters.model)):this.filters.session&&0!==this.filters.session.length?
this._data.stopChange().set(this.key,p(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,y(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",q(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=M(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(this.node.stopChange()[this.attr]=this._data.get(this.key))));
return this}),reconnect:u(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:u(function(){this.node.stopChange().innerHTML="";for(var c=0,e=Q(this._data.get(this.key),this.filters.filters,this._data.filters).length;c<
e;c++)this.setLoop(c,"create");return this}),setData:u(function(c){c=L(c,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,c);t(this.filters.model,c);m(this.filters.session,c);k(this.filters.local,c);return this}),setDom:u(function(c){t(this.filters.model,c);m(this.filters.session,c);k(this.filters.local,c);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=
this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",q(this.node,this._data.innerHTML)):this.local.stopChange()[this.localAttr]=M(this.bindText);return this}),setLoop:u(function(c,e){switch(e){case "create":this.addPointer(c);break;case "delete":this.removePointer(c);break;case "set":this.reapplyPointer(c);break;default:if("push"!==e)for(var b=0,d=this._data.getLayer(this.key).length;b<d;b++)this.reapplyPointer(b)}return this}),bindMaps:u([]),unsync:u(function(){this._data=
this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this})});return c}var C="{{",E="}}",D="|",K={},r=/(<\/.*?>)/g;z().call();var J=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}),A={loopitem:[]};q.start=function(c){if(void 0===c)return C;C="string"===typeof c?c:C;return q};q.end=function(c){if(void 0===c)return E;E="string"===typeof c?c:E;return q};q.pipe=function(c){if(void 0===c)return D;
D="string"===typeof c?c:D;return q};q.getUnknown=function(c){var q=c.match(r).map(function(c){return c.replace(/[<\/>]/g,"")});q.filter(function(c,n){return document.createElement(c)instanceof HTMLUnknownElement&&-1===q.indexOf(c,n+1)&&void 0===K[c]});return q};q.isRegistered=function(c){return void 0!==K[c]};q.register=function(c,r){void 0===K[c]?(K[c]=r,q.getUnknown(r)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",c);return this};q.addEventListener=
function(c,r){void 0!==A[c]?A[c].push(r):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",c);return q};q.removeEventListener=function(c,r){if(void 0!==A[c])for(var t=0,u=A[c].length;t<u;t++)A[c][t].toString()===r.toString()&&A[c].splice(t,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",c);return q};q.insert=function(n,q){for(var r=new RegExp("("+C.split("").join("\\")+">(.*?)"+E.split("").join("\\")+
")","g"),t,u,k;t=r.exec(n);)u=c(t[1]).replace(">",""),t=O(t[1]),(k=q.get(u))&&(n=n.replace(N(u),L(k,t,q.filters)));return n};Object.defineProperties(q.prototype,{register:u(q.register),isRegistered:u(q.isRegistered),getUnknown:u(q.getUnknown),map:u(function(n){function q(r,u){for(var y=0,k=r.length;y<k;y++)if(void 0===r[y].kb_maps&&8!==r[y].nodeType){r[y].kb_mapper=n;r[y].kb_maps=u;if(3===r[y].nodeType){var p=r[y],m=u,g=p.textContent;if(g.match(t())){var e=B(g),b=P();b.prototype.type=g.match(new RegExp("(\\"+
C.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+E.split("").join("\\")+")","g"))?"for":"text";b.prototype.text=g;b.prototype.bindText=e;b.prototype.listener="textContent";b.prototype.attr="textContent";b.prototype.localAttr="textContent";b.prototype.local=p;b.prototype.node=p.parentElement;b.prototype.binds=m;p=0;for(g=e.length;p<g;p++)if(0===e[p].indexOf(C)){var d="for"===b.prototype.type?S(e[p])[0]:c(e[p]),h=new b(e[p],d);void 0===m[d]&&(m[d]=[]);h.bindText[p]=h;h.bindMaps.push(h);h.id=
m[d].length;m[d].push(h)}}}else for(m=r[y],e=u,b=Array.prototype.slice.call(m.attributes),p=m instanceof HTMLUnknownElement,g=0,d=b.length;g<d;g++)if(b[g].value.match(t())){var h=B(b[g].value),v=P();v.prototype.type=p?"component":"attribute";v.prototype.text=b[g].value;v.prototype.bindText=h;v.prototype.isEvent=-1!==J.indexOf(b[g].name);v.prototype.isInput="input"===m.tagName.toLowerCase();v.prototype.isRadio=v.prototype.isInput?-1!==["radio","checkbox"].indexOf(m.type):!1;v.prototype.listener=b[g].name;
v.prototype.attr=b[g].name;v.prototype.localAttr="value";v.prototype.local=b[g];v.prototype.node=m;v.prototype.binds=e;v.prototype.isEvent&&m.removeAttribute(b[g].name);for(var f=0,z=h.length;f<z;f++)if(0===h[f].indexOf(C)){var l=c(h[f]),x=new v(h[f],l);void 0===e[l]&&(e[l]=[]);x.bindText[f]=x;x.bindMaps.push(x);x.id=e[l].length;e[l].push(x)}}r[y].childNodes&&0!==r[y].childNodes.length&&(u=q(r[y].childNodes,u))}return u}return q(n.childNodes,{})}),insert:u(q.insert)});return q}}(V),Z=function(){return function(){function z(t){0===
t.length&&(t=q);document.body.innerHTML="<"+t+"></"+t+">";u(t);return z}var q="",u=function(){};z.base=function(t){if(void 0===t)return q;q="string"===typeof t?t:q;return z};z.onChange=function(q){if(void 0===q)return u;u="function"===typeof q?q:u;return z};z.watch=function(q){window.onhashchange=q?function(){z(window.location.hash.replace("#",""))}:null;return z};return z}}(),U=function(z,q,u,t,N){return function(u){function c(k,p,m,g){function e(b,c,d,e,f){for(var g=C({},b),h=0,k=Object.keys(c.prototype),
l=k.length;h<l;h++)g.__proto__[k[h]]=c.prototype[k[h]];h=0;k=Object.keys(e);for(l=k.length;h<l;h++)-1!==H.indexOf(k[h])?Object.defineProperty(g,k[h],I(e[k[h]],"filters"!==k[h])):e.pointers?void 0===e.pointers[k[h]]&&g.set(k[h],e[k[h]]):g.set(k[h],e[k[h]]);if(e.pointers)for(g.pointers||Object.defineProperty(g,"pointers",I({},!1,!0)),h=0,k=Object.keys(e.pointers),l=k.length;h<l;h++)g.pointers[k[h]]=e.pointers[k[h]],g.addPointer(g.pointers[k[h]].point,g.pointers[k[h]].key,k[h]);c.apply(g,d);h=0;k=Object.keys(f);
for(l=k.length;h<l;h++)-1!==H.indexOf(k[h])?Object.defineProperty(g,k[h],I(f[k[h]],"filters"!==k[h])):f.pointers?void 0===f.pointers[k[h]]&&g.set(k[h],f[k[h]]):g.set(k[h],f[k[h]]);if(f.pointers)for(g.pointers||Object.defineProperty(g,"pointers",I({},!1,!0)),h=0,k=Object.keys(f.pointers),l=k.length;h<l;h++)g.pointers[k[h]]=f.pointers[k[h]],g.addPointer(g.pointers[k[h]].point,g.pointers[k[h]].key,k[h]);h=0;k=Object.keys(g.filters);for(l=k.length;h<l;h++)g.filters[k[h]]=g.filters[k[h]].bind(g);if(g.sessionStorage){if(c=
sessionStorage.getItem(g.id||b))for(c=JSON.parse(c),h=0,k=Object.keys(c),l=k.length;h<l;h++)g.set(k[h],c[k[h]]);else sessionStorage.setItem(g.id||b,g.stringify());g.addChildDataUpdateListener("*",function(){sessionStorage.setItem(g.id||b,g.stringify())})}if(g.localStorage){if(c=localStorage.getItem(g.id||b))for(c=JSON.parse(c),h=0,k=Object.keys(c),l=k.length;h<l;h++)g.set(k[h],c[k[h]]);else localStorage.setItem(g.id||b,g.stringify());g.addChildDataUpdateListener("*",function(){localStorage.setItem(g.id||
b,g.stringify())})}g.store&&r.set(g.id||b,g);return g}function b(b,c,d){b.kb_viewmodel=d;c.wrapper.innerHTML=D.insert(c.template,d);var e=c.maps=c.map(c.wrapper);c.wrapper.kb_maps=e;Object.keys(e).forEach(function(b){e[b].forEach(function(b){switch(b.type){case "for":b.connect(d).createloop();break;case "component":b.connect(d).unsync();break;default:b.connect(d)}})});c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,c.wrapper)}function d(b){b=b.querySelectorAll("*");for(var d=0,e=b.length;d<
e;d++)b[d]instanceof HTMLUnknownElement&&c(b[d])}function h(c,g){f=new D(g,!0);Object.defineProperty(f.wrapper,"__kbcomponenttree",I(g.kb_mapper?g.kb_mapper.__kbcomponenttree.slice():[]));g.parentElement.replaceChild(f.fragment,g);p.unshift(f.wrapper);b(f.wrapper,f,e(c,J[c],p,l,u));-1===f.wrapper.__kbcomponenttree.indexOf(c)||f.wrapper.kb_viewmodel.multiple?(f.wrapper.__kbcomponenttree.push(c),f.wrapper.className+=" "+f.wrapper.kb_viewmodel.local,f.wrapper.className+=" "+f.wrapper.kb_viewmodel.id,
f.wrapper.className+=f.wrapper.kb_viewmodel.loopid?" "+f.wrapper.kb_viewmodel.loopid:"",f.wrapper.kb_viewmodel.subscribeDeep("*",function(b){var c=this.__kbref.local,d=this.__kbref.id,e=this.__kbref.loopid,f=this.__kbscopeString+(0!==this.__kbscopeString.length?".":"")+b.key;if(n[c]&&n[c][f])for(var g=0,h=n[c][f].length;g<h;g++)n[c][f][g](b);if(n[d]&&n[d][f])for(g=0,h=n[d][f].length;g<h;g++)n[d][f][g](b);if(n[e]&&n[e][f])for(g=0,h=n[e][f].length;g<h;g++)n[e][f][g](b)}).callAllSubscribers(),d(f.wrapper)):
(console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",c),console.error("Recursive Component %o on %o",f.wrapper,f.wrapper.parentElement),f.wrapper.parentElement.removeChild(f.wrapper))}var q=k.tagName.toLowerCase(),f,t=Object.keys(HTMLElement.prototype).filter(function(b){return 0===
b.indexOf("on")}),l={},u={};void 0===p&&(p=[]);m&&O(m,l);Object.defineProperty(l,"local",I(l.local||"local_"+q+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(l,"id",I(l.id||"id_"+q+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(l,"filters",I(l.filters||{},!1,!1,!0));"function"!==typeof l.onFinish&&(l.onFinish=function(){});Object.defineProperty(l,"onFinish",I(l.onFinish,!0,!1,!0));"function"!==typeof l.listen&&(l.listen=M);Object.defineProperty(l,
"listen",I(l.listen,!0,!1,!0));"function"!==typeof l.unlisten&&(l.unlisten=S);Object.defineProperty(l,"unlisten",I(l.unlisten,!0,!1,!0));"function"!==typeof l.alert&&(l.alert=L);Object.defineProperty(l,"alert",I(l.alert,!0,!1,!0));"string"===typeof l.sessionStorage&&(l.sessionStorage="true"===l.sessionStorage);Object.defineProperty(l,"sessionStorage",I(void 0!==l.sessionStorage?l.sessionStorage:!1,!0,!1,!0));"string"===typeof l.localStorage&&(l.localStorage="true"===l.localStorage);Object.defineProperty(l,
"localStorage",I(void 0!==l.localStorage?l.localStorage:!1,!0,!1,!0));"string"===typeof l.store&&(l.store="true"===l.store);Object.defineProperty(l,"store",I(void 0!==l.store?l.store:!1,!0,!1,!0));"string"===typeof l.multiple&&(l.multiple="true"===l.multiple);Object.defineProperty(l,"multiple",I(void 0!==l.multiple?l.multiple:!1,!0,!1,!0));g&&O(g,u);u.innerHTML=Array.prototype.slice.call(k.childNodes);m=0;for(g=k.attributes.length;m<g;m++)u[k.attributes[m].name]=k.attributes[m].value;m=0;for(g=t.length;m<
g;m++)k[t[m]]&&(u[t[m]]=k[t[m]]);k.k_post&&O(k.k_post,u);c.isRegistered(q)||k.kb_isLoading?c.isRegistered(q)&&h(q,k):(c.loadWaitList(q,function(b,c){h(q,k)}),c.loadWaitList(q).loading||(c.loadWaitList(q).loading=!0,P(q)))}function O(c,p){var m=Object.keys(c);p.pointers||Object.defineProperty(p,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var g=0,e=m.length;g<e;g++)if(C.prototype.isObservable(c,m[g]))p.pointers[m[g]]={key:c.__kbscopeString.split(".").pop(),point:c.__kbImmediateParent};
else if(C.prototype.isMixed(c[m[g]]))p.pointers[m[g]]={key:c[m[g]].__kbscopeString.split(".").pop(),point:c[m[g]].__kbImmediateParent};else if(C.prototype.isObject(c[m[g]]))for(var b=0,d=Object.keys(c[m[g]]);b<e;b++)p[m[g]][d[b]]=c[m[g]][d[b]];else if(C.prototype.isArray(c[m[g]]))for(b=0;b<e;b++)p[m[g]][b]=c[m[g]][b];else p[m[g]]=c[m[g]]}function I(c,p,m,g){return{value:c,writable:!!p,enumerable:!!g,configurable:!!m}}function S(c,p,m){if(2===arguments.length)if(m=p.bind(this),p=c,A[p])for(var g=0,
e=A[p].length;g<e;g++)A[p][g].toString()===m.toString()&&A[p].splice(g,1);else console.error("no listeners exists by key %o",p);else if(m=m.bind(this),n[c]&&n[c][p])for(g=0,e=n[c][p].length;g<e;g++)n[c][p].toString()===m.toString()&&n[c][p].splice(g,1);return this}function M(c,p,m){if(2===arguments.length)m=p.bind(this),p=c,A[p]||(A[p]=[]),A[p].push(m);else if(m=m.bind(this),n[c]||(n[c]={}),n[c][p]||(n[c][p]=[]),n[c][p].push(m),document.querySelector("."+c)){var g=n[c][p],e=document.querySelector("."+
c).kb_mapper.kb_viewmodel,b=e.getLayer(p),d=p.split(".").pop(),h=b[d];g[g.length-1]({key:d,value:h,oldValue:h,local:b,kbref:e,onChange:!1,initial:!0})}return this}function L(c,p){if(A[c])for(var m=0,g=A[c].length;m<g;m++)A[c][m](p);return this}function Q(){if(!document.querySelector('meta[name="viewport"]')){var k=document.createElement("meta");k.name="viewport";k.content="width=device-width, initial-scale=1.0";document.head.appendChild(k)}c.device||(c.device={});c.device.type=c.detectDevice();c.device.orientation=
c.detectOrientation();c.device.browser=c.detectBrowser();c.device.screenSize=c.detectScreenSize();c.device.orientationSize=c.detectScreenOrientation();c.device.keyboard="desktop"!==c.device.type?window.innerHeight<screen.height-.4*screen.height:!1;document.body.className=c.device.type+" "+c.device.orientation+(c.device.keyboard?" keyboard":"")+" "+c.device.browser+" "+c.device.screenSize+" "+c.device.orientationSize}window.K_Components||(window.K_Components={});var P=q().onLoad(function(k,p){var m=
"<style>"+unescape(p.prototype.k_css)+"</style>"+unescape(p.prototype.k_html);c.register(k,p,m,p.prototype.cms);c.loadWaitList(k).forEach(function(c){c(k,p)});c.loadWaitList(k,"clear")}),C=z(),E=u||{},D=t().addEventListener("loopitem",function(k){var p=k.node.tagName.toLowerCase();c.isRegistered(p)||k.node.kb_isLoading?c.isRegistered(p)&&c(k.node):(k.node.kb_isLoading=!0,c.loadWaitList(p,function(m,g){c(k.node)}),c.loadWaitList(p).loading||(c.loadWaitList(p).loading=!0,P(p)))}),K=N().base(void 0!==
E.base?E.base:"default").watch(!0).onChange(function(k){c(document.querySelector(k))}),r=C({},"Model"),J={},A={},n={},G=function(){return window.location.search.replace("?","").split("&").filter(function(c){return 0!==c.length}).reduce(function(c,p){c[p.split("=")[0]]=p.split("=")[1];return c},{})}(),H="id filters class sessionStorage localStorage store component multiple".split(" "),F={},y;c.detectDevice=function(){return navigator.userAgent.toLowerCase().match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|[^a-z]rim[^a-z]|sonyericsson|nokia|[^a-z]mib[^a-z])/)?
"mobile":navigator.userAgent.toLowerCase().match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?"tablet":"desktop"};c.detectBrowser=function(){var c=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),p="undefined"!==typeof InstallTrigger,m=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),g=!!document.documentMode,e=
!g&&!!window.StyleMedia,b=!!window.chrome&&!!window.chrome.webstore;return c?"opera":p?"firefox":m?"safari":b?"chrome":g?"ie":e?"edge":"unknown"};c.detectOrientation=function(){return screen.width>screen.height?"landscape":screen.height>screen.width?"portrait":"square"};c.detectScreenOrientation=function(){return window.innerWidth>window.innerHeight?"landscape-size":window.innerHeight>window.innerWidth?"portrait-size":"square-size"};c.detectScreenSize=function(){return 1280>("landscape"===this.detectOrientation()?
window.innerWidth:window.innerHeight)?750>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?"mobile-size":"tablet-size":"desktop-size"};window.addEventListener("resize",Q);document.body?Q():document.addEventListener("DOMContentLoaded",function(){Q()});c.register=function(k,p,m,g){D.register(k,m);J[k]=p;return c};c.isRegistered=function(c){return void 0!==J[c]&&D.isRegistered(c)};c.registered=function(){return Object.keys(J)};c.loadWaitList=function(k,p){if("undefined"===
typeof p&&k)return F[k];if(k){if(void 0===F[k]||"clear"===p){var m=void 0===F[k]?!1:!!F[k].loading;F[k]=[];F[k].loading=m}"function"===typeof p&&F[k].push(p)}return c};c.localRouting=function(k){k?(y=Node.prototype.appendChild,Node.prototype.appendChild=function(c){if("script"===c.nodeName.toLowerCase()){c.src=c.src.substring(0,-1!==c.src.indexOf("?")?c.src.indexOf("?"):c.src.length);var k=c.src.match(/(.*?component\/)/);k&&(G.env||(G.env="prod"),"dev"===G.env&&(G.env="qa"),k=c.src.replace(k[0],"").replace(/[\/\s]/g,
""),c.src=(void 0!==E.prefix?E.prefix:"")+"/components/"+k+"/build/"+G.env+"/"+k+(G.debug&&"prod"!==G.env?"":".min")+".js",arguments[0]=c)}return y.apply(this,arguments)}):y&&(Node.prototype.appendChild=y,y=null);return c};c.hashRouting=function(c){c&&(document.body?K(window.location.hash.replace("#","")):document.addEventListener("DOMContentLoaded",function(){K(window.location.hash.replace("#",""))}));return this};return c}}(W,X,V,Y,Z);"undefined"!==typeof window&&"undefined"!==typeof window.define&&
"undefined"!==typeof window.require?define([],function(){return U}):"undefined"!==typeof module&&(module.exports=U);return U}();
