var Konnekt=function(){var W=function(){return function(A,m,v,t){function O(b,c,f,p){b=void 0===b?{}:b;var g={},h=window.Proxy?new Proxy(g,{set:M,deleteProperty:Q}):g,e=Object.keys(b,"all");Object.defineProperties(g,{__kbname:d("string"===typeof c?c:"default",!0,!0),__kbref:d(f?f.__kbref||f:h,!0,!0),__kbscopeString:d(p||"",!0,!0),__kbImmediateParent:d(f||null,!0,!0),__kbsubscribers:d({}),__kbparentsubscribers:d({}),__kblisteners:d({}),__kbupdatelisteners:d({}),__kbparentlisteners:d({}),__kbparentupdatelisteners:d({}),
__kbcreatelisteners:d([]),__kbdeletelisteners:d([]),__kbparentcreatelisteners:d([]),__kbparentdeletelisteners:d([]),__kbmethodlisteners:d([]),__kbmethodupdatelisteners:d([]),__kbpointers:d({}),__kbevents:d(q),length:d(0,!0),__kbnonproxy:d(g,!1,!0),__kbproxy:d(h,!1,!0),_stopChange:d(!1,!0)});g.__proto__=O.prototype;c=0;for(f=e.length;c<f;c++)h.set(e[c],b[e[c]]);g.__kbevents.addlistener=[];g.__kbevents.removelistener=[];g.addActionListener("addlistener",function(b){if("string"===typeof b.arguments[0]&&
void 0!==b.local.__kbpointers[b.arguments[0]]){var c=b.local.__kbpointers[b.arguments[0]],c=c.point.getLayer(c.keys);if(void 0!==c[b.arguments[0]])c[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var c=b.local.__kbpointers[b.arguments[0]],c=c.point.getLayer(c.keys);if(void 0!==c[b.arguments[0]])c[b.arguments[2]](b.arguments[0],b.arguments[1])}});return h}function C(b,
c,f,p,g,h,e,n){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=c;this.arguments=h;this.type=this.event=f;this.listener=e;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=p;this.oldValue=g;this.stopChange=n}function d(b,c,f,p){return{value:b,writable:!!c,enumerable:!!p,configurable:!!f}}function P(b,c,f){return{get:function(){return b.call(this)},
set:function(f){c&&(b=f)},enumerable:!1,configurable:!!f}}function H(b,c){var f=c,p=c;return{get:function(){return f},set:function(c){var h=new C(this,b,"set",c,f,arguments,"__kblisteners",this._stopChange);!0!==k(h)&&(p=f,f=c,h.stopChange||(h.listener="__kbupdatelisteners",h.type="postset",k(h)),this.callSubscribers(this.__kbref,this,b,f,p,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function R(){var b=Array.prototype.slice.call(arguments),c=b.shift();return{get:function(){return b.reduce(function(b,
c){return b[c]},c)},set:function(f){var p=b.slice(0,b.length-1).reduce(function(b,c){return b[c]},c);(this._stopChange?p.stopChange():p)[b[b.length-1]]=f;this._stopChange=!1},enumerable:!0,configurable:!0}}function N(b,c){for(var f=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
p=[],g,h=0,e=f.length;h<e;h++)if(g=b[f[h].listener],G.call(g))for(var p=Object.keys(g),n=0,u=p.length;n<u;n++)for(var k=0,d=g[p[n]].length;k<d;k++)c[f[h].method](p[n],g[p[n]][k]);else for(n=0,u=g.length;n<u;n++)c[f[h].method](g[n])}function M(b,c,f){if(F(b,c)||"length"===c){if("length"===c)if(f>b.length&&void 0!==b[f-1])b.length=f;else{if(f<b.length){c=f;for(var p=b.length;c<p;c++)b[c]&&delete b[c];b.length=f}}else b[c]=f;return!0}b.set(c,f)}function Q(b,c){b.del(c);return!0}function L(b,c,f){var p=
l(f),g=G(f),h=K(f);if(p&&f.__kbname!==b.__kbname)"default"===f.__kbname?b.merge(f,c):b.__kbpointers[c]||b.addPointer(f,c);else{var p=new C(this,c,"create",f,void 0,[],"__kbcreatelisteners",this._stopChange),e=k(p),n=parseInt(c,10);if(!0!==e)if((g||h)&&0!==Object.keys(f,"all").length)for(L.call(this,b,c,{}),g=0,h=Object.keys(f,"all"),p=h.length;g<p;g++)L.call(this[c],b[c],h[g],f[h[g]]);else{if(g||h)f=new O(f,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+c),N(b,f);Object.defineProperty(b,
c,H(c,f));!isNaN(n)&&b.length<=n&&(b.length=n+1);p.listener="__kbupdatelisteners";p.type="postcreate";k(p)}}}function D(b,c,f,p){var g=l(f),h=G(f),e=K(f);if(g&&f.__kbname!==b.__kbname)"default"===f.__kbname?b.merge(f,c):b.__kbpointers[c]||b.addPointer(f,c);else if(void 0===b[c])-1===B.indexOf(c)?L.call(this,b,c,f):(p?b.stopChange():b)[c]=f;else if(h||e)for(g=0,h=Object.keys(f,"all"),e=h.length;g<e;g++)D.call(this[c],b[c],h[g],f[h[g]],p);else(p?b.stopChange():b)[c]=f}function E(b){return{}.toString.call(b).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}
function G(b){return"object"===E(void 0!==b?b:this)}function K(b){return"array"===E(void 0!==b?b:this)}function l(b){return"mixed"===E(void 0!==b?b:this)}function F(b,c){c="string"===typeof b?b:c;var f=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,c);return f?void 0===f.value:!1}function w(b,c){"number"===typeof b&&(b=b.toString());var f=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var p=new C(this,b,"set",c,this[b],arguments,
"__kbmethodlisteners");!0!==k(p)&&(D.call(this,f,b,c,this._stopChange),this.stopChange=void 0,p.type="postset",p.listener="__kbmethodupdatelisteners",k(p));return this}function x(b){return b.split(".")}function I(b,c){return function(f,p){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var g=this[c],h=new C(this,c,"addlistener",g,void 0,arguments,"");"string"===typeof f&&1!==x(f).length&&(g=x(f),f=g.pop(),g=g.join("."),h.local=this.getLayer(g),g=h.local[c],h.value=g);!0!==k(h)&&
(G.call(g)?(void 0===g[f]&&(g[f]=[]),g[f].push(p),h.type="postaddlistener",k(h)):K.call(g)&&"function"===typeof f&&(g.push(f),h.type="postaddlistener",k(h)));return this}}function z(b,c){return function(f,p){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var g=this[c],h=new C(this,c,"removelistener",g,void 0,arguments,"");"string"===typeof f&&1!==x(f).length&&(g=x(f),g.pop(),g.join("."),h.local=this.getLayer(g),g=h.local[c],h.value=g,f=x(f).pop());if(!0!==k(h))if(G.call(g)){if(void 0!==
g[f])for(var e=0,n=g[f].length;e<n;e++)if(g[f][e].toString()===p.toString()){g[f].splice(e,1);h.type="postremovelistener";k(h);break}}else if(K.call(g)&&"function"===typeof f)for(e=0,n=g.length;e<n;e++)if(g[e].toString()===f.toString()){g.splice(e,1);h.type="postremovelistener";k(h);break}return this}}function J(b,c){function f(b,c,h){var e=Object.keys(this,"all").filter(function(b){return l.call(this[b])}.bind(this)),n=this,u=b;"string"===typeof b&&1!==x(b).length&&(n=x(b),u=n.pop(),n=n.join("."),
n=this.getLayer(n),void 0===n[h][u]&&(n[h][u]=[]),n[h][u].push(c));G.call(n[h])?(void 0===n[h][u]&&(n[h][u]=[]),n[h][u].push(c),n=n.__kbpointers[u],n=n.point.getLayer(n.keys),void 0!==n[u]&&(void 0===n[h][u]&&(n[h][u]=[]),n[h][u].push(_func))):n[h].push(c);u=0;for(n=e.length;u<n;u++)f.call(this[e[u]],b,c,h)}return function(p,g){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new C(this,c,"addchildlistener",void 0,void 0,arguments,"");!0!==k(h)&&(f.call(this.__kbnonproxy,p,
g,c),h.type="postaddchildlistener",k(h));return this}}function r(b,c){function f(b,c,h){var e=Object.keys(this,"all").filter(function(b){return l.call(this[b])}.bind(this)),n=this,u=b;if("string"===typeof b&&1!==x(b).length){var k=x(b),u=k.pop();k.join(".");n=this.getLayer(k);if(void 0!==n[h][b])for(var k=0,d=n[h][b].length;k<d;k++)if(n[h][b][k].toString()===c.toString()){n[h][b].splice(k,1);break}}if(G.call(n[h])){if(void 0!==n[h][u]){k=0;for(d=n[h][u].length;k<d;k++)if(n[h][u][k].toString()===c.toString()){n[h][u].splice(k,
1);break}if(-1!==n.__kbpointers.indexOf(u)&&(k=n.__kbpointers[u],n=k.point.getLayer(k.keys),void 0!==n[h][u]))for(k=0,d=n[h][u].length;k<d;k++)if(n[h][u][k].toString()===c.toString()){n[h][u].splice(k,1);break}}}else for(k=0,d=n[h].length;k<d;k++)if(n[h][k].toString()===c.toString()){n[h].splice(k,1);break}k=0;for(d=e.length;k<d;k++)f.call(this[e[k]],b,c,h)}return function(p,g){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new C(this,c,"removechildlistener",void 0,void 0,
arguments,"");!0!==k(h)&&(f.call(this.__kbnonproxy,p,g,c),h.type="postremovechildlistener",k(h));return this}}var q={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],
postremovechildlistener:[]},B=["__proto__","_stopChange"],y=function(b,c){if(!c._stopPropogration&&b)for(var f=0,p=b.length;f!==p&&(b[f](c),!c._stopPropogration);f++);},k=function(b){if(b.listener){var c=b.local[b.listener],f=b.local[b.listener.replace("__kb","__kbparent")];G.call(c)?(y(c[b.key],b),y(c["*"],b)):y(c,b);G.call(f)?(y(f[b.key],b),y(f["*"],b)):y(f,b)}y(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},e=Array.prototype.sort;Object.prototype._toString||(Object.prototype._toString=
Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof O?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,c){return Object._keys(b).filter(function(b){return c&&"object"!==c&&"o"!==c?"all"===c?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};Object.defineProperties(O.prototype,{"typeof":d(E,!1,!0),sizeof:d(function(b){function c(b){for(var g=Object.keys(b,"all"),h=0,e=void 0,n=0,k=g.length;n<
k;n++)e=b[g[n]],"object"===typeof e&&void 0!==e&&null!==e?-1===f.indexOf(e)&&(f.push(e),h+=c(e)):"string"===typeof e?h+=2*e.length:"number"===typeof e?h+=8:"boolean"===typeof e?h+=4:"function"===typeof e&&(h+=2*e.toString().length),h+=2*g[n].length;return h}var f=[];return c(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:d(G,!1,!0),isArray:d(K,!1,!0),isMixed:d(l,!1,!0),isObservable:d(F,!1,!0),stringify:d(function(b){var c=[];return JSON.stringify(b||this,function(b,e){if(K(e)||G(e)){if(-1!==
c.indexOf(e))return;c.push(e)}return e})},!1,!0),getKeys:d(function(b,c){c="string"===typeof b?b:c?c:"object";return Object.keys("string"===typeof b||void 0===b?this:b,c)},!1,!0),getIndexes:d(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var c=[],f=0,e=b.length;f<e;f++)void 0!==b[f]&&(c[c.length]=f);return c},!1,!0),keyCount:P(function(){return this.getKeys("object").length},!1,!0),indexCount:P(function(){return this.length},!1,!0),count:P(function(){return this.keyCount+this.indexCount},
!1,!0),concat:d(Array.prototype.concat),every:d(Array.prototype.every),filter:d(Array.prototype.filter),find:d(Array.prototype.find),findIndex:d(Array.prototype.findIndex),forEach:d(Array.prototype.forEach),includes:d(Array.prototype.includes),indexOf:d(Array.prototype.indexOf),join:d(Array.prototype.join),lastIndexOf:d(Array.prototype.lastIndexOf),map:d(Array.prototype.map),reduce:d(Array.prototype.reduce),reduceRight:d(Array.prototype.reduceRight),slice:d(Array.prototype.slice),some:d(Array.prototype.some),
entries:d(Array.prototype.entries),toLocaleString:d(Array.prototype.toLocaleString),add:d(function(b,c){w.call(this,b,c);return this}),set:d(w),get:d(function(b){"number"===typeof b&&(b=b.toString());var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(c)return c[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),del:d(function(b,c){var f="number"===typeof b||!isNaN(parseInt(b,10));f&&(b=b.toString());var e=-1!==
b.indexOf(".")?this.getLayer(b):this,g=b.split(".").pop();if(e&&void 0!==e[g])if(f&&e.length>parseInt(b,10)&&!c)e=e.__kbnonproxy,e.splice(g,1);else{var h=new C(e,b,"delete",e[g],void 0,[],"__kbmethodlisteners"),V=k(h),n=new C(e,b,"delete",e[g],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==k(n)&&!0!==V&&(e=e.__kbnonproxy,Object.defineProperty(e,g,d(void 0,!0,!0,!1)),delete e[g],f&&e.length>parseInt(b,10)&&c&&--e.length,h.type="postdelete",h.listener="__kbmethodupdatelisteners",k(h),n.listener=
"__kbupdatelisteners",n.type="postdelete",n.oldValue=n.value,n.value=void 0,k(n))}return this}),exists:d(function(b){var c=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());return c?void 0!==c[b]:!!c}),addPrototype:d(function(b,c){var f=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===f[b]?Object.defineProperty(f.__proto__,b,d(c,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",
prop,f);return this}),addPointer:d(function(){var b=Array.prototype.slice.call(arguments),c=b.shift(),f=b[b.length-1];c instanceof O||(c=new O(c,c.__kbname));var e=new C(this,f,"create",c[f],void 0,[],"__kbcreatelisteners",this._stopChange),g=this.__kbnonproxy;e.root=c.__kbref.__kbproxy;if(!0!==k(e)){Object.defineProperty(g,f,R.apply(g,arguments));g.__kbpointers[f]={keys:b.join("."),point:c};var b=g,c=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],
g=[],h;if(b[f].__kbImmediateParent)for(var d=0,n=c.length;d<n;d++){h=b[c[d].listener];for(var g=Object.keys(h),u=0,r=g.length;u<r;u++)if(f===g[d])for(var x=0,q=h[g[d]].length;x<q;x++)void 0===b[f].__kbImmediateParent[c[d].listener][f]&&(b[f].__kbImmediateParent[c[d].listener][f]=[]),b[f].__kbImmediateParent[c[d].listener][f].push(h[g[d]][x])}N(b,b[f]);e.listener="__kbupdatelisteners";e.type="postcreate";k(e)}return this}),move:d(function(b,c){this.__kbnonproxy.set(c,b[c]);l(b)?b.del(c):(b[c]=null,
delete b[c]);return this}),copy:d(function(b,c){var f=this.__kbnonproxy;l(b)?"default"===b.__kbname?f.merge(b[c],c):f.addPointer(b,c):f.set(c,b[c]);return this}),merge:d(function(b,c){function f(b,c){for(var g=l(b)?b.keys("object"):Object.keys(b),k,d=0,r=g.length;d<r;d++)k=b[g[d]],"object"===typeof k&&-1===e.indexOf(k)&&"undefined"!==c[g[d]]?f(k,c):c.set(g[d],"object"===typeof k?{}:k)}var e=[],g=this.__kbnonproxy;c&&void 0===g[c]&&g.set(c,{});f(b,c?g[c]:g);return this}),copyWithin:d(function(b,c,
f){c=c||0;f=f||0;var e=new C(this,b,"copyWithin",this[b],void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;if(!0!==k(e)&&b<g.length){b=0>b?g.length-1:b;c=c<g.length?c:g.length-1;f=f<g.length?f:g.length-1;c=0>c?g.length-1:c;f=0>c?g.length-1:f;for(var h=c;h<=f;h++)g.set(b+(h-c),g[h]);e.type="postcopyWithin";e.listener="__kbmethodupdatelisteners";k(e)}return this}),fill:d(function(b,c,f){c=void 0!==c?Math.max(0,c):0;f=void 0!==f&&f<=this.length?Math.min(this.length,Math.max(0,f)):this.length;
var e=new C(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;if(!0!==k(e)){for(var h=a.key;h<f;h++)g[h]=b;e.type="postfill";e.listener="__kbmethodupdatelisteners";k(e)}return this}),pop:d(function(){var b=new C(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==k(b)){var f=c[c.length-1];c.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";k(b);return f}return null}),push:d(function(b){var c=
new C(this,this.length,"push",b,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;!0!==k(c)&&(f.set(f.length,b),c.type="postpush",c.listener="__kbmethodupdatelisteners",k(c));return this.length}),reverse:d(function(){var b=new C(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==k(b)){for(var f=null,e=null,g=c.length,f=0;f<g/2;f+=1){var e=g-1-f,h=c[f];c[f]=c[e];c[e]=h}b.type="postreverse";b.listener="__kbmethodupdatelisteners";k(b)}return this}),
shift:d(function(){var b=new C(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==k(b)){for(var f=a.key,e=this.length-1;f<e;f++)c[f]=c[f+1];c.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";k(b)}return null}),sort:d(function(){var b=new C(this,void 0,"sort",void 0,void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;!0!==k(b)&&(e.apply(c,arguments),b.type="postsort",b.listener="__kbmethodupdatelisteners",k(b));return this}),
splice:d(function(b,c,f){b="string"===typeof b?parseInt(b,10):b;var e=new C(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;if(!0!==k(e)){var h=[],d=Array.prototype.slice.call(arguments,2),n=d.length-2,u=0;if(0!==c&&void 0!==g[b-1+c])for(var r=0,x=c;r<x;r++){h.push(g[b+r]);for(var q=b+r,S=this.length-1;q<S;q++)g[q]=g[q+1];g.del(g.length-1,!0)}if(0!==n)for(r=0,x=n;r<x;r++){u=b+Math.min(1,r);q=g.length;for(S=u;q>S;q--)g.set(q,g[q-1]);g.set(u,d[r])}e.type="postsplice";
e.listener="__kbmethodupdatelisteners";k(e);return h}return[]}),unshift:d(function(){var b=new C(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==k(b)){for(var f=Array.prototype.slice.call(arguments),e=c.length-1+f.length,g=f.length;-1!==e;e--)e<g?c.set(e,f[e]):c.set(e,c[e-f.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";k(b)}return this.length}),getLayer:d(function(b){function c(b){var e=b[0];return void 0===this[e]&&0!==b.length-
1?null:l(this[e])?0!==b.length-1?(b.shift(),c.call(this[e],b)):this[e]:this}b=x(b);return c.call(this,b)}),setLayer:d(function(b){function c(b){var e=b[0];void 0===this[e]&&0!==b.length-1&&(this[e]=O({},this.__kbname,this,this.__kbscopeString+"."+e));return l(this[e])?0!==b.length-1?(b.shift(),c.call(this[e],b)):this[e]:this}b=x(b);return c.call(this,b)}),ignoreCreate:d(function(b){-1===B.indexOf(b)&&B.push(b);return this}),addActionListener:d(function(b,c){var f=this.__kbnonproxy;void 0!==f.__kbref.__kbevents[b]&&
f.__kbref.__kbevents[b].push(c);return this}),removeActionListener:d(function(b,c){var f=this.__kbnonproxy;if(void 0!==f.__kbref.__kbevents[b])for(var e=0,g=f.__kbref.__kbevents[b];e<g;e++)if(f.__kbref.__kbevents[b][e].toString()===c.toString()){f.__kbref.__kbevents[b].splice(e,1);break}return this}),subscribe:d(function(b,c){var f=b.split("."),e=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):this.__kbnonproxy;void 0===f.__kbsubscribers[e]&&(f.__kbsubscribers[e]=[]);f.__kbsubscribers[e].push(c);
return this}),unsubscribe:d(function(b,c){var f=b.split("."),e=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):this.__kbnonproxy;if(void 0!==f.__kbsubscribers[e])for(var g=0,h=f.__kbsubscribers[e].length;g<h;g++)if(f.__kbsubscribers[e][g].toString()===c.toString()){f.__kbsubscribers[e].splice(g,1);break}return this}),subscribeDeep:d(function(b,c){function e(b,g){var h=Object.keys(b,"all").filter(function(c){return l.call(b[c])}.bind(b));if(void 0!==b[g]||"*"===g)void 0===b.__kbparentsubscribers[g]&&
(b.__kbparentsubscribers[g]=[]),b.__kbparentsubscribers[g].push(c);for(var n=0,k=h.length;n<k;n++)e(b[h[n]],g)}var k=-1!==b.indexOf("*"),g=b.split(".");g.slice(0,g.indexOf("*"));var h=-1!==g.indexOf("*")?g.slice(g.indexOf("*"),g.length):[],d=1===h.length,n=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;k?d?e(g,"*"):(h.shift(),g.subscribeDeep(h.join("."),c)):e(g,n);return this}),unsubscribeDeep:d(function(b,c){function e(b,g){var h=Object.keys(b,"all").filter(function(c){return l.call(b[c])&&
!(b[c]instanceof HTMLElement)}.bind(b));if((void 0!==b[g]||"*"===g)&&void 0!==b.__kbparentsubscribers[g])for(var n=0,k=b.__kbparentsubscribers[g].length;n<k;n++)b.__kbparentsubscribers[g][n].toString()===c.toString()&&b.__kbparentsubscribers[g].splice(n,1);n=0;for(k=h.length;n<k;n++)e(b[h[n]],g)}var k=-1!==b.indexOf("*"),g=b.split(".");g.slice(0,g.indexOf("*"));var h=-1!==g.indexOf("*")?g.slice(g.indexOf("*"),g.length):[],d=1===h.length,n=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):
this.__kbnonproxy;k?d?e(g,"*"):(h.shift(),g.unsubscribeDeep(h.join("."),c)):e(g,n);return this}),callSubscribers:d(function(b,c,e,k,g,h){var d=this.__kbnonproxy;if(void 0!==d.__kbsubscribers[e])for(var n=0,u=d.__kbsubscribers[e].length;n<u;n++)d.__kbsubscribers[e][n].call(this,{key:e,value:k,oldValue:g,stopChange:h,local:c,kbref:b});if(void 0!==d.__kbparentsubscribers[e])for(n=0,u=d.__kbparentsubscribers[e].length;n<u;n++)d.__kbparentsubscribers[e][n].call(this,{key:e,value:k,oldValue:g,stopChange:h,
local:c,kbref:b});if(void 0!==d.__kbsubscribers["*"])for(n=0,u=d.__kbsubscribers["*"].length;n<u;n++)d.__kbsubscribers["*"][n].call(this,{key:e,value:k,oldValue:g,stopChange:h,local:c,kbref:b});if(void 0!==d.__kbparentsubscribers["*"])for(n=0,u=d.__kbparentsubscribers["*"].length;n<u;n++)d.__kbparentsubscribers["*"][n].call(this,{key:e,value:k,oldValue:g,stopChange:h,local:c,kbref:b});return this}),callAllSubscribers:d(function(){function b(b,e,k){for(var g=0,h=e.length;g<h;g++)e[g].call(b,{key:k,
value:b[k],oldValue:b[k],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(c){for(var e=Object.keys(c.__kbsubscribers),k=Object.keys(c.__kbparentsubscribers),g=0,h=e.length;g<h;g++)if(0!==c.__kbsubscribers[e[g]].length)if("*"===e[g])for(var d=0,n=Object.keys(c),u=n.length;d<u;d++)b(c,c.__kbsubscribers[e[g]],n[d]);else b(c,c.__kbsubscribers[e[g]],e[g]);g=0;for(h=k.length;g<h;g++)if(0!==c.__kbparentsubscribers[k[g]].length)if("*"===k[g])for(d=0,n=Object.keys(c),u=n.length;d<u;d++)b(c,c.__kbparentsubscribers[k[g]],
n[d]);else b(c,c.__kbparentsubscribers[k[g]],k[g])})(this.__kbnonproxy);return this}),stopChange:d(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(O.prototype,{addDataListener:d(I("addDataListener","__kblisteners")),removeDataListener:d(z("removeDataListener","__kblisteners")),addDataUpdateListener:d(I("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:d(z("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:d(I("addDataCreateListener",
"__kbcreatelisteners")),removeDataCreateListener:d(z("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:d(I("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:d(z("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:d(I("addDataMethodListener","__kbmethodlisteners")),removeDataMethodListener:d(z("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:d(I("addDataMethodUpdateListener","__kbmethodupdatelisteners")),
removeDataMethodUpdateListener:d(z("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:d(J("addChildDataListener","__kbparentlisteners")),removeChildDataListener:d(r("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:d(J("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:d(r("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:d(J("addChildDataCreateListener","__kbparentcreatelisteners")),
removeChildDataCreateListener:d(r("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:d(J("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:d(r("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return O}}(),X=function(){return function(){function A(t){if("object"===typeof t)for(var v=0,C=t.length;v<C;v++)K_Components[t[v]]?m(t[v],K_Components[t[v]],document.getElementById("script_"+t[v])):A.load(t[v],"component/"+
t[v]+"/"+location.search,m);else"string"===typeof t&&(K_Components[t[v]]?m(t,K_Components[t],document.getElementById("script_"+t)):A.load(t,"component/"+t+"/"+location.search,m))}var m=function(){},v=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});A.getUnknowns=function(m){var A=m.match(v);return A.map(function(m){return m.replace(/[<\/>]/g,"")}).filter(function(m,d){return document.createElement(m)instanceof HTMLUnknownElement&&-1===A.indexOf(m,d+1)&&!K_Components[m]})};A.load=function(m,
v,C){document.head.appendChild(function(d,m,v){var t=document.createElement("script");t.type="text/javascript";t.charset="utf-8";t.async=!0;t.src=m;t.id="script_"+d;t.onload=function(){v(d,K_Components[d],this)};return t}(m,v,C));return A};A.onLoad=function(t){if(void 0===t)return m;m="function"===typeof t?t:m;return A};return A}}(),U=function(){function A(){function m(e,b){var c=e.length,f;for(f=0;f<c&&(e[f](b),void 0===b._stopPropogation);f++);}function v(e,b){var c=e.length,f;for(f=0;f<c&&(b.child=
b.target,b.target=e[f].parent,e[f].func(b),void 0===b._stopPropogation);f++);}function t(e,b){for(var c=e.length;0<c;B++)if(e[B].toString()===b.toString())return!0;return!1}function A(e,b,c,f,k,g,h,d){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=c;this.oldValue=f;this.target=e;this.attr=b;this.arguments=k;this.action=g;this.child=void 0;this.type=h;this.stopChange=d}function C(){this._attrListeners={};this._attrUpdateListeners=
{};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function d(e,b,c,f){var k=e.get,g=e.set,h;return function(e){h=k.call(this);c(this,b,e,h,void 0,this._stopChange)&&g.call(this,e);this._stopChange||f(this,b,e,h);this._stopChange=void 0}}function P(e,b,c,f){var k;return function(g){k=e.value;c(this,b,g,k,arguments,this._stopChange)&&(e.value=
g);this._stopChange||f(this,b,g,k,arguments);this._stopChange=void 0}}function H(e,b,c,f){var k=e.value,g;return function(){c(this,b,null,null,arguments,this._stopChange)&&(g=k.apply(this,arguments));this._stopChange||f(this,b,null,null,arguments,g);this._stopChange=void 0;return g}}function R(e,b,c,f,k){var g=k.style,h=b.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),d,n;return{get:function(){return n},set:function(e){d=n;c(k,b,e,d,void 0,this._stopChange)&&(n=e,g.setProperty(h,e));this._stopChange||
f(k,b,e,d);this._stopChange=void 0},enumerable:!0,configurable:!0}}function N(e,b,c,f){if("function"!==typeof b)return l;var k=-1!==["value","checked"].indexOf(e),g=-1!==r.indexOf(e),h;if(this.toString()!==l.toString())if(c){var d=this.querySelectorAll("*");c=d.length;for(var n,u=0;u<c;u++){n=d[u].attrListeners();if(k||"*"===e)void 0!==d[u].addInputBinding&&d[u].addInputBinding(),void 0!==d[u].addInputBoxBinding&&d[u].addInputBoxBinding();if(g)l.injectStyleProperty(d[u],e),h=f?"_parentStyleUpdateListeners":
"_parentStyleListeners";else{if("*"===e){h=f?"_parentStyleUpdateListeners":"_parentStyleListeners";c=r.length;for(var q=0;q<c;q++)l.injectStyleProperty(d[u],r[q]);void 0===n[h]["*"]&&(n[h]["*"]=[]);n[h]["*"].push({parent:this,func:b})}h=f?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===n[h][e]&&(n[h][e]=[]);n[h][e].push({parent:this,func:b})}}else{n=this.attrListeners();if(g)h=f?"_styleUpdateListeners":"_styleListeners",l.injectStyleProperty(this,e);else{if(k||"*"===e)void 0!==this.addInputBinding&&
this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===e){h=f?"_styleUpdateListeners":"_styleListeners";c=r.length;for(u=0;u<c;u++)l.injectStyleProperty(this,r[u]);void 0===n[h][e]&&(n[h][e]=[]);n[h][e].push(b)}h=f?"_attrUpdateListeners":"_attrListeners"}void 0===n[h][e]&&(n[h][e]=[]);n[h][e].push(b)}else{if(k||"*"===e)for(q=document.querySelectorAll("input, textarea"),c=q.length,u=0;u<c;u++)void 0!==q[u].addInputBinding&&q[u].addInputBinding(),void 0!==q[u].addInputBoxBinding&&
q[u].addInputBoxBinding();if(g){g=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=g.length+1;g.unshift(document.body);for(u=0;u<c;u++)l.injectStyleProperty(g[u],e);h=f?I:x}else{if("*"===e){g=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=g.length+1;k=r.length;g.unshift(document.body);for(u=0;u<c;u++)for(q=0;q<k;q++)l.injectStyleProperty(g[u],r[q]);h=f?I:x;void 0===h[e]&&(h[e]=[]);h[e].push(b)}h=f?w:F}void 0===h[e]&&(h[e]=[]);h[e].push(b)}}function M(e,b,c,f){function k(c,
e){var f=e[c],g=f.length;for(h=0;h<g;h++)f[h].toString()===b.toString()&&f.splice(h,1)}if("function"!==typeof b)return l;["value","checked"].indexOf(e);var g=-1!==r.indexOf(e),h;if(this.toString()!==l.toString())if(c){c=this.querySelectorAll("*");var d=c.length;g?(g=f?"_childStyleUpdateListeners":"_childStyleListeners",k(e,this.attrListeners()[g]),g=f?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===e&&(g=f?"_childStyleUpdateListeners":"_childStyleListeners",k(e,this.attrListeners()[g])),
g=f?"_childAttrUpdateListeners":"_childAttrListeners",k(e,this.attrListeners()[g]),g=f?"_parentAttrUpdateListeners":"_parentAttrListeners");for(h=0;h<d;h++){for(var n=c[h].attrListeners()[g][e],u=n.length,q=0;q<u;q++)n[q].isEqualNode(this)&&n.slice(q,1);if("*"===e)for(listenersStyle=f?"_parentStyleUpdateListeners":"_parentStyleListeners",n=c[h].attrListeners()[g][e],u=n.length,q=0;q<u;q++)n[q].isEqualNode(this)&&n.slice(q,1)}}else g?g=f?"_styleUpdateListeners":"_styleListeners":("*"===e&&(g=f?"_styleUpdateListeners":
"_styleListeners",k(e,this.attrListeners()[g])),g=f?"_attrUpdateListeners":"_attrListeners"),k(e,this.attrListeners()[g]);else g?g=f?I:x:("*"===e&&(g=f?I:x,k(e,g)),g=f?w:F),k(e,g)}function Q(e,b){l.addAttrListener.call(this,e,b,!0);return this}function L(e,b){l.addAttrUpdateListener.call(this,e,b,!0);return this}function D(e,b){l.removeAttrListener.call(this,e,b,!0);return this}function E(e,b){l.removeAttrUpdateListener.call(this,e,b,!0);return this}function G(e,b,c){var f=this.attrListeners();"html"===
b&&(b="innerHTML");"events"===b&&(b="onclick");switch(e){case "attr":if(t(f._attrListeners[b],c))return!0;break;case "attrupdate":if(t(f._attrUpdateListeners[b],c))return!0}return!1}function K(){this._stopChange=!0;return this}function l(){function e(b,c){var e,f=c.length;for(e=0;e<f;e++)-1===b.indexOf(c[e])&&b.push(c[e]);return b}function b(b,c){for(var e=Object.keys(b),f,g,h=0,k=e.length;h<k;h++)if(f=e[h],void 0===c[f])c[f]=b[f].slice();else for(var d=0,r=b[f].length;d<r;d++)g=b[f][d],c[f].push(g)}
function c(c){if(3!==c.target.nodeType&&8!==c.target.nodeType){var f=c.target.attrListeners(),g,h=["value","checked"],k=f._attrListeners,d=f._attrUpdateListeners,p=f._parentAttrListeners;g=f._parentAttrUpdateListeners;var q=!1;if(void 0!==F["*"]||void 0!==w["*"])q=!0;if(!0!==q&&void 0!==k["*"]||void 0!==d["*"]||void 0!==p["*"]||void 0!==g["*"])q=!0;if(!0!==q)for(var B=0;B<h.length;B++)if(void 0!==F[h[B]]||void 0!==w[h[B]]||void 0!==k[h[B]]||void 0!==d[h[B]]||void 0!==p[h[B]]||void 0!==g[h[B]]){q=
!0;break}g=q;h=Object.keys(x);k=Object.keys(I);Object.keys(f._styleListeners);Object.keys(f._styleUpdateListeners);d=Object.keys(f._parentStyleListeners);f=Object.keys(f._parentStyleUpdateListeners);p=[];if(0!==h.length||0!==k.length)p=e(p,h),p=e(p,k);if(0!==p.length&&0!==d.length||0!==f.length)p=e(p,d),p=e(p,f);-1!==p.indexOf("*")&&(p=r);var f=p,h=f.length,z,y,k=[],m,d="outerHTML"===c.attr||"outerText"===c.attr?c.attr:void 0,p=c.target;void 0!==d&&(c.attr="appendChild",c.arguments=[c.target],c.target=
c.target.parentElement);if(g){"appendChild"===c.attr&&3!==c.arguments[0].nodeType&&8!==c.arguments[0].nodeType?(k=Array.prototype.slice.call(c.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==c.arguments[0].tagName&&"TEXTAREA"!==c.arguments[0].tagName||k.unshift(c.arguments[0])):k=Array.prototype.slice.call(c.target.querySelectorAll("input,textarea"));m=k.length;for(var t=0;t<m;t++)void 0!==k[t].addInputBinding&&k[t].addInputBinding(),void 0!==k[t].addInputBoxBinding&&k[t].addInputBoxBinding()}"appendChild"===
c.attr&&"#text"!==c.arguments[0].nodeName&&"#comment"!==c.arguments[0].nodeName?(k=Array.prototype.slice.call(c.arguments[0].querySelectorAll("*")),k.unshift(c.arguments[0])):k=Array.prototype.slice.call(c.target.querySelectorAll("*"));g=c.target.__kb._parentAttrListeners;q=c.target.__kb._parentAttrUpdateListeners;B=c.target.__kb._parentStyleListeners;z=c.target.__kb._parentStyleUpdateListeners;m=k.length;for(t=0;t<m;t++){if(0!==h)for(y=0;y<h;y++)l.injectStyleProperty(k[t],f[y]);y=k[t].attrListeners();
b(g,y._parentAttrListeners);b(q,y._parentAttrUpdateListeners);b(B,y._parentStyleListeners);b(z,y._parentStyleUpdateListeners)}void 0!==d&&(c.attr=d,c.target=p,c.arguments=[])}}function f(b){var c=b.target.attributes[b.arguments[0]],e="setAttribute"===b.attr?b.arguments[1]:"";g(b.target,b.arguments[0],e,void 0!==c?c.value:"",[e])||b.preventDefault()}function d(b){var c=b.target.attributes[b.arguments[0]],e="setAttribute"===b.attr?b.arguments[1]:"";h(b.target,b.arguments[0],e,void 0!==c?c.value:"",
[e])}l.injectPrototypes(Node,"Node");l.injectPrototypes(Element,"Element");l.injectPrototypes(HTMLElement,"HTMLElement");l.injectPrototypes(HTMLInputElement,"HTMLInputElement");l.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");l.injectPrototypes(Document,"Document");var g=y,h=k;l.addAttrUpdateListener("appendChild",c);l.addAttrUpdateListener("removeChild",c);l.addAttrUpdateListener("innerHTML",c);l.addAttrUpdateListener("outerHTML",c);l.addAttrUpdateListener("innerText",c);l.addAttrUpdateListener("outerText",
c);l.addAttrUpdateListener("textContent",c);l.addAttrListener("setAttribute",f);l.addAttrListener("removeAttribute",f);l.addAttrUpdateListener("setAttribute",d);l.addAttrUpdateListener("removeAttribute",d);return l}var F={},w={},x={},I={},z={},J="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),r=Object.getOwnPropertyNames(document.documentElement.style),q=Object.keys(HTMLElement.prototype).filter(function(e){return 0===
e.indexOf("on")}).concat(["addEventListener","removeEventListener"]),B,y=function(e,b,c,f,k,g){c=new A(e,b,c,f,k,void 0,"set",g);void 0!==e.__kb&&(f=e.__kb._attrListeners,k=e.__kb._styleListeners,g=e.__kb._parentAttrListeners,e=e.__kb._parentStyleListeners,void 0!==f[b]&&m(f[b],c),void 0===c._stopPropogation&&void 0!==k[b]&&m(k[b],c),void 0===c._stopPropogation&&void 0!==f["*"]&&(m(f["*"],c),void 0===c._stopPropogation&&m(k["*"],c)),void 0===c._stopPropogation&&void 0!==g[b]&&v(g[b],c),void 0===c._stopPropogation&&
void 0!==e[b]&&v(e[b],c),void 0===c._stopPropogation&&void 0!==g["*"]&&(v(g["*"],c),void 0===c._stopPropogation&&v(e["*"],c)));void 0===c._stopPropogation&&void 0!==F[b]&&m(F[b],c);void 0===c._stopPropogation&&void 0!==x[b]&&m(x[b],c);void 0===c._stopPropogation&&void 0!==F["*"]&&(m(F["*"],c),void 0===c._stopPropogation&&m(x["*"],c));return void 0!==c._preventDefault?!1:!0},k=function(e,b,c,f,k,g){c=new A(e,b,c,f,k,g,"update");void 0!==e.__kb&&(f=e.__kb._attrUpdateListeners,k=e.__kb._styleUpdateListeners,
g=e.__kb._parentAttrUpdateListeners,e=e.__kb._parentStyleUpdateListeners,void 0!==f[b]&&m(f[b],c),void 0===c._stopPropogation&&void 0!==k[b]&&m(k[b],c),void 0===c._stopPropogation&&void 0!==f["*"]&&(m(f["*"],c),void 0===c._stopPropogation&&m(k["*"],c)),void 0===c._stopPropogation&&void 0!==g[b]&&v(g[b],c),void 0===c._stopPropogation&&void 0!==e[b]&&v(e[b],c),void 0===c._stopPropogation&&void 0!==g["*"]&&(v(g["*"],c),void 0===c._stopPropogation&&v(e["*"],c)));void 0===c._stopPropogation&&void 0!==
w[b]&&m(w[b],c);void 0===c._stopPropogation&&void 0!==I[b]&&m(I[b],c);void 0===c._stopPropogation&&void 0!==w["*"]&&(m(w["*"],c),void 0===c._stopPropogation&&m(I["*"],c));return void 0!==c._preventDefault?!1:!0};l.injectPrototypeProperty=function(e,b,c,f,p){var g=e.prototype,h=Object.getOwnPropertyDescriptor(g,b);c=c||e.toString().split(/\s+/)[1].split("{")[0].replace("()","");var r=z[c];f=f||y;p=p||k;void 0===g.attrListeners&&(g={},g.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);
return this.__kb}.bind(g),g.addAttrListener=l.addAttrListener,g.addAttrUpdateListener=l.addAttrUpdateListener,g.addChildAttrListener=Q,g.addChildAttrUpdateListener=L,g.hasListener=G,g.removeAttrListener=l.removeAttrListener,g.removeAttrUpdateListener=l.removeAttrUpdateListener,g.removeChildAttrListener=D,g.removeChildAttrUpdateListener=E,g.stopChange=K);void 0===r&&(z[c]={obj:e,proto:g,descriptors:{},set:void 0,update:void 0},r=z[c],r.set=f,r.update=p);void 0===r.descriptors[b]&&(r.descriptors[b]=
h);h.configurable&&(void 0!==h.set?Object.defineProperty(g,b,{get:h.get,set:d(h,b,f,p),enumerable:!0,configurable:!0}):"function"===typeof h.value?Object.defineProperty(g,b,{value:H(h,b,f,p),writable:!0,enumerable:!0,configurable:!0}):void 0!==h.value&&Object.defineProperty(g,b,{get:function(){return h.value},set:P(h,b,f,p),enumerable:!0,configurable:!0}));return l};l.injectStyleProperty=function(e,b,c,f){var d=e.style,g=Object.getOwnPropertyDescriptor(d,b),h=e.attrListeners().injectedStyle;c=c||
y;f=f||k;void 0===h&&(e.attrListeners().injectedStyle={obj:e,proto:d,descriptors:{},set:void 0,update:void 0},e.attrListeners().injectedStyle.set=c,e.attrListeners().injectedStyle.update=f,h=e.attrListeners().injectedStyle);void 0===h.descriptors[b]&&(h.descriptors[b]=g);g.configurable&&Object.defineProperty(d,b,R(g,b,c,f,e));return l};l.injectPrototypes=function(e,b,c,f){var d=e.prototype;b=b||e.toString().split(/\s+/)[1].split("{")[0].replace("()","");var g=z[b],h=Object.getOwnPropertyNames(d);
c=c||y;f=f||k;var r;void 0===d.attrListeners&&(d.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);return this.__kb},d.addAttrListener=l.addAttrListener,d.addAttrUpdateListener=l.addAttrUpdateListener,d.addChildAttrListener=Q,d.addChildAttrUpdateListener=L,d.removeAttrListener=l.removeAttrListener,d.removeAttrUpdateListener=l.removeAttrUpdateListener,d.removeChildAttrListener=D,d.removeChildAttrUpdateListener=E,d.hasListener=G,d.stopChange=K);void 0===g&&(z[b]={obj:e,proto:d,descriptors:{},
set:void 0,update:void 0},g=z[b],g.set=c,g.update=f);r=z[b].descriptors;for(f=0;f<h.length;f+=1)void 0===r[h[f]]&&l.injectPrototypeProperty(e,h[f],b,c,k);if(-1!==h.indexOf("value")){var n=function(b){var c,e,f;if("checkbox"===this.type||"radio"===this.type)c=!0;e=c?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){f=c?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;c&&(g.set(this,"checked",this.checked,e)?g.update(this,
"checked",this.checked,e):r.checked.set.call(this,e));this.value!==f&&(this.value=f);g.set(this,"value",this.value,e)?g.update(this,"value",this.value,e):r.value.set.call(this,e)}.bind(this),0)};d.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",n)};d.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",n)};d.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",
n)};d.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",n)}}return l};l.addAttrListener=function(e,b,c){if("html"===e){e=0;for(var f=J.length;e<f;e++)N.call(this,J[e],b,c,!1)}else if("events"===e)for(e=0,f=q.length;e<f;e++)N.call(this,q[e],b,c,!1);else N.call(this,e,b,c,!1);return this};l.addAttrUpdateListener=function(e,b,c){if("html"===e){e=0;for(var f=J.length;e<f;e++)N.call(this,J[e],b,c,!0)}else if("events"===e)for(e=0,f=q.length;e<f;e++)N.call(this,
q[e],b,c,!0);else N.call(this,e,b,c,!0);return this};l.removeAttrListener=function(e,b,c){if("html"===e){e=0;for(var f=J.length;e<f;e++)M.call(this,J[e],b,c,!1)}else if("events"===e)for(e=0,f=q.length;e<f;e++)M.call(this,q[e],b,c,!1);else M.call(this,e,b,c,!1);return this};l.removeAttrUpdateListener=function(e,b,c){if("html"===e){e=0;for(var f=J.length;e<f;e++)M.call(this,J[e],b,c,!0)}else if("events"===e)for(e=0,f=q.length;e<f;e++)M.call(this,q[e],b,c,!0);else M.call(this,e,b,c,!0);return this};
l.hasListener=function(e,b,c){"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(e){case "attr":if(t(F[b],c))return!0;break;case "attrupdate":if(t(w[b],c))return!0}return!1};l.injectedPrototypes=function(){return z};return l}"function"===typeof define&&define.amd&&define("KB",A);return A}(),Y=function(A){return function(){function m(d){document.createDocumentFragment();this.name=d.tagName.toLowerCase();this.template=K[this.name]||'<div class="missing_component">Unknown Component</div>';
this.node=d;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name}function v(d,I,z,l){return{value:d,writable:!!I,enumerable:!!l,configurable:!!z}}function t(){return new RegExp("(\\"+D.split("").join("\\")+")(.*?)(\\"+E.split("").join("\\")+")","g")}function O(d){return new RegExp("("+D.split("").join("\\")+">"+d+"(.*?)"+E.split("").join("\\")+")","g")}function C(d){return d.split(new RegExp("("+
D.split("").join("\\")+")(.*?)("+E.split("").join("\\")+")","g")).map(function(d,x,l){return l[x-1]===D?D+d+E:d}).filter(function(d,x,l){return 0!==d.length&&d!==D&&d!==E&&0!==d.length})}function d(d){return d.replace(new RegExp("["+D+E+"]","g"),"").replace(new RegExp("\\"+G.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function P(d){return-1!==d.indexOf(G)?d.replace(new RegExp("["+E+"]","g"),"").replace(new RegExp("(.*?)(\\"+G.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[]}function H(d){return d.reduce(function(d,
x){x.match(/(\()(.*?)(\))/)?d.vmFilters[d.vmFilters.length]=x.replace(/[\(\)]/g,""):x.match(/(\[)(.*?)(\])/)?-1!==x.indexOf("~")?d.model[d.model.length]=x.replace(/[\[\]\~]/g,""):-1!==x.indexOf("+")?d.local[d.local.length]=x.replace(/[\[\]\+]/g,""):d.session[d.session.length]=x.replace(/[\[\]\-]/g,""):d.filters[d.filters.length]=x;return d},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function R(d){return-1!==d.indexOf("for")?d.replace(new RegExp("["+D+E+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,
"").split(/for(.*?)loop/).filter(function(d){return 0!==d.length}):[]}function N(d){if(0!==d.length){for(var l="",z=0,m=d.length;z<m;z++)l="string"===typeof d[z]?l+d[z]:void 0===d[z]._data?l+d[z].text:l+M(d[z]._data.get(d[z].key),d[z].filters.filters,d[z]._data.filters);return l}return M(d[0]._data.get(d[0].key),d[0].filters.filters,d[0]._data.filters)}function M(d,l,m){for(var t=0,r=l.length;t<r;t++)m[l[t]]&&(d=m[l[t]](d));return d}function Q(d,l,m,t){for(var r=0,q=l.length;r<q;r++)if(m[l[r]])m[l[r]](d,
t);return d}function L(){function d(k,e){this.text=k;this.key=e;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();this.filters=H(P(k));this.component="for"===this.type?R(k)[1]:void 0;this.id=0}function l(d,e){for(var b=0,c=e.length;b<c;b++)d.stopChange().appendChild(e[b])}function m(d){if(d&&window.model)return window.model.get(d[0])}function t(d,e){if(e&&0!==e.length&&window.model)for(var b=0,c=e.length;b<c;b++)window.model.set(e[b],d)}function r(d){if(d&&window.localStorage)return localStorage.getItem(d[0])}
function q(d,e){if(d&&0!==d.length&&window.localStorage)for(var b=0,c=d.length;b<c;b++)localStorage.setItem(d[b],e)}function B(d){if(d&&window.sessionStorage)return sessionStorage.getItem(d[0])}function y(d,e){if(d&&0!==d.length&&window.sessionStorage)for(var b=0,c=d.length;b<c;b++)sessionStorage.setItem(d[b],e)}Object.defineProperties(d.prototype,{addPointer:v(function(d){for(var e=document.createElement(this.component),b=Q(this._data.getLayer(this.key),this.filters.filters,this._data.filters,d)[d],
c=0,f=Object.keys(b,"all"),r=f.length;c<r;c++)e.k_post||(e.k_post={}),e.k_post[f[c]]=b,e.k_post.x=d,e.k_post.loopid=this.component+"_"+d;d>=this.node.children.length?this.node.stopChange().appendChild(e):this.node.stopChange().insertBefore(e,this.node.children[d]);d={event:"loopitem",node:e,parent:this.node};e=w[d.event];b=0;for(c=e.length;b<c;b++)e[b](d);return this}),removePointer:v(function(d){for(var e=this.node.children[d].kb_maps,b=0,c=Object.keys(this.node.children[d].kb_viewmodel.pointers),
f=c.length;b<f;b++){var r=e[c[b]];if(r)for(var g=0,h=r.length;g<h;g++)r[g].unsync(),r[g]=null,delete r[g]}this.node.stopChange().removeChild(this.node.children[d]);b=0;for(f=this.node.children.length;b<f;b++)this.node.children[b].kb_viewmodel.x=b,d=this.node.children[b].kb_viewmodel.loopid,this.node.children[b].kb_viewmodel.loopid=d.substring(0,d.lastIndexOf("_")+1)+b;return this}),reapplyPointer:v(function(d){for(var e=this.node.children[d].kb_maps,b=this.node.children[d].kb_viewmodel.loopid,c=0,
f=Object.keys(this.node.children[d].kb_viewmodel.pointers),r=f.length;c<r;c++){var g=e[f[c]];if(void 0!==g)for(var h=0,q=g.length;h<q;h++)g[h].reconnect()}this.node.children[d].kb_viewmodel.x=d;this.node.children[d].kb_viewmodel.loopid=b.substring(0,b.lastIndexOf("_")+1)+d;return this}),connect:v(function(d){var e=this;this._data=d;"for"!==this.type?(this.dataListener=function(b){"delete"===b.event?e.unsync():e.setDom(b.value)},d.getLayer(this.key).addDataUpdateListener(this.localKey,this.dataListener),
1===this.bindText.length&&(this.domListener=function(b){e.setData(b.value)},this.node.addAttrUpdateListener(this.listener,this.domListener))):(this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");e.setLoop(b.key,b.event)},d.getLayer(this.key).addDataMethodUpdateListener(this.dataListener));"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,m(this.filters.model)):this.filters.session&&0!==this.filters.session.length?
this._data.stopChange().set(this.key,B(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,r(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",l(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=N(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(this.node.stopChange()[this.attr]=this._data.get(this.key))));
return this}),reconnect:v(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:v(function(){this.node.stopChange().innerHTML="";for(var d=0,e=Q(this._data.get(this.key),this.filters.filters,this._data.filters).length;d<
e;d++)this.setLoop(d,"create");return this}),setData:v(function(d){d=M(d,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,d);t(this.filters.model,d);y(this.filters.session,d);q(this.filters.local,d);return this}),setDom:v(function(d){t(this.filters.model,d);y(this.filters.session,d);q(this.filters.local,d);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=
this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",l(this.node,this._data.innerHTML)):this.local.stopChange()[this.localAttr]=N(this.bindText);return this}),setLoop:v(function(d,e){switch(e){case "create":this.addPointer(d);break;case "delete":this.removePointer(d);break;case "set":this.reapplyPointer(d);break;default:if("push"!==e)for(var b=0,c=this._data.getLayer(this.key).length;b<c;b++)this.reapplyPointer(b)}return this}),bindMaps:v([]),unsync:v(function(){this._data=
this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this})});return d}var D="{{",E="}}",G="|",K={},l=/(<\/.*?>)/g;A().call();var F=Object.keys(HTMLElement.prototype).filter(function(d){return 0===d.indexOf("on")}),w={loopitem:[]};m.start=function(d){if(void 0===d)return D;D="string"===typeof d?d:D;return m};m.end=function(d){if(void 0===d)return E;E="string"===typeof d?d:E;return m};m.pipe=function(d){if(void 0===d)return G;
G="string"===typeof d?d:G;return m};m.getUnknown=function(d){var m=d.match(l).map(function(d){return d.replace(/[<\/>]/g,"")});m.filter(function(d,l){return document.createElement(d)instanceof HTMLUnknownElement&&-1===m.indexOf(d,l+1)&&void 0===K[d]});return m};m.isRegistered=function(d){return void 0!==K[d]};m.register=function(d,l){void 0===K[d]?(K[d]=l,m.getUnknown(l)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",d);return this};m.addEventListener=
function(d,l){void 0!==w[d]?w[d].push(l):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",d);return m};m.removeEventListener=function(d,l){if(void 0!==w[d])for(var t=0,v=w[d].length;t<v;t++)w[d][t].toString()===l.toString()&&w[d].splice(t,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",d);return m};m.insert=function(l,m){for(var t=new RegExp("("+D.split("").join("\\")+">(.*?)"+E.split("").join("\\")+
")","g"),v,r,q;v=t.exec(l);)r=d(v[1]).replace(">",""),v=P(v[1]),(q=m.get(r))&&(l=l.replace(O(r),M(q,v,m.filters)));return l};Object.defineProperties(m.prototype,{register:v(m.register),isRegistered:v(m.isRegistered),getUnknown:v(m.getUnknown),map:v(function(l){function m(v,w){for(var r=0,q=v.length;r<q;r++)if(void 0===v[r].kb_maps&&8!==v[r].nodeType){v[r].kb_mapper=l;v[r].kb_maps=w;if(3===v[r].nodeType){var B=v[r],y=w,k=B.textContent;if(k.match(t())){var e=C(k),b=L();b.prototype.type=k.match(new RegExp("(\\"+
D.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+E.split("").join("\\")+")","g"))?"for":"text";b.prototype.text=k;b.prototype.bindText=e;b.prototype.listener="textContent";b.prototype.attr="textContent";b.prototype.localAttr="textContent";b.prototype.local=B;b.prototype.node=B.parentElement;b.prototype.binds=y;B=0;for(k=e.length;B<k;B++)if(0===e[B].indexOf(D)){var c="for"===b.prototype.type?R(e[B])[0]:d(e[B]),f=new b(e[B],c);void 0===y[c]&&(y[c]=[]);f.bindText[B]=f;f.bindMaps.push(f);f.id=
y[c].length;y[c].push(f)}}}else for(y=v[r],e=w,b=Array.prototype.slice.call(y.attributes),B=y instanceof HTMLUnknownElement,k=0,c=b.length;k<c;k++)if(b[k].value.match(t())){var f=C(b[k].value),p=L();p.prototype.type=B?"component":"attribute";p.prototype.text=b[k].value;p.prototype.bindText=f;p.prototype.isEvent=-1!==F.indexOf(b[k].name);p.prototype.isInput="input"===y.tagName.toLowerCase();p.prototype.isRadio=p.prototype.isInput?-1!==["radio","checkbox"].indexOf(y.type):!1;p.prototype.listener=b[k].name;
p.prototype.attr=b[k].name;p.prototype.localAttr="value";p.prototype.local=b[k];p.prototype.node=y;p.prototype.binds=e;p.prototype.isEvent&&y.removeAttribute(b[k].name);for(var g=0,h=f.length;g<h;g++)if(0===f[g].indexOf(D)){var A=d(f[g]),n=new p(f[g],A);void 0===e[A]&&(e[A]=[]);n.bindText[g]=n;n.bindMaps.push(n);n.id=e[A].length;e[A].push(n)}}v[r].childNodes&&0!==v[r].childNodes.length&&(w=m(v[r].childNodes,w))}return w}return m(l.childNodes,{})}),insert:v(m.insert)});return m}}(U),Z=function(){return function(){function A(t){0===
t.length&&(t=m);document.body.innerHTML="<"+t+"></"+t+">";v(t);return A}var m="",v=function(){};A.base=function(t){if(void 0===t)return m;m="string"===typeof t?t:m;return A};A.onChange=function(m){if(void 0===m)return v;v="function"===typeof m?m:v;return A};A.watch=function(m){window.onhashchange=m?function(){A(window.location.hash.replace("#",""))}:null;return A};return A}}(),T=function(A,m,v,t,O){return function(v){function d(r,q,m,y){function k(b,c,e,d,f){for(var g=L({},b),h=0,k=Object.keys(c.prototype),
r=k.length;h<r;h++)g.__proto__[k[h]]=c.prototype[k[h]];h=0;k=Object.keys(d);for(r=k.length;h<r;h++)-1!==I.indexOf(k[h])?Object.defineProperty(g,k[h],H(d[k[h]],"filters"!==k[h])):d.pointers?void 0===d.pointers[k[h]]&&g.set(k[h],d[k[h]]):g.set(k[h],d[k[h]]);if(d.pointers)for(g.pointers||Object.defineProperty(g,"pointers",H({},!1,!0)),h=0,k=Object.keys(d.pointers),r=k.length;h<r;h++)g.pointers[k[h]]=d.pointers[k[h]],g.addPointer(g.pointers[k[h]].point,g.pointers[k[h]].key,k[h]);c.apply(g,e);h=0;k=Object.keys(f);
for(r=k.length;h<r;h++)-1!==I.indexOf(k[h])?Object.defineProperty(g,k[h],H(f[k[h]],"filters"!==k[h])):f.pointers?void 0===f.pointers[k[h]]&&g.set(k[h],f[k[h]]):g.set(k[h],f[k[h]]);if(f.pointers)for(g.pointers||Object.defineProperty(g,"pointers",H({},!1,!0)),h=0,k=Object.keys(f.pointers),r=k.length;h<r;h++)g.pointers[k[h]]=f.pointers[k[h]],g.addPointer(g.pointers[k[h]].point,g.pointers[k[h]].key,k[h]);h=0;k=Object.keys(g.filters);for(r=k.length;h<r;h++)g.filters[k[h]]=g.filters[k[h]].bind(g);if(g.sessionStorage){if(c=
sessionStorage.getItem(g.id||b))for(c=JSON.parse(c),h=0,k=Object.keys(c),r=k.length;h<r;h++)g.set(k[h],c[k[h]]);else sessionStorage.setItem(g.id||b,g.stringify());g.addChildDataUpdateListener("*",function(){sessionStorage.setItem(g.id||b,g.stringify())})}if(g.localStorage){if(c=localStorage.getItem(g.id||b))for(c=JSON.parse(c),h=0,k=Object.keys(c),r=k.length;h<r;h++)g.set(k[h],c[k[h]]);else localStorage.setItem(g.id||b,g.stringify());g.addChildDataUpdateListener("*",function(){localStorage.setItem(g.id||
b,g.stringify())})}g.store&&K.set(g.id||b,g);return g}function e(b,c,d){b.kb_viewmodel=d;c.wrapper.innerHTML=E.insert(c.template,d);var e=c.maps=c.map(c.wrapper);c.wrapper.kb_maps=e;Object.keys(e).forEach(function(b){e[b].forEach(function(b){switch(b.type){case "for":b.connect(d).createloop();break;case "component":b.connect(d).unsync();break;default:b.connect(d)}})});c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,c.wrapper)}function b(b){b=b.querySelectorAll("*");for(var c=0,e=b.length;c<
e;c++)b[c]instanceof HTMLUnknownElement&&d(b[c])}function c(c,d){p=new E(d,!0);Object.defineProperty(p.wrapper,"__kbcomponenttree",H(d.kb_mapper?d.kb_mapper.__kbcomponenttree.slice():[]));d.parentElement.replaceChild(p.fragment,d);q.unshift(p.wrapper);e(p.wrapper,p,k(c,l[c],q,h,t));-1===p.wrapper.__kbcomponenttree.indexOf(c)||p.wrapper.kb_viewmodel.multiple?(p.wrapper.__kbcomponenttree.push(c),p.wrapper.className+=" "+p.wrapper.kb_viewmodel.local,p.wrapper.className+=" "+p.wrapper.kb_viewmodel.id,
p.wrapper.className+=p.wrapper.kb_viewmodel.loopid?" "+p.wrapper.kb_viewmodel.loopid:"",p.wrapper.kb_viewmodel.subscribeDeep("*",function(b){var c=this.__kbref.local,d=this.__kbref.id,e=this.__kbref.loopid,f=this.__kbscopeString+(0!==this.__kbscopeString.length?".":"")+b.key;if(w[c]&&w[c][f])for(var g=0,h=w[c][f].length;g<h;g++)w[c][f][g](b);if(w[d]&&w[d][f])for(g=0,h=w[d][f].length;g<h;g++)w[d][f][g](b);if(w[e]&&w[e][f])for(g=0,h=w[e][f].length;g<h;g++)w[e][f][g](b)}).callAllSubscribers(),b(p.wrapper)):
(console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",c),console.error("Recursive Component %o on %o",p.wrapper,p.wrapper.parentElement),p.wrapper.parentElement.removeChild(p.wrapper))}var f=r.tagName.toLowerCase(),p,g=Object.keys(HTMLElement.prototype).filter(function(b){return 0===
b.indexOf("on")}),h={},t={};void 0===q&&(q=[]);m&&P(m,h);Object.defineProperty(h,"local",H(h.local||"local_"+f+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(h,"id",H(h.id||"id_"+f+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(h,"filters",H(h.filters||{},!1,!1,!0));"function"!==typeof h.onFinish&&(h.onFinish=function(){});Object.defineProperty(h,"onFinish",H(h.onFinish,!0,!1,!0));"function"!==typeof h.listen&&(h.listen=N);Object.defineProperty(h,
"listen",H(h.listen,!0,!1,!0));"function"!==typeof h.unlisten&&(h.unlisten=R);Object.defineProperty(h,"unlisten",H(h.unlisten,!0,!1,!0));"function"!==typeof h.alert&&(h.alert=M);Object.defineProperty(h,"alert",H(h.alert,!0,!1,!0));"string"===typeof h.sessionStorage&&(h.sessionStorage="true"===h.sessionStorage);Object.defineProperty(h,"sessionStorage",H(void 0!==h.sessionStorage?h.sessionStorage:!1,!0,!1,!0));"string"===typeof h.localStorage&&(h.localStorage="true"===h.localStorage);Object.defineProperty(h,
"localStorage",H(void 0!==h.localStorage?h.localStorage:!1,!0,!1,!0));"string"===typeof h.store&&(h.store="true"===h.store);Object.defineProperty(h,"store",H(void 0!==h.store?h.store:!1,!0,!1,!0));"string"===typeof h.multiple&&(h.multiple="true"===h.multiple);Object.defineProperty(h,"multiple",H(void 0!==h.multiple?h.multiple:!1,!0,!1,!0));y&&P(y,t);t.innerHTML=Array.prototype.slice.call(r.childNodes);m=0;for(y=r.attributes.length;m<y;m++)t[r.attributes[m].name]=r.attributes[m].value;m=0;for(y=g.length;m<
y;m++)r[g[m]]&&(t[g[m]]=r[g[m]]);r.k_post&&P(r.k_post,t);d.isRegistered(f)||r.kb_isLoading?d.isRegistered(f)&&c(f,r):(d.loadWaitList(f,function(b,d){c(f,r)}),d.loadWaitList(f).loading||(d.loadWaitList(f).loading=!0,Q(f)))}function P(d,q){var l=Object.keys(d);q.pointers||Object.defineProperty(q,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var m=0,k=l.length;m<k;m++)if(L.prototype.isObservable(d,l[m]))q.pointers[l[m]]={key:d.__kbscopeString.split(".").pop(),point:d.__kbImmediateParent};
else if(L.prototype.isMixed(d[l[m]]))q.pointers[l[m]]={key:d[l[m]].__kbscopeString.split(".").pop(),point:d[l[m]].__kbImmediateParent};else if(L.prototype.isObject(d[l[m]]))for(var e=0,b=Object.keys(d[l[m]]);e<k;e++)q[l[m]][b[e]]=d[l[m]][b[e]];else if(L.prototype.isArray(d[l[m]]))for(e=0;e<k;e++)q[l[m]][e]=d[l[m]][e];else q[l[m]]=d[l[m]]}function H(d,q,l,m){return{value:d,writable:!!q,enumerable:!!m,configurable:!!l}}function R(d,q,l){if(2===arguments.length)if(l=q.bind(this),q=d,F[q])for(var m=0,
k=F[q].length;m<k;m++)F[q][m].toString()===l.toString()&&F[q].splice(m,1);else console.error("no listeners exists by key %o",q);else if(l=l.bind(this),w[d]&&w[d][q])for(m=0,k=w[d][q].length;m<k;m++)w[d][q].toString()===l.toString()&&w[d][q].splice(m,1);return this}function N(d,q,m){if(2===arguments.length)m=q.bind(this),q=d,F[q]||(F[q]=[]),F[q].push(m);else if(m=m.bind(this),w[d]||(w[d]={}),w[d][q]||(w[d][q]=[]),w[d][q].push(m),document.querySelector("."+d)){var l=w[d][q],k=document.querySelector("."+
d).kb_mapper.kb_viewmodel,e=k.getLayer(q),b=q.split(".").pop(),c=e[b];l[l.length-1]({key:b,value:c,oldValue:c,local:e,kbref:k,onChange:!1,initial:!0})}return this}function M(d,m){if(F[d])for(var l=0,t=F[d].length;l<t;l++)F[d][l](m);return this}window.K_Components||(window.K_Components={});var Q=m().onLoad(function(m,l){var t="<style>"+unescape(l.prototype.k_css)+"</style>"+unescape(l.prototype.k_html);d.register(m,l,t,l.prototype.cms);d.loadWaitList(m).forEach(function(d){d(m,l)});d.loadWaitList(m,
"clear")}),L=A(),D=v||{},E=t().addEventListener("loopitem",function(m){var l=m.node.tagName.toLowerCase();d.isRegistered(l)||m.node.kb_isLoading?d.isRegistered(l)&&d(m.node):(m.node.kb_isLoading=!0,d.loadWaitList(l,function(l,q){d(m.node)}),d.loadWaitList(l).loading||(d.loadWaitList(l).loading=!0,Q(l)))}),G=O().base(void 0!==D.base?D.base:"default").watch(!0).onChange(function(l){d(document.querySelector(l))}),K=L({},"Model"),l={},F={},w={},x=function(){return window.location.search.replace("?","").split("&").filter(function(d){return 0!==
d.length}).reduce(function(d,l){d[l.split("=")[0]]=l.split("=")[1];return d},{})}(),I="id filters class sessionStorage localStorage store component multiple".split(" "),z={},J;d.register=function(m,q,t,v){E.register(m,t);l[m]=q;return d};d.isRegistered=function(d){return void 0!==l[d]&&E.isRegistered(d)};d.registered=function(){return Object.keys(l)};d.loadWaitList=function(l,m){if("undefined"===typeof m&&l)return z[l];if(l){if(void 0===z[l]||"clear"===m){var t=void 0===z[l]?!1:!!z[l].loading;z[l]=
[];z[l].loading=t}"function"===typeof m&&z[l].push(m)}return d};d.localRouting=function(l){l?(J=Node.prototype.appendChild,Node.prototype.appendChild=function(d){if("script"===d.nodeName.toLowerCase()){d.src=d.src.substring(0,-1!==d.src.indexOf("?")?d.src.indexOf("?"):d.src.length);var l=d.src.match(/(.*?component\/)/);l&&(x.env||(x.env="prod"),"dev"===x.env&&(x.env="qa"),l=d.src.replace(l[0],"").replace(/[\/\s]/g,""),d.src=(void 0!==D.prefix?D.prefix:"")+"/components/"+l+"/build/"+x.env+"/"+l+(x.debug&&
"prod"!==x.env?"":".min")+".js",arguments[0]=d)}return J.apply(this,arguments)}):J&&(Node.prototype.appendChild=J,J=null);return d};d.hashRouting=function(d){d&&(document.body?G(window.location.hash.replace("#","")):document.addEventListener("DOMContentLoaded",function(){G(window.location.hash.replace("#",""))}))};return d}}(W,X,U,Y,Z);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return T}):"undefined"!==typeof module&&(module.exports=
T);return T}();
