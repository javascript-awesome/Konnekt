var Konnekt=function(){var T=function(){return function(B,t,r,w){function M(b,c,f,y){b=void 0===b?{}:b;var h={},l=window.Proxy?new Proxy(h,{set:I,deleteProperty:O}):h,e=Object.keys(b,"all");Object.defineProperties(h,{__kbname:d("string"===typeof c?c:"default",!0,!0),__kbref:d(f?f.__kbref||f:l,!0,!0),__kbscopeString:d(y||"",!0,!0),__kbImmediateParent:d(f||null,!0,!0),__kbsubscribers:d({}),__kblisteners:d({}),__kbupdatelisteners:d({}),__kbparentlisteners:d({}),__kbparentupdatelisteners:d({}),__kbcreatelisteners:d([]),
__kbdeletelisteners:d([]),__kbparentcreatelisteners:d([]),__kbparentdeletelisteners:d([]),__kbmethodlisteners:d([]),__kbmethodupdatelisteners:d([]),__kbpointers:d({}),__kbevents:d(v),length:d(0,!0),__kbnonproxy:d(h,!1,!0),__kbproxy:d(l,!1,!0),_stopChange:d(!1,!0)});h.__proto__=M.prototype;c=0;for(f=e.length;c<f;c++)l.set(e[c],b[e[c]]);h.__kbevents.addlistener=[];h.__kbevents.removelistener=[];h.addActionListener("addlistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var c=
b.local.__kbpointers[b.arguments[0]],c=c.point.getLayer(c.keys);if(void 0!==c[b.arguments[0]])c[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var c=b.local.__kbpointers[b.arguments[0]],c=c.point.getLayer(c.keys);if(void 0!==c[b.arguments[0]])c[b.arguments[2]](b.arguments[0],b.arguments[1])}});return l}function q(b,c,f,y,h,l,e,g){this.stopPropogation=function(){this._stopPropogration=
!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=c;this.arguments=l;this.type=this.event=f;this.listener=e;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=y;this.oldValue=h;this.stopChange=g}function d(b,c,f,y){return{value:b,writable:!!c,enumerable:!!y,configurable:!!f}}function Q(b,c,f){return{get:function(){return b.call(this)},set:function(f){c&&(b=f)},enumerable:!1,configurable:!!f}}function P(b,
c){var f=c,y=c;return{get:function(){return f},set:function(c){var l=new q(this,b,"set",c,f,arguments,"__kblisteners",this._stopChange);!0!==k(l)&&(y=f,f=c,l.stopChange||(l.listener="__kbupdatelisteners",l.type="postset",k(l)),this._stopChange||this.callSubscribers(b,f,y));this._stopChange=!1},configurable:!0,enumerable:!0}}function G(){var b=Array.prototype.slice.call(arguments),c=b.shift();return{get:function(){return b.reduce(function(b,c){return b[c]},c)},set:function(f){var y=b.slice(0,b.length-
1).reduce(function(b,c){return b[c]},c);(this._stopChange?y.stopChange():y)[b[b.length-1]]=f;this._stopChange=!1},enumerable:!0,configurable:!0}}function E(b,c){for(var f=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],y=[],h,l=0,e=f.length;l<e;l++)if(h=b[f[l].listener],p.call(h))for(var y=
Object.keys(h),g=0,k=y.length;g<k;g++)for(var d=0,n=h[y[g]].length;d<n;d++)c[f[l].method](y[g],h[y[g]][d]);else for(g=0,k=h.length;g<k;g++)c[f[l].method](h[g])}function I(b,c,f){if(u(b,c)||"length"===c){if("length"===c)if(f>b.length&&void 0!==b[f-1])b.length=f;else{if(f<b.length){c=f;for(var y=b.length;c<y;c++)b[c]&&delete b[c];b.length=f}}else b[c]=f;return!0}b.set(c,f)}function O(b,c){b.del(c);return!0}function N(b,c,f){var y=g(f),h=p(f),l=F(f);if(y&&f.__kbname!==b.__kbname)"default"===f.__kbname?
b.merge(f,c):b.__kbpointers[c]||b.addPointer(f,c);else{var y=new q(this,c,"create",f,void 0,[],"__kbcreatelisteners",this._stopChange),e=k(y),D=parseInt(c,10);if(!0!==e)if((h||l)&&0!==Object.keys(f,"all").length)for(N.call(this,b,c,{}),h=0,l=Object.keys(f,"all"),y=l.length;h<y;h++)N.call(this[c],b[c],l[h],f[l[h]]);else{if(h||l)f=new M(f,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+c),E(b,f);Object.defineProperty(b,c,P(c,f));!isNaN(D)&&b.length<=D&&(b.length=D+1);y.listener=
"__kbupdatelisteners";y.type="postcreate";k(y)}}}function K(b,c,f,y){var h=g(f),l=p(f),e=F(f);if(h&&f.__kbname!==b.__kbname)"default"===f.__kbname?b.merge(f,c):b.__kbpointers[c]||b.addPointer(f,c);else if(void 0===b[c])-1===m.indexOf(c)?N.call(this,b,c,f):(y?b.stopChange():b)[c]=f;else if(l||e)for(h=0,l=Object.keys(f,"all"),e=l.length;h<e;h++)K.call(this[c],b[c],l[h],f[l[h]],y);else(y?b.stopChange():b)[c]=f}function J(b){return{}.toString.call(b).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function p(b){return"object"===
J(void 0!==b?b:this)}function F(b){return"array"===J(void 0!==b?b:this)}function g(b){return"mixed"===J(void 0!==b?b:this)}function u(b,c){c="string"===typeof b?b:c;var f=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,c);return f?void 0===f.value:!1}function x(b,c){"number"===typeof b&&(b=b.toString());var f=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var y=new q(this,b,"set",c,this[b],arguments,"__kbmethodlisteners");
!0!==k(y)&&(K.call(this,f,b,c,this._stopChange),this.stopChange=void 0,y.type="postset",y.listener="__kbmethodupdatelisteners",k(y));return this}function H(b){return b.split(".")}function L(b,c){return function(f,y){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=this[c],l=new q(this,c,"addlistener",h,void 0,arguments,"");"string"===typeof f&&1!==H(f).length&&(h=H(f),f=h.pop(),h=h.join("."),l.local=this.getLayer(h),h=l.local[c],l.value=h);!0!==k(l)&&(p.call(h)?(void 0===h[f]&&
(h[f]=[]),h[f].push(y),l.type="postaddlistener",k(l)):F.call(h)&&"function"===typeof f&&(h.push(f),l.type="postaddlistener",k(l)));return this}}function C(b,c){return function(f,y){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=this[c],l=new q(this,c,"removelistener",h,void 0,arguments,"");"string"===typeof f&&1!==H(f).length&&(h=H(f),h.pop(),h.join("."),l.local=this.getLayer(h),h=l.local[c],l.value=h,f=H(f).pop());if(!0!==k(l))if(p.call(h)){if(void 0!==h[f])for(var e=0,g=
h[f].length;e<g;e++)if(h[f][e].toString()===y.toString()){h[f].splice(e,1);l.type="postremovelistener";k(l);break}}else if(F.call(h)&&"function"===typeof f)for(e=0,g=h.length;e<g;e++)if(h[e].toString()===f.toString()){h.splice(e,1);l.type="postremovelistener";k(l);break}return this}}function A(b,c){function f(b,c,l){var e=Object.keys(this,"all").filter(function(b){return g.call(this[b])}.bind(this)),D=this,k=b;"string"===typeof b&&1!==H(b).length&&(D=H(b),k=D.pop(),D=D.join("."),D=this.getLayer(D),
void 0===D[l][k]&&(D[l][k]=[]),D[l][k].push(c));p.call(D[l])?(void 0===D[l][k]&&(D[l][k]=[]),D[l][k].push(c),D=D.__kbpointers[k],D=D.point.getLayer(D.keys),void 0!==D[k]&&(void 0===D[l][k]&&(D[l][k]=[]),D[l][k].push(_func))):D[l].push(c);k=0;for(D=e.length;k<D;k++)f.call(this[e[k]],b,c,l)}return function(e,h){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var l=new q(this,c,"addchildlistener",void 0,void 0,arguments,"");!0!==k(l)&&(f.call(this.__kbnonproxy,e,h,c),l.type="postaddchildlistener",
k(l));return this}}function z(b,c){function f(b,c,l){var e=Object.keys(this,"all").filter(function(b){return g.call(this[b])}.bind(this)),k=this,d=b;if("string"===typeof b&&1!==H(b).length){var n=H(b),d=n.pop();n.join(".");k=this.getLayer(n);if(void 0!==k[l][b])for(var n=0,m=k[l][b].length;n<m;n++)if(k[l][b][n].toString()===c.toString()){k[l][b].splice(n,1);break}}if(p.call(k[l])){if(void 0!==k[l][d]){n=0;for(m=k[l][d].length;n<m;n++)if(k[l][d][n].toString()===c.toString()){k[l][d].splice(n,1);break}if(-1!==
k.__kbpointers.indexOf(d)&&(n=k.__kbpointers[d],k=n.point.getLayer(n.keys),void 0!==k[l][d]))for(n=0,m=k[l][d].length;n<m;n++)if(k[l][d][n].toString()===c.toString()){k[l][d].splice(n,1);break}}}else for(n=0,m=k[l].length;n<m;n++)if(k[l][n].toString()===c.toString()){k[l].splice(n,1);break}n=0;for(m=e.length;n<m;n++)f.call(this[e[n]],b,c,l)}return function(e,h){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var l=new q(this,c,"removechildlistener",void 0,void 0,arguments,"");!0!==
k(l)&&(f.call(this.__kbnonproxy,e,h,c),l.type="postremovechildlistener",k(l));return this}}var v={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},
m=["__proto__","_stopChange"],n=function(b,c){if(!c._stopPropogration&&b)for(var f=0,e=b.length;f!==e&&(b[f](c),!c._stopPropogration);f++);},k=function(b){if(b.listener){var c=b.local[b.listener],f=b.local[b.listener.replace("__kb","__kbparent")];p.call(c)?(n(c[b.key],b),n(c["*"],b)):n(c,b);p.call(f)?(n(f[b.key],b),n(f["*"],b)):n(f,b)}n(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},e=Array.prototype.sort;Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);
Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof M?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,c){return Object._keys(b).filter(function(b){return c&&"object"!==c&&"o"!==c?"all"===c?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};Object.defineProperties(M.prototype,{"typeof":d(J,!1,!0),sizeof:d(function(b){function c(b){for(var h=Object.keys(b,"all"),e=0,g=void 0,k=0,n=h.length;k<n;k++)g=b[h[k]],"object"===
typeof g&&void 0!==g&&null!==g?-1===f.indexOf(g)&&(f.push(g),e+=c(g)):"string"===typeof g?e+=2*g.length:"number"===typeof g?e+=8:"boolean"===typeof g?e+=4:"function"===typeof g&&(e+=2*g.toString().length),e+=2*h[k].length;return e}var f=[];return c(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:d(p,!1,!0),isArray:d(F,!1,!0),isMixed:d(g,!1,!0),isObservable:d(u,!1,!0),stringify:d(function(b){var c=[];return JSON.stringify(b||this,function(b,e){if(F(e)||p(e)){if(-1!==c.indexOf(e))return;c.push(e)}return e})},
!1,!0),getKeys:d(function(b,c){c="string"===typeof b?b:c?c:"object";return Object.keys("string"===typeof b||void 0===b?this:b,c)},!1,!0),getIndexes:d(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var c=[],f=0,e=b.length;f<e;f++)void 0!==b[f]&&(c[c.length]=f);return c},!1,!0),keyCount:Q(function(){return this.getKeys("object").length},!1,!0),indexCount:Q(function(){return this.length},!1,!0),count:Q(function(){return this.keyCount+this.indexCount},!1,!0),concat:d(Array.prototype.concat),
every:d(Array.prototype.every),filter:d(Array.prototype.filter),find:d(Array.prototype.find),findIndex:d(Array.prototype.findIndex),forEach:d(Array.prototype.forEach),includes:d(Array.prototype.includes),indexOf:d(Array.prototype.indexOf),join:d(Array.prototype.join),lastIndexOf:d(Array.prototype.lastIndexOf),map:d(Array.prototype.map),reduce:d(Array.prototype.reduce),reduceRight:d(Array.prototype.reduceRight),slice:d(Array.prototype.slice),some:d(Array.prototype.some),entries:d(Array.prototype.entries),
toLocaleString:d(Array.prototype.toLocaleString),add:d(function(b,c){x.call(this,b,c);return this}),set:d(x),get:d(function(b){"number"===typeof b&&(b=b.toString());var c=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(c)return c[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),del:d(function(b,c){var f="number"===typeof b||!isNaN(parseInt(b,10));f&&(b=b.toString());var e=-1!==b.indexOf(".")?this.getLayer(b):
this,h=b.split(".").pop();if(e&&void 0!==e[h])if(f&&e.length>parseInt(b,10)&&!c)e=e.__kbnonproxy,e.splice(h,1);else{var l=new q(e,b,"delete",e[h],void 0,[],"__kbmethodlisteners"),g=k(l),n=new q(e,b,"delete",e[h],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==k(n)&&!0!==g&&(e=e.__kbnonproxy,Object.defineProperty(e,h,d(void 0,!0,!0,!1)),delete e[h],f&&e.length>parseInt(b,10)&&c&&--e.length,l.type="postdelete",l.listener="__kbmethodupdatelisteners",k(l),n.listener="__kbupdatelisteners",n.type=
"postdelete",n.oldValue=n.value,n.value=void 0,k(n))}return this}),exists:d(function(b){var c=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());return c?void 0!==c[b]:!!c}),addPrototype:d(function(b,c){var f=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===f[b]?Object.defineProperty(f.__proto__,b,d(c,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",
prop,f);return this}),addPointer:d(function(){var b=Array.prototype.slice.call(arguments),c=b.shift(),f=b[b.length-1];c instanceof M||(c=new M(c,c.__kbname));var e=new q(this,f,"create",c[f],void 0,[],"__kbcreatelisteners",this._stopChange),h=this.__kbnonproxy;e.root=c.__kbref.__kbproxy;if(!0!==k(e)){Object.defineProperty(h,f,G.apply(h,arguments));h.__kbpointers[f]={keys:b.join("."),point:c};var b=h,c=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],
h=[],l;if(b[f].__kbImmediateParent)for(var g=0,n=c.length;g<n;g++){l=b[c[g].listener];for(var h=Object.keys(l),d=0,m=h.length;d<m;d++)if(f===h[g])for(var u=0,p=l[h[g]].length;u<p;u++)void 0===b[f].__kbImmediateParent[c[g].listener][f]&&(b[f].__kbImmediateParent[c[g].listener][f]=[]),b[f].__kbImmediateParent[c[g].listener][f].push(l[h[g]][u])}E(b,b[f]);e.listener="__kbupdatelisteners";e.type="postcreate";k(e)}return this}),move:d(function(b,c){this.__kbnonproxy.set(c,b[c]);g(b)?b.del(c):(b[c]=null,
delete b[c]);return this}),copy:d(function(b,c){var f=this.__kbnonproxy;g(b)?"default"===b.__kbname?f.merge(b[c],c):f.addPointer(b,c):f.set(c,b[c]);return this}),merge:d(function(b,c){function f(b,c){for(var h=g(b)?b.keys("object"):Object.keys(b),k,n=0,d=h.length;n<d;n++)k=b[h[n]],"object"===typeof k&&-1===e.indexOf(k)&&"undefined"!==c[h[n]]?f(k,c):c.set(h[n],"object"===typeof k?{}:k)}var e=[],h=this.__kbnonproxy;c&&void 0===h[c]&&h.set(c,{});f(b,c?h[c]:h);return this}),copyWithin:d(function(b,c,
f){c=c||0;f=f||0;var e=new q(this,b,"copyWithin",this[b],void 0,arguments,"__kbmethodlisteners"),h=this.__kbnonproxy;if(!0!==k(e)&&b<h.length){b=0>b?h.length-1:b;c=c<h.length?c:h.length-1;f=f<h.length?f:h.length-1;c=0>c?h.length-1:c;f=0>c?h.length-1:f;for(var l=c;l<=f;l++)h.set(b+(l-c),h[l]);e.type="postcopyWithin";e.listener="__kbmethodupdatelisteners";k(e)}return this}),fill:d(function(b,c,f){c=void 0!==c?Math.max(0,c):0;f=void 0!==f&&f<=this.length?Math.min(this.length,Math.max(0,f)):this.length;
var e=new q(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),h=this.__kbnonproxy;if(!0!==k(e)){for(var l=a.key;l<f;l++)h[l]=b;e.type="postfill";e.listener="__kbmethodupdatelisteners";k(e)}return this}),pop:d(function(){var b=new q(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==k(b)){var f=c[c.length-1];c.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";k(b);return f}return null}),push:d(function(b){var c=
new q(this,this.length,"push",b,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;!0!==k(c)&&(f.set(f.length,b),c.type="postpush",c.listener="__kbmethodupdatelisteners",k(c));return this.length}),reverse:d(function(){var b=new q(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==k(b)){for(var f=null,e=null,h=c.length,f=0;f<h/2;f+=1){var e=h-1-f,l=c[f];c[f]=c[e];c[e]=l}b.type="postreverse";b.listener="__kbmethodupdatelisteners";k(b)}return this}),
shift:d(function(){var b=new q(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==k(b)){for(var f=a.key,e=this.length-1;f<e;f++)c[f]=c[f+1];c.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";k(b)}return null}),sort:d(function(){var b=new q(this,void 0,"sort",void 0,void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;!0!==k(b)&&(e.apply(c,arguments),b.type="postsort",b.listener="__kbmethodupdatelisteners",k(b));return this}),
splice:d(function(b,c,f){b="string"===typeof b?parseInt(b,10):b;var e=new q(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),h=this.__kbnonproxy;if(!0!==k(e)){var l=[],g=Array.prototype.slice.call(arguments,2),n=g.length-2,d=0;if(0!==c&&void 0!==h[b-1+c])for(var m=0,u=c;m<u;m++){l.push(h[b+m]);for(var p=b+m,x=this.length-1;p<x;p++)h[p]=h[p+1];h.del(h.length-1,!0)}if(0!==n)for(m=0,u=n;m<u;m++){d=b+Math.min(1,m);p=h.length;for(x=d;p>x;p--)h.set(p,h[p-1]);h.set(d,g[m])}e.type="postsplice";
e.listener="__kbmethodupdatelisteners";k(e);return l}return[]}),unshift:d(function(){var b=new q(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),c=this.__kbnonproxy;if(!0!==k(b)){for(var f=Array.prototype.slice.call(arguments),e=c.length-1+f.length,h=f.length;-1!==e;e--)e<h?c.set(e,f[e]):c.set(e,c[e-f.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";k(b)}return this.length}),getLayer:d(function(b){function c(b){var e=b[0];return void 0===this[e]&&0!==b.length-
1?null:g(this[e])?0!==b.length-1?(b.shift(),c.call(this[e],b)):this[e]:this}b=H(b);return c.call(this,b)}),setLayer:d(function(b){function c(b){var e=b[0];void 0===this[e]&&0!==b.length-1&&(this[e]=M({},this.__kbname,this,this.__kbscopeString+"."+e));return g(this[e])?0!==b.length-1?(b.shift(),c.call(this[e],b)):this[e]:this}b=H(b);return c.call(this,b)}),ignoreCreate:d(function(b){-1===m.indexOf(b)&&m.push(b);return this}),addActionListener:d(function(b,c){var e=this.__kbnonproxy;void 0!==e.__kbref.__kbevents[b]&&
e.__kbref.__kbevents[b].push(c);return this}),removeActionListener:d(function(b,c){var e=this.__kbnonproxy;if(void 0!==e.__kbref.__kbevents[b])for(var g=0,h=e.__kbref.__kbevents[b];g<h;g++)if(e.__kbref.__kbevents[b][g].toString()===c.toString()){e.__kbref.__kbevents[b].splice(g,1);break}return this}),subscribe:d(function(b,c){var e=this.__kbnonproxy;void 0===e.__kbsubscribers[b]&&(e.__kbsubscribers[b]=[]);e.__kbsubscribers[b].push(c);return this}),unsubscribe:d(function(b,c){var e=this.__kbnonproxy;
if(void 0!==e.__kbsubscribers[b])for(var g=0,h=e.__kbsubscribers[b].length;g<h;g++)if(e.__kbsubscribers[b][g].toString()===c.toString()){e.__kbsubscribers[b].splice(g,1);break}return this}),callSubscribers:d(function(b,c,e){var g=this.__kbnonproxy;if(void 0!==g.__kbsubscribers[b])for(var h=0,l=g.__kbsubscribers[b].length;h<l;h++)g.__kbsubscribers[b].call(this,b,c,e);return this}),stopChange:d(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(M.prototype,{addDataListener:d(L("addDataListener",
"__kblisteners")),removeDataListener:d(C("removeDataListener","__kblisteners")),addDataUpdateListener:d(L("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:d(C("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:d(L("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:d(C("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:d(L("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:d(C("removeDataDeleteListener",
"__kbdeletelisteners")),addDataMethodListener:d(L("addDataMethodListener","__kbmethodlisteners")),removeDataMethodListener:d(C("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:d(L("addDataMethodUpdateListener","__kbmethodupdatelisteners")),removeDataMethodUpdateListener:d(C("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:d(A("addChildDataListener","__kbparentlisteners")),removeChildDataListener:d(z("removeChildDataListener","__kbparentlisteners")),
addChildDataUpdateListener:d(A("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:d(z("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:d(A("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:d(z("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:d(A("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:d(z("removeChildDataDeleteListener",
"__kbparentdeletelisteners"))});return M}}(),U=function(){return function(){function B(w){if("object"===typeof w)for(var r=0,q=w.length;r<q;r++)K_Components[w[r]]?t(w[r],K_Components[w[r]],document.getElementById("script_"+w[r])):B.load(w[r],"component/"+w[r]+"/"+location.search,t);else"string"===typeof w&&(K_Components[w[r]]?t(w,K_Components[w],document.getElementById("script_"+w)):B.load(w,"component/"+w+"/"+location.search,t))}var t=function(){},r=/(<\/.*?>)/g;window.K_Components||(window.K_Components=
{});B.getUnknowns=function(t){var B=t.match(r);return B.map(function(q){return q.replace(/[<\/>]/g,"")}).filter(function(q,d){return document.createElement(q)instanceof HTMLUnknownElement&&-1===B.indexOf(q,d+1)&&!K_Components[q]})};B.load=function(t,r,q){document.head.appendChild(function(d,q,t){var w=document.createElement("script");w.type="text/javascript";w.charset="utf-8";w.async=!0;w.src=q;w.id="script_"+d;w.onload=function(){t(d,K_Components[d],this)};return w}(t,r,q));return B};B.onLoad=function(w){if(void 0===
w)return t;t="function"===typeof w?w:t;return B};return B}}(),S=function(){function B(){function t(e,b){var c=e.length,f;for(f=0;f<c&&(e[f](b),void 0===b._stopPropogation);f++);}function r(e,b){var c=e.length,f;for(f=0;f<c&&(b.child=b.target,b.target=e[f].parent,e[f].func(b),void 0===b._stopPropogation);f++);}function w(e,b){for(var c=e.length;0<c;m++)if(e[m].toString()===b.toString())return!0;return!1}function B(e,b,c,f,g,h,l,k){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=
function(){this._preventDefault=!0};this.value=c;this.oldValue=f;this.target=e;this.attr=b;this.arguments=g;this.action=h;this.child=void 0;this.type=l;this.stopChange=k}function q(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function d(e,b,c,f){var g=e.get,h=e.set,l;return function(e){l=
g.call(this);c(this,b,e,l,void 0,this._stopChange)&&h.call(this,e);this._stopChange||f(this,b,e,l);this._stopChange=void 0}}function Q(e,b,c,f){var g;return function(h){g=e.value;c(this,b,h,g,arguments,this._stopChange)&&(e.value=h);this._stopChange||f(this,b,h,g,arguments);this._stopChange=void 0}}function P(e,b,c,f){var g=e.value,h;return function(){c(this,b,null,null,arguments,this._stopChange)&&(h=g.apply(this,arguments));this._stopChange||f(this,b,null,null,arguments,h);this._stopChange=void 0;
return h}}function G(e,b,c,f,g){var h=g.style,l=b.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),k,n;return{get:function(){return n},set:function(e){k=n;c(g,b,e,k,void 0,this._stopChange)&&(n=e,h.setProperty(l,e));this._stopChange||f(g,b,e,k);this._stopChange=void 0},enumerable:!0,configurable:!0}}function E(e,b,c,f){if("function"!==typeof b)return g;var k=-1!==["value","checked"].indexOf(e),h=-1!==z.indexOf(e),l;if(this.toString()!==g.toString())if(c){var n=this.querySelectorAll("*");c=n.length;
for(var d,m=0;m<c;m++){d=n[m].attrListeners();if(k||"*"===e)void 0!==n[m].addInputBinding&&n[m].addInputBinding(),void 0!==n[m].addInputBoxBinding&&n[m].addInputBoxBinding();if(h)g.injectStyleProperty(n[m],e),l=f?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===e){l=f?"_parentStyleUpdateListeners":"_parentStyleListeners";c=z.length;for(var p=0;p<c;p++)g.injectStyleProperty(n[m],z[p]);void 0===d[l]["*"]&&(d[l]["*"]=[]);d[l]["*"].push({parent:this,func:b})}l=f?"_parentAttrUpdateListeners":
"_parentAttrListeners"}void 0===d[l][e]&&(d[l][e]=[]);d[l][e].push({parent:this,func:b})}}else{d=this.attrListeners();if(h)l=f?"_styleUpdateListeners":"_styleListeners",g.injectStyleProperty(this,e);else{if(k||"*"===e)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===e){l=f?"_styleUpdateListeners":"_styleListeners";c=z.length;for(m=0;m<c;m++)g.injectStyleProperty(this,z[m]);void 0===d[l][e]&&(d[l][e]=[]);d[l][e].push(b)}l=f?
"_attrUpdateListeners":"_attrListeners"}void 0===d[l][e]&&(d[l][e]=[]);d[l][e].push(b)}else{if(k||"*"===e)for(p=document.querySelectorAll("input, textarea"),c=p.length,m=0;m<c;m++)void 0!==p[m].addInputBinding&&p[m].addInputBinding(),void 0!==p[m].addInputBoxBinding&&p[m].addInputBoxBinding();if(h){h=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=h.length+1;h.unshift(document.body);for(m=0;m<c;m++)g.injectStyleProperty(h[m],e);l=f?L:H}else{if("*"===e){h=Array.prototype.slice.call(document.body.querySelectorAll("*"));
c=h.length+1;k=z.length;h.unshift(document.body);for(m=0;m<c;m++)for(p=0;p<k;p++)g.injectStyleProperty(h[m],z[p]);l=f?L:H;void 0===l[e]&&(l[e]=[]);l[e].push(b)}l=f?x:u}void 0===l[e]&&(l[e]=[]);l[e].push(b)}}function I(e,b,c,f){function k(c,e){var f=e[c],h=f.length;for(l=0;l<h;l++)f[l].toString()===b.toString()&&f.splice(l,1)}if("function"!==typeof b)return g;["value","checked"].indexOf(e);var h=-1!==z.indexOf(e),l;if(this.toString()!==g.toString())if(c){c=this.querySelectorAll("*");var n=c.length;
h?(h=f?"_childStyleUpdateListeners":"_childStyleListeners",k(e,this.attrListeners()[h]),h=f?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===e&&(h=f?"_childStyleUpdateListeners":"_childStyleListeners",k(e,this.attrListeners()[h])),h=f?"_childAttrUpdateListeners":"_childAttrListeners",k(e,this.attrListeners()[h]),h=f?"_parentAttrUpdateListeners":"_parentAttrListeners");for(l=0;l<n;l++){for(var m=c[l].attrListeners()[h][e],d=m.length,p=0;p<d;p++)m[p].isEqualNode(this)&&m.slice(p,1);if("*"===
e)for(listenersStyle=f?"_parentStyleUpdateListeners":"_parentStyleListeners",m=c[l].attrListeners()[h][e],d=m.length,p=0;p<d;p++)m[p].isEqualNode(this)&&m.slice(p,1)}}else h?h=f?"_styleUpdateListeners":"_styleListeners":("*"===e&&(h=f?"_styleUpdateListeners":"_styleListeners",k(e,this.attrListeners()[h])),h=f?"_attrUpdateListeners":"_attrListeners"),k(e,this.attrListeners()[h]);else h?h=f?L:H:("*"===e&&(h=f?L:H,k(e,h)),h=f?x:u),k(e,h)}function O(e,b){g.addAttrListener.call(this,e,b,!0);return this}
function N(e,b){g.addAttrUpdateListener.call(this,e,b,!0);return this}function K(e,b){g.removeAttrListener.call(this,e,b,!0);return this}function J(e,b){g.removeAttrUpdateListener.call(this,e,b,!0);return this}function p(e,b,c){var f=this.attrListeners();"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(e){case "attr":if(w(f._attrListeners[b],c))return!0;break;case "attrupdate":if(w(f._attrUpdateListeners[b],c))return!0}return!1}function F(){this._stopChange=!0;return this}function g(){function e(b,
c){var e,f=c.length;for(e=0;e<f;e++)-1===b.indexOf(c[e])&&b.push(c[e]);return b}function b(b,c){for(var e=Object.keys(b),f,h,g=0,l=e.length;g<l;g++)if(f=e[g],void 0===c[f])c[f]=b[f].slice();else for(var k=0,n=b[f].length;k<n;k++)h=b[f][k],c[f].push(h)}function c(c){if(3!==c.target.nodeType&&8!==c.target.nodeType){var f=c.target.attrListeners(),h,l=["value","checked"],k=f._attrListeners,n=f._attrUpdateListeners,m=f._parentAttrListeners;h=f._parentAttrUpdateListeners;var d=!1;if(void 0!==u["*"]||void 0!==
x["*"])d=!0;if(!0!==d&&void 0!==k["*"]||void 0!==n["*"]||void 0!==m["*"]||void 0!==h["*"])d=!0;if(!0!==d)for(var p=0;p<l.length;p++)if(void 0!==u[l[p]]||void 0!==x[l[p]]||void 0!==k[l[p]]||void 0!==n[l[p]]||void 0!==m[l[p]]||void 0!==h[l[p]]){d=!0;break}h=d;l=Object.keys(H);k=Object.keys(L);Object.keys(f._styleListeners);Object.keys(f._styleUpdateListeners);n=Object.keys(f._parentStyleListeners);f=Object.keys(f._parentStyleUpdateListeners);m=[];if(0!==l.length||0!==k.length)m=e(m,l),m=e(m,k);if(0!==
m.length&&0!==n.length||0!==f.length)m=e(m,n),m=e(m,f);-1!==m.indexOf("*")&&(m=z);var f=m,l=f.length,y,q,k=[],t,n="outerHTML"===c.attr||"outerText"===c.attr?c.attr:void 0,m=c.target;void 0!==n&&(c.attr="appendChild",c.arguments=[c.target],c.target=c.target.parentElement);if(h){"appendChild"===c.attr&&3!==c.arguments[0].nodeType&&8!==c.arguments[0].nodeType?(k=Array.prototype.slice.call(c.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==c.arguments[0].tagName&&"TEXTAREA"!==c.arguments[0].tagName||
k.unshift(c.arguments[0])):k=Array.prototype.slice.call(c.target.querySelectorAll("input,textarea"));t=k.length;for(var F=0;F<t;F++)void 0!==k[F].addInputBinding&&k[F].addInputBinding(),void 0!==k[F].addInputBoxBinding&&k[F].addInputBoxBinding()}"appendChild"===c.attr&&"#text"!==c.arguments[0].nodeName&&"#comment"!==c.arguments[0].nodeName?(k=Array.prototype.slice.call(c.arguments[0].querySelectorAll("*")),k.unshift(c.arguments[0])):k=Array.prototype.slice.call(c.target.querySelectorAll("*"));h=c.target.__kb._parentAttrListeners;
d=c.target.__kb._parentAttrUpdateListeners;p=c.target.__kb._parentStyleListeners;y=c.target.__kb._parentStyleUpdateListeners;t=k.length;for(F=0;F<t;F++){if(0!==l)for(q=0;q<l;q++)g.injectStyleProperty(k[F],f[q]);q=k[F].attrListeners();b(h,q._parentAttrListeners);b(d,q._parentAttrUpdateListeners);b(p,q._parentStyleListeners);b(y,q._parentStyleUpdateListeners)}void 0!==n&&(c.attr=n,c.target=m,c.arguments=[])}}function f(b){var c=b.target.attributes[b.arguments[0]],e="setAttribute"===b.attr?b.arguments[1]:
"";h(b.target,b.arguments[0],e,void 0!==c?c.value:"",[e])||b.preventDefault()}function m(b){var c=b.target.attributes[b.arguments[0]],e="setAttribute"===b.attr?b.arguments[1]:"";l(b.target,b.arguments[0],e,void 0!==c?c.value:"",[e])}g.injectPrototypes(Node,"Node");g.injectPrototypes(Element,"Element");g.injectPrototypes(HTMLElement,"HTMLElement");g.injectPrototypes(HTMLInputElement,"HTMLInputElement");g.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");g.injectPrototypes(Document,"Document");
var h=n,l=k;g.addAttrUpdateListener("appendChild",c);g.addAttrUpdateListener("removeChild",c);g.addAttrUpdateListener("innerHTML",c);g.addAttrUpdateListener("outerHTML",c);g.addAttrUpdateListener("innerText",c);g.addAttrUpdateListener("outerText",c);g.addAttrUpdateListener("textContent",c);g.addAttrListener("setAttribute",f);g.addAttrListener("removeAttribute",f);g.addAttrUpdateListener("setAttribute",m);g.addAttrUpdateListener("removeAttribute",m);return g}var u={},x={},H={},L={},C={},A="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
z=Object.getOwnPropertyNames(document.documentElement.style),v=Object.keys(HTMLElement.prototype).filter(function(e){return 0===e.indexOf("on")}).concat(["addEventListener","removeEventListener"]),m,n=function(e,b,c,f,g,h){c=new B(e,b,c,f,g,void 0,"set",h);void 0!==e.__kb&&(f=e.__kb._attrListeners,g=e.__kb._styleListeners,h=e.__kb._parentAttrListeners,e=e.__kb._parentStyleListeners,void 0!==f[b]&&t(f[b],c),void 0===c._stopPropogation&&void 0!==g[b]&&t(g[b],c),void 0===c._stopPropogation&&void 0!==
f["*"]&&(t(f["*"],c),void 0===c._stopPropogation&&t(g["*"],c)),void 0===c._stopPropogation&&void 0!==h[b]&&r(h[b],c),void 0===c._stopPropogation&&void 0!==e[b]&&r(e[b],c),void 0===c._stopPropogation&&void 0!==h["*"]&&(r(h["*"],c),void 0===c._stopPropogation&&r(e["*"],c)));void 0===c._stopPropogation&&void 0!==u[b]&&t(u[b],c);void 0===c._stopPropogation&&void 0!==H[b]&&t(H[b],c);void 0===c._stopPropogation&&void 0!==u["*"]&&(t(u["*"],c),void 0===c._stopPropogation&&t(H["*"],c));return void 0!==c._preventDefault?
!1:!0},k=function(e,b,c,f,g,h){c=new B(e,b,c,f,g,h,"update");void 0!==e.__kb&&(f=e.__kb._attrUpdateListeners,g=e.__kb._styleUpdateListeners,h=e.__kb._parentAttrUpdateListeners,e=e.__kb._parentStyleUpdateListeners,void 0!==f[b]&&t(f[b],c),void 0===c._stopPropogation&&void 0!==g[b]&&t(g[b],c),void 0===c._stopPropogation&&void 0!==f["*"]&&(t(f["*"],c),void 0===c._stopPropogation&&t(g["*"],c)),void 0===c._stopPropogation&&void 0!==h[b]&&r(h[b],c),void 0===c._stopPropogation&&void 0!==e[b]&&r(e[b],c),
void 0===c._stopPropogation&&void 0!==h["*"]&&(r(h["*"],c),void 0===c._stopPropogation&&r(e["*"],c)));void 0===c._stopPropogation&&void 0!==x[b]&&t(x[b],c);void 0===c._stopPropogation&&void 0!==L[b]&&t(L[b],c);void 0===c._stopPropogation&&void 0!==x["*"]&&(t(x["*"],c),void 0===c._stopPropogation&&t(L["*"],c));return void 0!==c._preventDefault?!1:!0};g.injectPrototypeProperty=function(e,b,c,f,m){var h=e.prototype,l=Object.getOwnPropertyDescriptor(h,b);c=c||e.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var u=C[c];f=f||n;m=m||k;void 0===h.attrListeners&&(h={},h.attrListeners=function(){void 0===this.__kb&&(this.__kb=new q);return this.__kb}.bind(h),h.addAttrListener=g.addAttrListener,h.addAttrUpdateListener=g.addAttrUpdateListener,h.addChildAttrListener=O,h.addChildAttrUpdateListener=N,h.hasListener=p,h.removeAttrListener=g.removeAttrListener,h.removeAttrUpdateListener=g.removeAttrUpdateListener,h.removeChildAttrListener=K,h.removeChildAttrUpdateListener=J,h.stopChange=F);void 0===u&&(C[c]={obj:e,
proto:h,descriptors:{},set:void 0,update:void 0},u=C[c],u.set=f,u.update=m);void 0===u.descriptors[b]&&(u.descriptors[b]=l);l.configurable&&(void 0!==l.set?Object.defineProperty(h,b,{get:l.get,set:d(l,b,f,m),enumerable:!0,configurable:!0}):"function"===typeof l.value?Object.defineProperty(h,b,{value:P(l,b,f,m),writable:!0,enumerable:!0,configurable:!0}):void 0!==l.value&&Object.defineProperty(h,b,{get:function(){return l.value},set:Q(l,b,f,m),enumerable:!0,configurable:!0}));return g};g.injectStyleProperty=
function(e,b,c,f){var m=e.style,h=Object.getOwnPropertyDescriptor(m,b),l=e.attrListeners().injectedStyle;c=c||n;f=f||k;void 0===l&&(e.attrListeners().injectedStyle={obj:e,proto:m,descriptors:{},set:void 0,update:void 0},e.attrListeners().injectedStyle.set=c,e.attrListeners().injectedStyle.update=f,l=e.attrListeners().injectedStyle);void 0===l.descriptors[b]&&(l.descriptors[b]=h);h.configurable&&Object.defineProperty(m,b,G(h,b,c,f,e));return g};g.injectPrototypes=function(e,b,c,f){var m=e.prototype;
b=b||e.toString().split(/\s+/)[1].split("{")[0].replace("()","");var h=C[b],l=Object.getOwnPropertyNames(m);c=c||n;f=f||k;var d;void 0===m.attrListeners&&(m.attrListeners=function(){void 0===this.__kb&&(this.__kb=new q);return this.__kb},m.addAttrListener=g.addAttrListener,m.addAttrUpdateListener=g.addAttrUpdateListener,m.addChildAttrListener=O,m.addChildAttrUpdateListener=N,m.removeAttrListener=g.removeAttrListener,m.removeAttrUpdateListener=g.removeAttrUpdateListener,m.removeChildAttrListener=K,
m.removeChildAttrUpdateListener=J,m.hasListener=p,m.stopChange=F);void 0===h&&(C[b]={obj:e,proto:m,descriptors:{},set:void 0,update:void 0},h=C[b],h.set=c,h.update=f);d=C[b].descriptors;for(f=0;f<l.length;f+=1)void 0===d[l[f]]&&g.injectPrototypeProperty(e,l[f],b,c,k);if(-1!==l.indexOf("value")){var u=function(b){var c,e,f;if("checkbox"===this.type||"radio"===this.type)c=!0;e=c?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){f=c?"string"===typeof this.checked?
this.checked:this.checked?"true":"false":this.value;c&&(h.set(this,"checked",this.checked,e)?h.update(this,"checked",this.checked,e):d.checked.set.call(this,e));this.value!==f&&(this.value=f);h.set(this,"value",this.value,e)?h.update(this,"value",this.value,e):d.value.set.call(this,e)}.bind(this),0)};m.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",u)};m.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",
u)};m.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",u)};m.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",u)}}return g};g.addAttrListener=function(e,b,c){if("html"===e){e=0;for(var f=A.length;e<f;e++)E.call(this,A[e],b,c,!1)}else if("events"===e)for(e=0,f=v.length;e<f;e++)E.call(this,v[e],b,c,!1);else E.call(this,e,b,c,!1);return this};g.addAttrUpdateListener=function(e,b,c){if("html"===
e){e=0;for(var f=A.length;e<f;e++)E.call(this,A[e],b,c,!0)}else if("events"===e)for(e=0,f=v.length;e<f;e++)E.call(this,v[e],b,c,!0);else E.call(this,e,b,c,!0);return this};g.removeAttrListener=function(e,b,c){if("html"===e){e=0;for(var f=A.length;e<f;e++)I.call(this,A[e],b,c,!1)}else if("events"===e)for(e=0,f=v.length;e<f;e++)I.call(this,v[e],b,c,!1);else I.call(this,e,b,c,!1);return this};g.removeAttrUpdateListener=function(e,b,c){if("html"===e){e=0;for(var f=A.length;e<f;e++)I.call(this,A[e],b,
c,!0)}else if("events"===e)for(e=0,f=v.length;e<f;e++)I.call(this,v[e],b,c,!0);else I.call(this,e,b,c,!0);return this};g.hasListener=function(e,b,c){"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(e){case "attr":if(w(u[b],c))return!0;break;case "attrupdate":if(w(x[b],c))return!0}return!1};g.injectedPrototypes=function(){return C};return g}"function"===typeof define&&define.amd&&define("KB",B);return B}(),V=function(B){return function(){function t(d){document.createDocumentFragment();
this.name=d.tagName.toLowerCase();this.template=O[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=d;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name}function r(d,q,g,u){return{value:d,writable:!!q,enumerable:!!u,configurable:!!g}}function w(){return new RegExp("(\\"+G.split("").join("\\")+")(.*?)(\\"+E.split("").join("\\")+")","g")}function M(d){return d.split(new RegExp("("+
G.split("").join("\\")+")(.*?)("+E.split("").join("\\")+")","g")).map(function(d,g,p){return p[g-1]===G?G+d+E:d}).filter(function(d,g,p){return 0!==d.length&&d!==G&&d!==E&&0!==d.length})}function q(d){return d.replace(new RegExp("["+G+E+"]","g"),"").replace(new RegExp("\\"+I.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function d(d){return d.reduce(function(d,g){g.match(/(\()(.*?)(\))/)?d.vmFilters[d.vmFilters.length]=g.replace(/[\(\)]/g,""):g.match(/(\[)(.*?)(\])/)?-1!==g.indexOf("~")?d.model[d.model.length]=
g.replace(/[\[\]\~]/g,""):-1!==g.indexOf("+")?d.local[d.local.length]=g.replace(/[\[\]\+]/g,""):d.session[d.session.length]=g.replace(/[\[\]\-]/g,""):d.filters[d.filters.length]=g;return d},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function Q(d){return-1!==d.indexOf("for")?d.replace(new RegExp("["+G+E+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(d){return 0!==d.length}):[]}function P(){function p(g,n){this.text=g;this.key=n;this.keyLength=
this.key.split(".").length;this.localKey=this.key.split(".").pop();var k;k=-1!==g.indexOf(I)?g.replace(new RegExp("["+E+"]","g"),"").replace(new RegExp("(.*?)(\\"+I.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[];this.filters=d(k);this.component="for"===this.type?Q(g)[1]:void 0;this.id=0}function q(m){if(0!==m.length){for(var d="",k=0,e=m.length;k<e;k++)d="string"===typeof m[k]?d+m[k]:void 0===m[k]._data?d+m[k].text:d+g(m[k]._data.get(m[k].key),m[k].filters.filters,m[k]._data.filters);
return d}return g(m[0]._data.get(m[0].key),m[0].filters.filters,m[0]._data.filters)}function g(g,d,k){return d.reduce(function(e,b){return k[b]?k[b](e):e},g)}function u(g,d,k,e){return d.reduce(function(b,c){return k[c]?k[c](b,e):b},g)}function x(g,d){for(var k=0,e=d.length;k<e;k++)g.stopChange().appendChild(d[k])}function t(g){if(g&&window.model)return window.model.get(g[0])}function w(g,d){if(d&&0!==d.length&&window.model)for(var k=0,e=d.length;k<e;k++)window.model.set(d[k],g)}function C(g){if(g&&
window.localStorage)return localStorage.getItem(g[0])}function A(g,d){if(g&&0!==g.length&&window.localStorage)for(var k=0,e=g.length;k<e;k++)localStorage.setItem(g[k],d)}function z(g){if(g&&window.sessionStorage)return sessionStorage.getItem(g[0])}function v(g,d){if(g&&0!==g.length&&window.sessionStorage)for(var k=0,e=g.length;k<e;k++)sessionStorage.setItem(g[k],d)}Object.defineProperties(p.prototype,{addPointer:r(function(g){for(var d=document.createElement(this.component),k=u(this._data.getLayer(this.key),
this.filters.filters,this._data.filters,g)[g],e=0,b=Object.keys(k,"all"),c=b.length;e<c;e++)d.k_post||(d.k_post={}),d.k_post[b[e]]=k;g>=this.node.children.length?this.node.stopChange().appendChild(d):this.node.stopChange().insertBefore(d,this.node.children[g]);g={event:"loopitem",node:d,parent:this.node};d=J[g.event];k=0;for(e=d.length;k<e;k++)d[k](g);return this}),removePointer:r(function(g){for(var d=this.node.children[g].kb_maps,k=0,e=Object.keys(this.node.children[g].kb_viewmodel.pointers),b=
e.length;k<b;k++){var c=d[e[k]];if(c)for(var f=0,p=c.length;f<p;f++)c[f].unsync(),c[f]=null,delete c[f]}this.node.stopChange().removeChild(this.node.children[g]);return this}),reapplyPointer:r(function(g){var d=this.node.children[g].kb_maps,k=0;g=Object.keys(this.node.children[g].kb_viewmodel.pointers);for(var e=g.length;k<e;k++){var b=d[g[k]];if(void 0!==b)for(var c=0,f=b.length;c<f;c++)b[c].reconnect()}return this}),connect:r(function(g){var d=this;this._data=g;"for"!==this.type?(this.dataListener=
function(g){"delete"===g.event?d.unsync():d.setDom(g.value)},g.getLayer(this.key).addDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&(this.domListener=function(g){d.setData(g.value)},this.node.addAttrUpdateListener(this.listener,this.domListener))):(this.dataListener=function(g){"postset"!==g.type||g.oldValue&&0!==g.oldValue.length||(g.event="create");d.setLoop(g.key,g.event)},g.getLayer(this.key).addDataMethodUpdateListener(this.dataListener));"for"!==this.type&&(this.filters.model&&
0!==this.filters.model.length?this._data.stopChange().set(this.key,t(this.filters.model)):this.filters.session&&0!==this.filters.session.length?this._data.stopChange().set(this.key,z(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,C(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",x(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=
q(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(this.node.stopChange()[this.attr]=this._data.get(this.key))));return this}),reconnect:r(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:r(function(){this.node.stopChange().innerHTML=
"";for(var g=0,d=u(this._data.get(this.key),this.filters.filters,this._data.filters).length;g<d;g++)this.setLoop(g,"create");return this}),setData:r(function(d){d=g(d,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,d);w(this.filters.model,d);v(this.filters.session,d);A(this.filters.local,d);return this}),setDom:r(function(g){w(this.filters.model,g);v(this.filters.session,g);A(this.filters.local,g);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):
this.isInput&&-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",x(this.node,this._data.innerHTML)):this.local.stopChange()[this.localAttr]=q(this.bindText);return this}),setLoop:r(function(g,d){switch(d){case "create":this.addPointer(g);break;case "delete":this.removePointer(g);break;case "set":this.reapplyPointer(g);break;default:if("push"!==d)for(var k=0,e=this._data.getLayer(this.key).length;k<
e;k++)this.reapplyPointer(k)}return this}),bindMaps:r([]),unsync:r(function(){this._data=this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this})});return p}var G="{{",E="}}",I="|",O={},N=/(<\/.*?>)/g;B().call();var K=Object.keys(HTMLElement.prototype).filter(function(d){return 0===d.indexOf("on")}),J={loopitem:[]};t.start=function(d){if(void 0===d)return G;G="string"===typeof d?d:G;return t};t.end=function(d){if(void 0===
d)return E;E="string"===typeof d?d:E;return t};t.pipe=function(d){if(void 0===d)return I;I="string"===typeof d?d:I;return t};t.getUnknown=function(d){var q=d.match(N).map(function(g){return g.replace(/[<\/>]/g,"")});q.filter(function(g,d){return document.createElement(g)instanceof HTMLUnknownElement&&-1===q.indexOf(g,d+1)&&void 0===O[g]});return q};t.isRegistered=function(d){return void 0!==O[d]};t.register=function(d,q){void 0===O[d]?(O[d]=q,t.getUnknown(q)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",
d);return this};t.addEventListener=function(d,q){void 0!==J[d]?J[d].push(q):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",d);return t};t.removeEventListener=function(d,q){if(void 0!==J[d])for(var g=0,u=J[d].length;g<u;g++)J[d][g].toString()===q.toString()&&J[d].splice(g,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",d);return t};Object.defineProperties(t.prototype,{register:r(t.register),isRegistered:r(t.isRegistered),
getUnknown:r(t.getUnknown),map:r(function(d){function t(g,u){for(var x=0,H=g.length;x<H;x++)if(void 0===g[x].kb_maps&&8!==g[x].nodeType){g[x].kb_mapper=d;g[x].kb_maps=u;if(3===g[x].nodeType){var r=g[x],C=u,A=r.textContent;if(A.match(w())){var z=M(A),v=P();v.prototype.type=A.match(new RegExp("(\\"+G.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+E.split("").join("\\")+")","g"))?"for":"text";v.prototype.text=A;v.prototype.bindText=z;v.prototype.listener="textContent";v.prototype.attr="textContent";
v.prototype.localAttr="textContent";v.prototype.local=r;v.prototype.node=r.parentElement;v.prototype.binds=C;r=0;for(A=z.length;r<A;r++)if(0===z[r].indexOf(G)){var m="for"===v.prototype.type?Q(z[r])[0]:q(z[r]),n=new v(z[r],m);void 0===C[m]&&(C[m]=[]);n.bindText[r]=n;n.bindMaps.push(n);n.id=C[m].length;C[m].push(n)}}}else for(C=g[x],z=u,v=Array.prototype.slice.call(C.attributes),r=C instanceof HTMLUnknownElement,A=0,m=v.length;A<m;A++)if(v[A].value.match(w())){var n=M(v[A].value),k=P();k.prototype.type=
r?"component":"attribute";k.prototype.text=v[A].value;k.prototype.bindText=n;k.prototype.isEvent=-1!==K.indexOf(v[A].name);k.prototype.isInput="input"===C.tagName.toLowerCase();k.prototype.isRadio=k.prototype.isInput?-1!==["radio","checkbox"].indexOf(C.type):!1;k.prototype.listener=v[A].name;k.prototype.attr=v[A].name;k.prototype.localAttr="value";k.prototype.local=v[A];k.prototype.node=C;k.prototype.binds=z;k.prototype.isEvent&&C.removeAttribute(v[A].name);for(var e=0,b=n.length;e<b;e++)if(0===n[e].indexOf(G)){var c=
q(n[e]),f=new k(n[e],c);void 0===z[c]&&(z[c]=[]);f.bindText[e]=f;f.bindMaps.push(f);f.id=z[c].length;z[c].push(f)}}g[x].childNodes&&0!==g[x].childNodes.length&&(u=t(g[x].childNodes,u))}return u}return t(d.childNodes,{})})});return t}}(S),W=function(){return function(){function B(w){0===w.length&&(w=t);document.body.innerHTML="<"+w+"></"+w+">";r(w);return B}var t="",r=function(){};B.base=function(r){if(void 0===r)return t;t="string"===typeof r?r:t;return B};B.onChange=function(t){if(void 0===t)return r;
r="function"===typeof t?t:r;return B};B.watch=function(t){window.onhashchange=t?function(){B(window.location.hash.replace("#",""))}:null;return B};return B}}(),R=function(B,t,r,w,M){return function(){function q(g,u,x,p){function t(e,b,c,f,g){for(var h=G({},e),d=0,k=Object.keys(b.prototype),m=k.length;d<m;d++)h.__proto__[k[d]]=b.prototype[k[d]];d=0;k=Object.keys(f);for(m=k.length;d<m;d++)-1!==J.indexOf(k[d])?Object.defineProperty(h,k[d],r(f[k[d]],"filters"!==k[d])):f.pointers?void 0===f.pointers[k[d]]&&
h.set(k[d],f[k[d]]):h.set(k[d],f[k[d]]);if(f.pointers)for(h.pointers||Object.defineProperty(h,"pointers",r({},!1,!0)),d=0,k=Object.keys(f.pointers),m=k.length;d<m;d++)h.pointers[k[d]]=f.pointers[k[d]],h.addPointer(h.pointers[k[d]].point,h.pointers[k[d]].key,k[d]);b.apply(h,c);d=0;k=Object.keys(g);for(m=k.length;d<m;d++)-1!==J.indexOf(k[d])?Object.defineProperty(h,k[d],r(g[k[d]],"filters"!==k[d])):g.pointers?void 0===g.pointers[k[d]]&&h.set(k[d],g[k[d]]):h.set(k[d],g[k[d]]);if(g.pointers)for(h.pointers||
Object.defineProperty(h,"pointers",r({},!1,!0)),d=0,k=Object.keys(g.pointers),m=k.length;d<m;d++)h.pointers[k[d]]=g.pointers[k[d]],h.addPointer(h.pointers[k[d]].point,h.pointers[k[d]].key,k[d]);d=0;k=Object.keys(h.filters);for(m=k.length;d<m;d++)h.filters[k[d]]=h.filters[k[d]].bind(h);if(h.sessionStorage){if(b=sessionStorage.getItem(h.id||e))for(b=JSON.parse(b),d=0,k=Object.keys(b),m=k.length;d<m;d++)h.set(k[d],b[k[d]]);else sessionStorage.setItem(h.id||e,h.stringify());h.addChildDataUpdateListener("*",
function(){sessionStorage.setItem(h.id||e,h.stringify())})}if(h.localStorage){if(b=localStorage.getItem(h.id||e))for(b=JSON.parse(b),d=0,k=Object.keys(b),m=k.length;d<m;d++)h.set(k[d],b[k[d]]);else localStorage.setItem(h.id||e,h.stringify());h.addChildDataUpdateListener("*",function(){localStorage.setItem(h.id||e,h.stringify())})}h.store&&O.set(h.id||e,h);return h}function w(e,b,c){e.kb_viewmodel=c;b.wrapper.innerHTML=v.template.replace(new RegExp("("+E.start()+"local"+E.end()+")","g"),c.local);var d=
b.maps=b.map(b.wrapper);b.wrapper.kb_maps=d;Object.keys(d).forEach(function(b){d[b].forEach(function(b){switch(b.type){case "for":b.connect(c).createloop();break;case "component":b.connect(c).unsync();break;default:b.connect(c)}})});b.wrapper.kb_viewmodel.onFinish.call(b.wrapper.kb_viewmodel,b.wrapper)}function A(e,b){v=new E(b,!0);Object.defineProperty(v.wrapper,"__kbcomponenttree",r(b.kb_mapper?b.kb_mapper.__kbcomponenttree.slice():[]));b.parentElement.replaceChild(v.fragment,b);u.unshift(v.wrapper);
w(v.wrapper,v,t(e,N[e],u,n,k));if(-1===v.wrapper.__kbcomponenttree.indexOf(e)||v.wrapper.kb_viewmodel.multiple){v.wrapper.__kbcomponenttree.push(e);v.wrapper.classList.add(v.wrapper.kb_viewmodel.local);for(var c=v.wrapper.querySelectorAll("*"),d=0,g=c.length;d<g;d++)c[d]instanceof HTMLUnknownElement&&q(c[d])}else console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",
e),console.error("Recursive Component %o on %o",v.wrapper,v.wrapper.parentElement),v.wrapper.parentElement.removeChild(v.wrapper)}var z=g.tagName.toLowerCase(),v,m=Object.keys(HTMLElement.prototype).filter(function(e){return 0===e.indexOf("on")}),n={},k={};void 0===u&&(u=[]);x&&d(x,n);Object.defineProperty(n,"local",r(n.local||z+"-"+Date.now(),!0,!1,!0));Object.defineProperty(n,"filters",r(n.filters||{},!1,!1,!0));"function"!==typeof n.onFinish&&(n.onFinish=function(){});Object.defineProperty(n,"onFinish",
r(n.onFinish,!0,!1,!0));"string"===typeof n.sessionStorage&&(n.sessionStorage="true"===n.sessionStorage);Object.defineProperty(n,"sessionStorage",r(void 0!==n.sessionStorage?n.sessionStorage:!1,!0,!1,!0));"string"===typeof n.localStorage&&(n.localStorage="true"===n.localStorage);Object.defineProperty(n,"localStorage",r(void 0!==n.localStorage?n.localStorage:!1,!0,!1,!0));"string"===typeof n.store&&(n.store="true"===n.store);Object.defineProperty(n,"store",r(void 0!==n.store?n.store:!1,!0,!1,!0));
"string"===typeof n.multiple&&(n.multiple="true"===n.multiple);Object.defineProperty(n,"multiple",r(void 0!==n.multiple?n.multiple:!1,!0,!1,!0));p&&d(p,k);k.innerHTML=Array.prototype.slice.call(g.childNodes);x=0;for(p=g.attributes.length;x<p;x++)k[g.attributes[x].name]=g.attributes[x].value;x=0;for(p=m.length;x<p;x++)g[m[x]]&&(k[m[x]]=g[m[x]]);g.k_post&&d(g.k_post,k);q.isRegistered(z)||g.kb_isLoading?q.isRegistered(z)&&A(z,g):(q.loadWaitList(z,function(e,b){A(z,g)}),q.loadWaitList(z).loading||(q.loadWaitList(z).loading=
!0,P(z)))}function d(d,u){var q=Object.keys(d);u.pointers||Object.defineProperty(u,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var p=0,t=q.length;p<t;p++)if(G.prototype.isObservable(d,q[p]))u.pointers[q[p]]={key:d.__kbscopeString.split(".").pop(),point:d.__kbImmediateParent};else if(G.prototype.isMixed(d[q[p]]))u.pointers[q[p]]={key:d[q[p]].__kbscopeString.split(".").pop(),point:d[q[p]].__kbImmediateParent};else if(G.prototype.isObject(d[q[p]]))for(var r=0,w=Object.keys(d[q[p]]);r<
t;r++)u[q[p]][w[r]]=d[q[p]][w[r]];else if(G.prototype.isArray(d[q[p]]))for(r=0;r<t;r++)u[q[p]][r]=d[q[p]][r];else u[q[p]]=d[q[p]]}function r(d,q,p,t){return{value:d,writable:!!q,enumerable:!!t,configurable:!!p}}window.K_Components||(window.K_Components={});var P=t().onLoad(function(d,p){var r="<style>"+unescape(p.prototype.k_css)+"</style>"+unescape(p.prototype.k_html);q.register(d,p,r,p.prototype.cms);q.loadWaitList(d).forEach(function(q){q(d,p)});q.loadWaitList(d,"clear")}),G=B(),E=w().addEventListener("loopitem",
function(d){var p=d.node.tagName.toLowerCase();q.isRegistered(p)||d.node.kb_isLoading?q.isRegistered(p)&&q(d.node):(d.node.kb_isLoading=!0,q.loadWaitList(p,function(p,r){q(d.node)}),q.loadWaitList(p).loading||(q.loadWaitList(p).loading=!0,P(p)))}),I=M().base(void 0!==config&&void 0!==config.base?config.base:"default").watch(!0).onChange(function(d){q(document.querySelector(d))}),O=G({},"Model"),N={},K=function(){return window.location.search.replace("?","").split("&").filter(function(d){return 0!==
d.length}).reduce(function(d,p){d[p.split("=")[0]]=p.split("=")[1];return d},{})}(),J="id filters class sessionStorage localStorage store component multiple".split(" "),p={},F;q.register=function(d,p,r,t){E.register(d,r);N[d]=p;return q};q.isRegistered=function(d){return void 0!==N[d]&&E.isRegistered(d)};q.registered=function(){return Object.keys(N)};q.loadWaitList=function(d,r){if("undefined"===typeof r&&d)return p[d];if(d){if(void 0===p[d]||"clear"===r){var t=void 0===p[d]?!1:!!p[d].loading;p[d]=
[];p[d].loading=t}"function"===typeof r&&p[d].push(r)}return q};q.localRouting=function(d){d?(F=Node.prototype.appendChild,Node.prototype.appendChild=function(d){if("script"===d.nodeName.toLowerCase()){d.src=d.src.substring(0,-1!==d.src.indexOf("?")?d.src.indexOf("?"):d.src.length);var g=d.src.match(/(.*?component\/)/);g&&(K.env||(K.env="prod"),"dev"===K.env&&(K.env="qa"),g=d.src.replace(g[0],"").replace(/[\/\s]/g,""),d.src="/components/"+g+"/build/"+K.env+"/"+g+(K.debug&&"prod"!==K.env?"":".min")+
".js",arguments[0]=d)}return F.apply(this,arguments)}):F&&(Node.prototype.appendChild=F,F=null);return q};q.hashRouting=function(d){d&&(void 0===document.body?document.addEventListener("DOMContentLoaded",function(){I(window.location.hash.replace("#",""))}):I(window.location.hash.replace("#","")))};return q}}(T,U,S,V,W);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return R}):"undefined"!==typeof module&&(module.exports=R);
return R}();
