var Konnekt=function(){var Y=function(){return function(A,t,r,p){function K(c,b,g,l){c=void 0===c?{}:c;var m={},z=window.Proxy?new Proxy(m,{set:L,deleteProperty:O}):m,e=Object.keys(c,"all");Object.defineProperties(m,{__kbname:f("string"===typeof b?b:"default",!0,!0),__kbref:f(g?g.__kbref||g:z,!0,!0),__kbscopeString:f(l||"",!0,!0),__kbImmediateParent:f(g||null,!0,!0),__kbsubscribers:f({}),__kbparentsubscribers:f({}),__kblisteners:f({}),__kbupdatelisteners:f({}),__kbparentlisteners:f({}),__kbparentupdatelisteners:f({}),
__kbcreatelisteners:f([]),__kbdeletelisteners:f([]),__kbparentcreatelisteners:f([]),__kbparentdeletelisteners:f([]),__kbmethodlisteners:f([]),__kbmethodupdatelisteners:f([]),__kbpointers:f({}),__kbevents:f(V),__kbsetindex:f(0,!0),__kbproto:f({}),length:f(0,!0),__kbnonproxy:f(m,!1,!0),__kbproxy:f(z,!1,!0),_stopChange:f(!1,!0)});m.__proto__=K.prototype;b=0;for(g=e.length;b<g;b++)z.set(e[b],c[e[b]]);m.__kbevents.addlistener=[];m.__kbevents.removelistener=[];m.addActionListener("addlistener",function(b){if("string"===
typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var g=b.local.__kbpointers[b.arguments[0]],g=g.point.getLayer(g.keys);if(void 0!==g[b.arguments[0]])g[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var g=b.local.__kbpointers[b.arguments[0]],g=g.point.getLayer(g.keys);if(void 0!==g[b.arguments[0]])g[b.arguments[2]](b.arguments[0],b.arguments[1])}});
return z}function B(c,b,g,l,m,z,e,d){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=c;this.key=b;this.arguments=z;this.type=this.event=g;this.listener=e;this.name=c.__kbname;this.root=c.__kbref;this.scope=c.__kbscopeString;this.parent=c.__kbImmediateParent;this.value=l;this.oldValue=m;this.stopChange=d}function f(c,b,g,l){return{value:c,writable:!!b,enumerable:!!l,configurable:!!g}}function P(c,b,g){return{get:function(){return c.call(this)},
set:function(g){b&&(c=g)},enumerable:!1,configurable:!!g}}function T(c,b){var g=b,l=b;return{get:function(){return g},set:function(b){var z=new B(this,c,"set",b,g,arguments,"__kblisteners",this._stopChange);!0!==e(z)&&(l=g,g=b,z.stopChange||(z.listener="__kbupdatelisteners",z.type="postset",e(z)),this.callSubscribers(this.__kbref,this,c,g,l,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function S(){var c=Array.prototype.slice.call(arguments),b=c.shift();return{get:function(){return c.reduce(function(b,
c){return b[c]},b)},set:function(g){var l=c.slice(0,c.length-1).reduce(function(b,g){return b[g]},b);(this._stopChange?l.stopChange():l)[c[c.length-1]]=g;this._stopChange=!1},enumerable:!0,configurable:!0}}function D(c,b){for(var g=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
l=[],m,z=0,e=g.length;z<e;z++)if(m=c[g[z].listener],C.call(m))for(var l=Object.keys(m),d=0,k=l.length;d<k;d++)for(var h=0,f=m[l[d]].length;h<f;h++)b[g[z].method](l[d],m[l[d]][h]);else for(d=0,k=m.length;d<k;d++)b[g[z].method](m[d])}function L(c,b,g){if(I(c,b)||"length"===b||"__kbsetindex"===b){if("length"===b)if(g>c.length&&void 0!==c[g-1])c.length=g;else{if(g<c.length){b=g;for(var l=c.length;b<l;b++)c[b]&&delete c[b];c.length=g}}else c[b]=g;return!0}c.set(b,g)}function O(c,b){c.del(b);return!0}function Q(c,
b,g){var l=n(g),m=C(g),z=H(g);if(l&&g.__kbname!==c.__kbname)"default"===g.__kbname?c.merge(g,b):c.__kbpointers[b]||c.addPointer(g,b);else{var l=new B(this,b,"create",g,void 0,[],"__kbcreatelisteners",this._stopChange),d=e(l),k=parseInt(b,10);if(!0!==d)if((m||z)&&0!==Object.keys(g,"all").length)for(Q.call(this,c,b,{}),m=0,z=Object.keys(g,"all"),l=z.length;m<l;m++)Q.call(this[b],c[b],z[m],g[z[m]]);else{if(m||z)g=new K(g,c.__kbname,c,c.__kbscopeString+(0!==c.__kbscopeString.length?".":"")+b),D(c,g);
Object.defineProperty(c,b,T(b,g));!isNaN(k)&&c.length<=k&&(c.length=k+1);l.listener="__kbupdatelisteners";l.type="postcreate";e(l)}}}function M(c,b,g,l){var m=n(g),z=C(g),e=H(g);if(m&&g.__kbname!==c.__kbname)"default"===g.__kbname?c.merge(g,b):c.__kbpointers[b]||c.addPointer(g,b);else if(void 0===c[b])-1===N.indexOf(b)?Q.call(this,c,b,g):(l?c.stopChange():c)[b]=g;else if(z||e)for(m=0,z=Object.keys(g,"all"),e=z.length;m<e;m++)M.call(this[b],c[b],z[m],g[z[m]],l);else(l?c.stopChange():c)[b]=g}function E(c){return h.call(c).replace(/(\[object\s|\])/g,
"").toLowerCase()}function C(c){return"object"===E(void 0!==c?c:this)}function H(c){return"array"===E(void 0!==c?c:this)}function n(c){return"mixed"===E(void 0!==c?c:this)}function I(c,b){b="string"===typeof c?c:b;var g=Object.getOwnPropertyDescriptor("string"===typeof c?this:c,b);return g?void 0===g.value:!1}function J(c,b){function g(b){var g=parseFloat(b,10),c="true"===b,l=b.indexOf('"'),m=b.lastIndexOf('"');if(isNaN(g)||g.toString().length!==b.length){if(c||"false"===b)return c;b=0===l&&0!==m?
b.substring(1,b.length-1):b.substring(1,b.length)}else return g;return b}var l=this.__kbnonproxy;split=c.split(/({"|,"(?=(?:[^"]|"[^"]*")*$)|\[(?=(?:[^"]|"[^"]*")*$)|\](?=(?:[^"]|"[^"]*")*$)|":|"}|{(?=(?:[^"]|"[^"]*")*$)|,(?=(?:[^"]|"[^"]*")*$)|}(?=(?:[^"]|"[^"]*")*$))/).filter(Boolean);UKeys=[];isValue=isKey=!1;p="";for(var m=1,z=split.length,e,d,k,h;m<z;m++)e=split[m],d=split[m-1],k=split[m+1],h=UKeys[UKeys.length-1],'":'===d&&'{"'===e||'":'===d&&"["===e?(p+=(0!==p.length?".":"")+h,l[h]||l.set(h,
b?b(h,{},p,l):{}),l=l[h],UKeys.pop()):"["===d||","===d&&0!==l.length?"{"===e||'{"'===e?(p+=(0!==p.length?".":"")+l.__kbsetindex,"object"!==typeof l[l.__kbsetindex]&&l.set(l.__kbsetindex,b?b(l.length,{},p,l):{}),l.__kbsetindex+=1,l=l[l.__kbsetindex-1]):(l.set(l.__kbsetindex,b?b(l.length,g(e),p,l):g(e)),l.__kbsetindex+=1):'":'===d?(l.set(h,b?b(h,g(e),p,l):g(e)),UKeys.pop()):'{"'===d||","===d&&'":'===k?UKeys[UKeys.length]=e.replace(/\"/g,""):"}"!==d&&"]"!==d||void 0===e||(p=-1!==p.indexOf(".")?p.substring(0,
p.lastIndexOf(".")-1):"",l=l.__kbImmediateParent);return this}function w(c,b){"number"===typeof c&&(c=c.toString());var g=-1!==c.indexOf(".")?this.__kbnonproxy.setLayer(c):this.__kbnonproxy;-1!==c.indexOf(".")&&(c=c.split(".").pop());var l=new B(this,c,"set",b,this[c],arguments,"__kbmethodlisteners");!0!==e(l)&&(M.call(this,g,c,b,this._stopChange),this.stopChange=void 0,l.type="postset",l.listener="__kbmethodupdatelisteners",e(l));return this}function y(c){return c.split(".")}function q(c,b){return function(g,
l){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var m=this[b],d=new B(this,b,"addlistener",m,void 0,arguments,"");"string"===typeof g&&1!==y(g).length&&(m=y(g),g=m.pop(),m=m.join("."),d.local=this.getLayer(m),m=d.local[b],d.value=m);!0!==e(d)&&(C.call(m)?(void 0===m[g]&&(m[g]=[]),m[g].push(l),d.type="postaddlistener",e(d)):H.call(m)&&"function"===typeof g&&(m.push(g),d.type="postaddlistener",e(d)));return this}}function v(c,b){return function(g,l){arguments=Array.prototype.slice.call(arguments);
arguments.push(c);var m=this[b],d=new B(this,b,"removelistener",m,void 0,arguments,"");"string"===typeof g&&1!==y(g).length&&(m=y(g),m.pop(),m.join("."),d.local=this.getLayer(m),m=d.local[b],d.value=m,g=y(g).pop());if(!0!==e(d))if(C.call(m)){if(void 0!==m[g])for(var k=0,h=m[g].length;k<h;k++)if(m[g][k].toString()===l.toString()){m[g].splice(k,1);d.type="postremovelistener";e(d);break}}else if(H.call(m)&&"function"===typeof g)for(k=0,h=m.length;k<h;k++)if(m[k].toString()===g.toString()){m.splice(k,
1);d.type="postremovelistener";e(d);break}return this}}function F(c,b){function g(b,c,d){var e=Object.keys(this,"all").filter(function(b){return n.call(this[b])}.bind(this)),k=this,h=b;"string"===typeof b&&1!==y(b).length&&(k=y(b),h=k.pop(),k=k.join("."),k=this.getLayer(k),void 0===k[d][h]&&(k[d][h]=[]),k[d][h].push(c));C.call(k[d])?(void 0===k[d][h]&&(k[d][h]=[]),k[d][h].push(c),k=k.__kbpointers[h],k=k.point.getLayer(k.keys),void 0!==k[h]&&(void 0===k[d][h]&&(k[d][h]=[]),k[d][h].push(_func))):k[d].push(c);
h=0;for(k=e.length;h<k;h++)g.call(this[e[h]],b,c,d)}return function(l,m){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var d=new B(this,b,"addchildlistener",void 0,void 0,arguments,"");!0!==e(d)&&(g.call(this.__kbnonproxy,l,m,b),d.type="postaddchildlistener",e(d));return this}}function G(c,b){function g(b,c,d){var e=Object.keys(this,"all").filter(function(b){return n.call(this[b])}.bind(this)),k=this,h=b;if("string"===typeof b&&1!==y(b).length){var f=y(b),h=f.pop();f.join(".");
k=this.getLayer(f);if(void 0!==k[d][b])for(var f=0,q=k[d][b].length;f<q;f++)if(k[d][b][f].toString()===c.toString()){k[d][b].splice(f,1);break}}if(C.call(k[d])){if(void 0!==k[d][h]){f=0;for(q=k[d][h].length;f<q;f++)if(k[d][h][f].toString()===c.toString()){k[d][h].splice(f,1);break}if(-1!==k.__kbpointers.indexOf(h)&&(f=k.__kbpointers[h],k=f.point.getLayer(f.keys),void 0!==k[d][h]))for(f=0,q=k[d][h].length;f<q;f++)if(k[d][h][f].toString()===c.toString()){k[d][h].splice(f,1);break}}}else for(f=0,q=k[d].length;f<
q;f++)if(k[d][f].toString()===c.toString()){k[d].splice(f,1);break}f=0;for(q=e.length;f<q;f++)g.call(this[e[f]],b,c,d)}return function(l,m){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var d=new B(this,b,"removechildlistener",void 0,void 0,arguments,"");!0!==e(d)&&(g.call(this.__kbnonproxy,l,m,b),d.type="postremovechildlistener",e(d));return this}}var V={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],
shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},N=["__proto__","_stopChange"],u=function(c,b){if(!b._stopPropogration&&c)for(var g=0,l=c.length;g!==l&&(c[g](b),!b._stopPropogration);g++);},e=function(c){if(c.listener){var b=c.local[c.listener],g=c.local[c.listener.replace("__kb",
"__kbparent")];C.call(b)?(u(b[c.key],c),u(b["*"],c)):u(b,c);C.call(g)?(u(g[c.key],c),u(g["*"],c)):u(g,c)}u(c.local.__kbref.__kbevents[c.type],c);return c._preventDefault},d=Array.prototype.sort,k=Array.prototype.slice,h;Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof K?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(c,b){return Object._keys(c).filter(function(g){return b&&
"object"!==b&&"o"!==b?"all"===b?!0:!isNaN(parseInt(g,10)):isNaN(parseInt(g,10))})};h={}.toString;Object.defineProperties(K.prototype,{"typeof":f(E,!1,!0),sizeof:f(function(c){function b(c){for(var m=Object.keys(c,"all"),d=0,e=void 0,k=0,h=m.length;k<h;k++)e=c[m[k]],"object"===typeof e&&void 0!==e&&null!==e?-1===g.indexOf(e)&&(g.push(e),d+=b(e)):"string"===typeof e?d+=2*e.length:"number"===typeof e?d+=8:"boolean"===typeof e?d+=4:"function"===typeof e&&(d+=2*e.toString().length),d+=2*m[k].length;return d}
var g=[];return b(c||this)+" Bytes (Rough estimate)"},!1,!0),isObject:f(C,!1,!0),isArray:f(H,!1,!0),isMixed:f(n,!1,!0),isObservable:f(I,!1,!0),stringify:f(function(c){var b=[];return JSON.stringify(c||this,function(g,c){if(H(c)||C(c)){if(-1!==b.indexOf(c))return;b.push(c)}return c})},!1,!0),getKeys:f(function(c,b){b="string"===typeof c?c:b?b:"object";return Object.keys("string"===typeof c||void 0===c?this:c,b)},!1,!0),getIndexes:f(function(c){c=void 0!==c?"object"===typeof c?c:this[c]:this;for(var b=
[],g=0,l=c.length;g<l;g++)void 0!==c[g]&&(b[b.length]=g);return b},!1,!0),keyCount:P(function(){return this.getKeys("object").length},!1,!0),indexCount:P(function(){return this.length},!1,!0),count:P(function(){return this.keyCount+this.indexCount},!1,!0),concat:f(Array.prototype.concat),every:f(Array.prototype.every),filter:f(Array.prototype.filter),find:f(Array.prototype.find),findIndex:f(Array.prototype.findIndex),forEach:f(Array.prototype.forEach),includes:f(Array.prototype.includes),indexOf:f(Array.prototype.indexOf),
join:f(Array.prototype.join),lastIndexOf:f(Array.prototype.lastIndexOf),map:f(Array.prototype.map),reduce:f(Array.prototype.reduce),reduceRight:f(Array.prototype.reduceRight),slice:f(Array.prototype.slice),some:f(Array.prototype.some),entries:f(Array.prototype.entries),toLocaleString:f(Array.prototype.toLocaleString),parse:f(J,!0),parseReplace:f(function(c,b){return J.call(b||this,c)},!0),add:f(function(c,b){w.call(this,c,b);return this}),set:f(w),get:f(function(c){"number"===typeof c&&(c=c.toString());
var b=-1!==c.indexOf(".")?this.getLayer(c):this;-1!==c.indexOf(".")&&(c=c.split(".").pop());if(b)return b[c];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,c)}),del:f(function(c,b){var g="number"===typeof c||!isNaN(parseInt(c,10));g&&(c=c.toString());var l=-1!==c.indexOf(".")?this.getLayer(c):this,d=c.split(".").pop();if(l&&void 0!==l[d])if(g&&l.length>parseInt(c,10)&&!b)l=l.__kbnonproxy,l.splice(d,1);else{var k=new B(l,c,"delete",l[d],void 0,[],"__kbmethodlisteners"),
h=e(k),q=new B(l,c,"delete",l[d],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==e(q)&&!0!==h&&(l=l.__kbnonproxy,Object.defineProperty(l,d,f(void 0,!0,!0,!1)),delete l[d],g&&l.length>parseInt(c,10)&&b&&--l.length,k.type="postdelete",k.listener="__kbmethodupdatelisteners",e(k),q.listener="__kbupdatelisteners",q.type="postdelete",q.oldValue=q.value,q.value=void 0,e(q))}return this}),exists:f(function(c){var b=-1!==c.indexOf(".")?this.__kbnonproxy.getLayer(c):this.__kbnonproxy;-1!==c.indexOf(".")&&
(c=c.split(".").pop());return b?void 0!==b[c]:!!b}),addPrototype:f(function(c,b){var g=-1!==c.indexOf(".")?this.__kbnonproxy.setLayer(c):this.__kbnonproxy;-1!==c.indexOf(".")&&(c=c.split(".").pop());void 0===g[c]?Object.defineProperty(g.__proto__,c,f(b,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,g);return this}),addPointer:f(function(){var c=Array.prototype.slice.call(arguments),b=c.shift(),g=c[c.length-1];b instanceof K||(b=new K(b,
b.__kbname));var l=new B(this,g,"create",b[g],void 0,[],"__kbcreatelisteners",this._stopChange),d=this.__kbnonproxy;l.root=b.__kbref.__kbproxy;if(!0!==e(l)){Object.defineProperty(d,g,S.apply(d,arguments));d.__kbpointers[g]={keys:c.join("."),point:b};var c=d,b=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],d=[],k;if(c[g].__kbImmediateParent)for(var h=0,f=b.length;h<f;h++){k=c[b[h].listener];for(var d=Object.keys(k),q=0,F=d.length;q<
F;q++)if(g===d[h])for(var v=0,n=k[d[h]].length;v<n;v++)void 0===c[g].__kbImmediateParent[b[h].listener][g]&&(c[g].__kbImmediateParent[b[h].listener][g]=[]),c[g].__kbImmediateParent[b[h].listener][g].push(k[d[h]][v])}D(c,c[g]);l.listener="__kbupdatelisteners";l.type="postcreate";e(l)}return this}),move:f(function(c,b){this.__kbnonproxy.set(b,c[b]);n(c)?c.del(b):(c[b]=null,delete c[b]);return this}),copy:f(function(c,b){var g=this.__kbnonproxy;n(c)?"default"===c.__kbname?g.merge(c[b],b):g.addPointer(c,
b):g.set(b,c[b]);return this}),merge:f(function(c,b){function g(b,c){for(var d=n(b)?b.keys("object"):Object.keys(b),m,e=0,k=d.length;e<k;e++)m=b[d[e]],"object"===typeof m&&-1===l.indexOf(m)&&"undefined"!==c[d[e]]?g(m,c):void 0===c[d[e]]&&c.set(d[e],"object"===typeof m?{}:m)}var l=[],d=this.__kbnonproxy;b&&void 0===d[b]&&d.set(b,{});g(c,b?d[b]:d);return this}),replace:f(function(c,b){function g(b,c){var d=n(b)?b.keys("object"):Object.keys(b),m;m=b[d[x]];"object"===typeof m&&-1===l.indexOf(m)&&"undefined"!==
c[d[x]]?g(m,c):c.set(d[x],"object"===typeof m?{}:m)}var l=[],d=this.__kbnonproxy;b&&void 0===d[b]&&d.set(b,{});g(c,b?d[b]:d);return this}),copyWithin:f(function(c,b,g){b=b||0;g=g||0;var l=new B(this,c,"copyWithin",this[c],void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;if(!0!==e(l)&&c<d.length){c=0>c?d.length-1:c;b=b<d.length?b:d.length-1;g=g<d.length?g:d.length-1;b=0>b?d.length-1:b;g=0>b?d.length-1:g;for(var k=b;k<=g;k++)d.set(c+(k-b),d[k]);l.type="postcopyWithin";l.listener="__kbmethodupdatelisteners";
e(l)}return this}),fill:f(function(c,b,g){b=void 0!==b?Math.max(0,b):0;g=void 0!==g&&g<=this.length?Math.min(this.length,Math.max(0,g)):this.length;var d=new B(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),m=this.__kbnonproxy;if(!0!==e(d)){for(var k=a.key;k<g;k++)m[k]=c;d.type="postfill";d.listener="__kbmethodupdatelisteners";e(d)}return this}),pop:f(function(){var c=new B(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;
if(!0!==e(c)){var g=b[b.length-1];b.del(this.length-1);c.type="postpop";c.listener="__kbmethodupdatelisteners";e(c);return g}return null}),push:f(function(c){var b=new B(this,this.length,"push",c,void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;!0!==e(b)&&(g.set(g.length,c),b.type="postpush",b.listener="__kbmethodupdatelisteners",e(b));return this.length}),reverse:f(function(){var c=new B(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==e(c)){for(var g=
null,d=null,m=b.length,g=0;g<m/2;g+=1){var d=m-1-g,k=b[g];b[g]=b[d];b[d]=k}c.type="postreverse";c.listener="__kbmethodupdatelisteners";e(c)}return this}),shift:f(function(){var c=new B(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==e(c)){for(var g=a.key,d=this.length-1;g<d;g++)b[g]=b[g+1];b.del(this.length-1);c.type="postshift";c.listener="__kbmethodupdatelisteners";e(c)}return null}),sort:f(function(){var c=new B(this,void 0,"sort",void 0,void 0,arguments,
"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==e(c)){var g=k.call(b);d.apply(g,arguments);for(var l=0,m=g.length;l<m;l++)b[l]=g[l];c.type="postsort";c.listener="__kbmethodupdatelisteners";e(c)}return this}),splice:f(function(c,b,g){c="string"===typeof c?parseInt(c,10):c;var d=new B(this,c,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),m=this.__kbnonproxy;if(!0!==e(d)){var k=[],h=Array.prototype.slice.call(arguments,2),f=h.length-2,q=0;if(0!==b&&void 0!==m[c-1+b])for(var v=0,F=b;v<F;v++){k.push(m[c+
v]);for(var n=c+v,p=this.length-1;n<p;n++)m[n]=m[n+1];m.del(m.length-1,!0)}if(0!==f)for(v=0,F=f;v<F;v++){q=c+Math.min(1,v);n=m.length;for(p=q;n>p;n--)m.set(n,m[n-1]);m.set(q,h[v])}d.type="postsplice";d.listener="__kbmethodupdatelisteners";e(d);return k}return[]}),unshift:f(function(){var c=new B(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==e(c)){for(var g=Array.prototype.slice.call(arguments),d=b.length-1+g.length,m=g.length;-1!==d;d--)d<m?b.set(d,g[d]):
b.set(d,b[d-g.length]);c.type="postunshift";c.listener="__kbmethodupdatelisteners";e(c)}return this.length}),getLayer:f(function(c){function b(g){var c=g[0];return void 0===this[c]&&0!==g.length-1?null:n(this[c])?0!==g.length-1?(g.shift(),b.call(this[c],g)):this[c]:this}c=y(c);return b.call(this,c)}),setLayer:f(function(c){function b(g){var c=g[0];void 0===this[c]&&0!==g.length-1&&(this[c]=K({},this.__kbname,this,this.__kbscopeString+"."+c));return n(this[c])?0!==g.length-1?(g.shift(),b.call(this[c],
g)):this[c]:this}c=y(c);return b.call(this,c)}),ignoreCreate:f(function(c){-1===N.indexOf(c)&&N.push(c);return this}),addActionListener:f(function(c,b){var g=this.__kbnonproxy;void 0!==g.__kbref.__kbevents[c]&&g.__kbref.__kbevents[c].push(b);return this}),removeActionListener:f(function(c,b){var g=this.__kbnonproxy;if(void 0!==g.__kbref.__kbevents[c])for(var d=0,m=g.__kbref.__kbevents[c];d<m;d++)if(g.__kbref.__kbevents[c][d].toString()===b.toString()){g.__kbref.__kbevents[c].splice(d,1);break}return this}),
subscribe:f(function(c,b){var g=c.split("."),d=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;void 0===g.__kbsubscribers[d]&&(g.__kbsubscribers[d]=[]);g.__kbsubscribers[d].push(b);return this}),unsubscribe:f(function(c,b){var g=c.split("."),d=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;if(void 0!==g.__kbsubscribers[d])for(var m=0,e=g.__kbsubscribers[d].length;m<e;m++)if(g.__kbsubscribers[d][m].toString()===b.toString()){g.__kbsubscribers[d].splice(m,
1);break}return this}),subscribeDeep:f(function(c,b){function g(c,d){var l=Object.keys(c,"all").filter(function(b){return n.call(c[b])}.bind(c));if(void 0!==c[d]||"*"===d)void 0===c.__kbparentsubscribers[d]&&(c.__kbparentsubscribers[d]=[]),c.__kbparentsubscribers[d].push(b);for(var e=0,m=l.length;e<m;e++)g(c[l[e]],d)}var d=-1!==c.indexOf("*"),m=c.split(".");m.slice(0,m.indexOf("*"));var e=-1!==m.indexOf("*")?m.slice(m.indexOf("*"),m.length):[],k=1===e.length,h=m.pop(),m=0!==m.length?this.__kbnonproxy.getLayer(m.join(".")):
this.__kbnonproxy;d?k?g(m,"*"):(e.shift(),m.subscribeDeep(e.join("."),b)):g(m,h);return this}),unsubscribeDeep:f(function(c,b){function g(c,d){var l=Object.keys(c,"all").filter(function(b){return n.call(c[b])&&!(c[b]instanceof HTMLElement)}.bind(c));if((void 0!==c[d]||"*"===d)&&void 0!==c.__kbparentsubscribers[d])for(var e=0,k=c.__kbparentsubscribers[d].length;e<k;e++)c.__kbparentsubscribers[d][e].toString()===b.toString()&&c.__kbparentsubscribers[d].splice(e,1);e=0;for(k=l.length;e<k;e++)g(c[l[e]],
d)}var d=-1!==c.indexOf("*"),e=c.split(".");e.slice(0,e.indexOf("*"));var k=-1!==e.indexOf("*")?e.slice(e.indexOf("*"),e.length):[],h=1===k.length,f=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;d?h?g(e,"*"):(k.shift(),e.unsubscribeDeep(k.join("."),b)):g(e,f);return this}),callSubscribers:f(function(c,b,g,d,e,k){var h=this.__kbnonproxy;if(void 0!==h.__kbsubscribers[g])for(var f=0,q=h.__kbsubscribers[g].length;f<q;f++)h.__kbsubscribers[g][f].call(this,{key:g,value:d,
oldValue:e,stopChange:k,local:b,kbref:c});if(void 0!==h.__kbparentsubscribers[g])for(f=0,q=h.__kbparentsubscribers[g].length;f<q;f++)h.__kbparentsubscribers[g][f].call(this,{key:g,value:d,oldValue:e,stopChange:k,local:b,kbref:c});if(void 0!==h.__kbsubscribers["*"])for(f=0,q=h.__kbsubscribers["*"].length;f<q;f++)h.__kbsubscribers["*"][f].call(this,{key:g,value:d,oldValue:e,stopChange:k,local:b,kbref:c});if(void 0!==h.__kbparentsubscribers["*"])for(f=0,q=h.__kbparentsubscribers["*"].length;f<q;f++)h.__kbparentsubscribers["*"][f].call(this,
{key:g,value:d,oldValue:e,stopChange:k,local:b,kbref:c});return this}),callAllSubscribers:f(function(){function c(b,g,c){for(var d=0,e=g.length;d<e;d++)g[d].call(b,{key:c,value:b[c],oldValue:b[c],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(b){for(var g=Object.keys(b.__kbsubscribers),d=Object.keys(b.__kbparentsubscribers),e=0,k=g.length;e<k;e++)if(0!==b.__kbsubscribers[g[e]].length)if("*"===g[e])for(var h=0,f=Object.keys(b),q=f.length;h<q;h++)c(b,b.__kbsubscribers[g[e]],f[h]);else c(b,
b.__kbsubscribers[g[e]],g[e]);e=0;for(k=d.length;e<k;e++)if(0!==b.__kbparentsubscribers[d[e]].length)if("*"===d[e])for(h=0,f=Object.keys(b),q=f.length;h<q;h++)c(b,b.__kbparentsubscribers[d[e]],f[h]);else c(b,b.__kbparentsubscribers[d[e]],d[e])})(this.__kbnonproxy);return this}),stopChange:f(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(K.prototype,{addDataListener:f(q("addDataListener","__kblisteners")),removeDataListener:f(v("removeDataListener","__kblisteners")),
addDataUpdateListener:f(q("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:f(v("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:f(q("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:f(v("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:f(q("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:f(v("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:f(q("addDataMethodListener",
"__kbmethodlisteners")),removeDataMethodListener:f(v("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:f(q("addDataMethodUpdateListener","__kbmethodupdatelisteners")),removeDataMethodUpdateListener:f(v("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:f(F("addChildDataListener","__kbparentlisteners")),removeChildDataListener:f(G("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:f(F("addChildDataUpdateListener",
"__kbparentupdatelisteners")),removeChildDataUpdateListener:f(G("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:f(F("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:f(G("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:f(F("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:f(G("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return K}}(),
Z=function(){return function(){function A(p){if("object"===typeof p)for(var r=0,B=p.length;r<B;r++)K_Components[p[r]]?t(p[r],K_Components[p[r]],document.getElementById("script_"+p[r])):A.load(p[r],"component/"+p[r]+"/"+location.search,t);else"string"===typeof p&&(K_Components[p[r]]?t(p,K_Components[p],document.getElementById("script_"+p)):A.load(p,"component/"+p+"/"+location.search,t))}var t=function(){},r=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});A.getUnknowns=function(p){var t=
p.match(r);return t.map(function(p){return p.replace(/[<\/>]/g,"")}).filter(function(p,f){return document.createElement(p)instanceof HTMLUnknownElement&&-1===t.indexOf(p,f+1)&&!K_Components[p]})};A.load=function(p,t,r){document.head.appendChild(function(f,p,t){var r=document.createElement("script");r.type="text/javascript";r.charset="utf-8";r.async=!0;r.src=p;r.id="script_"+f;r.onload=function(){t(f,K_Components[f],this)};return r}(p,t,r));return A};A.onLoad=function(p){if(void 0===p)return t;t="function"===
typeof p?p:t;return A};return A}}(),X=function(){function A(){function t(e,d){var k=e.length,h;for(h=0;h<k&&(e[h](d),void 0===d._stopPropogation);h++);}function r(e,d){var k=e.length,h;for(h=0;h<k&&(d.child=d.target,d.target=e[h].parent,e[h].func(d),void 0===d._stopPropogation);h++);}function p(e,d){for(var k=e.length;0<k;V++)if(e[V].toString()===d.toString())return!0;return!1}function A(e,d,k,h,c,b,g,l){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=
!0};this.value=k;this.oldValue=h;this.target=e;this.attr=d;this.arguments=c;this.action=b;this.child=void 0;this.type=g;this.stopChange=l}function B(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function f(e,d,k,h){var c=e.get,b=e.set,g;return function(e){g=c.call(this);k(this,d,e,g,void 0,
this._stopChange)&&b.call(this,e);this._stopChange||h(this,d,e,g);this._stopChange=void 0}}function P(e,d,k,h){var c;return function(b){c=e.value;k(this,d,b,c,arguments,this._stopChange)&&(e.value=b);this._stopChange||h(this,d,b,c,arguments);this._stopChange=void 0}}function T(e,d,k,h){var c=e.value,b;return function(){k(this,d,null,null,arguments,this._stopChange)&&(b=c.apply(this,arguments));this._stopChange||h(this,d,null,null,arguments,b);this._stopChange=void 0;return b}}function S(e,d,k,h,c){var b=
c.style,g=d.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),l,m;return{get:function(){return m},set:function(e){l=m;k(c,d,e,l,void 0,this._stopChange)&&(m=e,b.setProperty(g,e));this._stopChange||h(c,d,e,l);this._stopChange=void 0},enumerable:!0,configurable:!0}}function D(e,d,k,h){if("function"!==typeof d)return n;var c=-1!==["value","checked"].indexOf(e),b=-1!==F.indexOf(e),g;if(this.toString()!==n.toString())if(k){var l=this.querySelectorAll("*");k=l.length;for(var m,f=0;f<k;f++){m=l[f].attrListeners();
if(c||"*"===e)void 0!==l[f].addInputBinding&&l[f].addInputBinding(),void 0!==l[f].addInputBoxBinding&&l[f].addInputBoxBinding();if(b)n.injectStyleProperty(l[f],e),g=h?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===e){g=h?"_parentStyleUpdateListeners":"_parentStyleListeners";k=F.length;for(var q=0;q<k;q++)n.injectStyleProperty(l[f],F[q]);void 0===m[g]["*"]&&(m[g]["*"]=[]);m[g]["*"].push({parent:this,func:d})}g=h?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===m[g][e]&&
(m[g][e]=[]);m[g][e].push({parent:this,func:d})}}else{m=this.attrListeners();if(b)g=h?"_styleUpdateListeners":"_styleListeners",n.injectStyleProperty(this,e);else{if(c||"*"===e)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===e){g=h?"_styleUpdateListeners":"_styleListeners";k=F.length;for(f=0;f<k;f++)n.injectStyleProperty(this,F[f]);void 0===m[g][e]&&(m[g][e]=[]);m[g][e].push(d)}g=h?"_attrUpdateListeners":"_attrListeners"}void 0===
m[g][e]&&(m[g][e]=[]);m[g][e].push(d)}else{if(c||"*"===e)for(q=document.querySelectorAll("input, textarea"),k=q.length,f=0;f<k;f++)void 0!==q[f].addInputBinding&&q[f].addInputBinding(),void 0!==q[f].addInputBoxBinding&&q[f].addInputBoxBinding();if(b){b=Array.prototype.slice.call(document.body.querySelectorAll("*"));k=b.length+1;b.unshift(document.body);for(f=0;f<k;f++)n.injectStyleProperty(b[f],e);g=h?y:w}else{if("*"===e){b=Array.prototype.slice.call(document.body.querySelectorAll("*"));k=b.length+
1;c=F.length;b.unshift(document.body);for(f=0;f<k;f++)for(q=0;q<c;q++)n.injectStyleProperty(b[f],F[q]);g=h?y:w;void 0===g[e]&&(g[e]=[]);g[e].push(d)}g=h?J:I}void 0===g[e]&&(g[e]=[]);g[e].push(d)}}function L(e,d,k,h){function c(b,c){var e=c[b],k=e.length;for(g=0;g<k;g++)e[g].toString()===d.toString()&&e.splice(g,1)}if("function"!==typeof d)return n;["value","checked"].indexOf(e);var b=-1!==F.indexOf(e),g;if(this.toString()!==n.toString())if(k){k=this.querySelectorAll("*");var l=k.length;b?(b=h?"_childStyleUpdateListeners":
"_childStyleListeners",c(e,this.attrListeners()[b]),b=h?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===e&&(b=h?"_childStyleUpdateListeners":"_childStyleListeners",c(e,this.attrListeners()[b])),b=h?"_childAttrUpdateListeners":"_childAttrListeners",c(e,this.attrListeners()[b]),b=h?"_parentAttrUpdateListeners":"_parentAttrListeners");for(g=0;g<l;g++){for(var m=k[g].attrListeners()[b][e],f=m.length,q=0;q<f;q++)m[q].isEqualNode(this)&&m.slice(q,1);if("*"===e)for(listenersStyle=h?"_parentStyleUpdateListeners":
"_parentStyleListeners",m=k[g].attrListeners()[b][e],f=m.length,q=0;q<f;q++)m[q].isEqualNode(this)&&m.slice(q,1)}}else b?b=h?"_styleUpdateListeners":"_styleListeners":("*"===e&&(b=h?"_styleUpdateListeners":"_styleListeners",c(e,this.attrListeners()[b])),b=h?"_attrUpdateListeners":"_attrListeners"),c(e,this.attrListeners()[b]);else b?b=h?y:w:("*"===e&&(b=h?y:w,c(e,b)),b=h?J:I),c(e,b)}function O(e,d){n.addAttrListener.call(this,e,d,!0);return this}function Q(e,d){n.addAttrUpdateListener.call(this,e,
d,!0);return this}function M(e,d){n.removeAttrListener.call(this,e,d,!0);return this}function E(e,d){n.removeAttrUpdateListener.call(this,e,d,!0);return this}function C(e,d,k){var h=this.attrListeners();"html"===d&&(d="innerHTML");"events"===d&&(d="onclick");switch(e){case "attr":if(p(h._attrListeners[d],k))return!0;break;case "attrupdate":if(p(h._attrUpdateListeners[d],k))return!0}return!1}function H(){this._stopChange=!0;return this}function n(){function e(b,g){var c,d=g.length;for(c=0;c<d;c++)-1===
b.indexOf(g[c])&&b.push(g[c]);return b}function d(b,g){for(var c=Object.keys(b),d,e,k=0,h=c.length;k<h;k++)if(d=c[k],void 0===g[d])g[d]=b[d].slice();else for(var f=0,q=b[d].length;f<q;f++)e=b[d][f],g[d].push(e)}function k(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var g=b.target.attrListeners(),c,k=["value","checked"],h=g._attrListeners,f=g._attrUpdateListeners,q=g._parentAttrListeners;c=g._parentAttrUpdateListeners;var v=!1;if(void 0!==I["*"]||void 0!==J["*"])v=!0;if(!0!==v&&void 0!==h["*"]||
void 0!==f["*"]||void 0!==q["*"]||void 0!==c["*"])v=!0;if(!0!==v)for(var p=0;p<k.length;p++)if(void 0!==I[k[p]]||void 0!==J[k[p]]||void 0!==h[k[p]]||void 0!==f[k[p]]||void 0!==q[k[p]]||void 0!==c[k[p]]){v=!0;break}c=v;k=Object.keys(w);h=Object.keys(y);Object.keys(g._styleListeners);Object.keys(g._styleUpdateListeners);f=Object.keys(g._parentStyleListeners);g=Object.keys(g._parentStyleUpdateListeners);q=[];if(0!==k.length||0!==h.length)q=e(q,k),q=e(q,h);if(0!==q.length&&0!==f.length||0!==g.length)q=
e(q,f),q=e(q,g);-1!==q.indexOf("*")&&(q=F);var g=q,k=g.length,t,r,h=[],G,f="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,q=b.target;void 0!==f&&(b.attr="appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(c){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?(h=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||h.unshift(b.arguments[0])):h=
Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));G=h.length;for(var R=0;R<G;R++)void 0!==h[R].addInputBinding&&h[R].addInputBinding(),void 0!==h[R].addInputBoxBinding&&h[R].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(h=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),h.unshift(b.arguments[0])):h=Array.prototype.slice.call(b.target.querySelectorAll("*"));c=b.target.__kb._parentAttrListeners;
v=b.target.__kb._parentAttrUpdateListeners;p=b.target.__kb._parentStyleListeners;t=b.target.__kb._parentStyleUpdateListeners;G=h.length;for(R=0;R<G;R++){if(0!==k)for(r=0;r<k;r++)n.injectStyleProperty(h[R],g[r]);r=h[R].attrListeners();d(c,r._parentAttrListeners);d(v,r._parentAttrUpdateListeners);d(p,r._parentStyleListeners);d(t,r._parentStyleUpdateListeners)}void 0!==f&&(b.attr=f,b.target=q,b.arguments=[])}}function h(g){var c=g.target.attributes[g.arguments[0]],d="setAttribute"===g.attr?g.arguments[1]:
"";b(g.target,g.arguments[0],d,void 0!==c?c.value:"",[d])||g.preventDefault()}function c(b){var c=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:"";g(b.target,b.arguments[0],d,void 0!==c?c.value:"",[d])}n.injectPrototypes(Node,"Node");n.injectPrototypes(Element,"Element");n.injectPrototypes(HTMLElement,"HTMLElement");n.injectPrototypes(HTMLInputElement,"HTMLInputElement");n.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");n.injectPrototypes(Document,"Document");
var b=N,g=u;n.addAttrUpdateListener("appendChild",k);n.addAttrUpdateListener("removeChild",k);n.addAttrUpdateListener("innerHTML",k);n.addAttrUpdateListener("outerHTML",k);n.addAttrUpdateListener("innerText",k);n.addAttrUpdateListener("outerText",k);n.addAttrUpdateListener("textContent",k);n.addAttrListener("setAttribute",h);n.addAttrListener("removeAttribute",h);n.addAttrUpdateListener("setAttribute",c);n.addAttrUpdateListener("removeAttribute",c);return n}var I={},J={},w={},y={},q={},v="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
F=Object.getOwnPropertyNames(document.documentElement.style),G=Object.keys(HTMLElement.prototype).filter(function(e){return 0===e.indexOf("on")}).concat(["addEventListener","removeEventListener"]),V,N=function(e,d,k,h,c,b){k=new A(e,d,k,h,c,void 0,"set",b);void 0!==e.__kb&&(h=e.__kb._attrListeners,c=e.__kb._styleListeners,b=e.__kb._parentAttrListeners,e=e.__kb._parentStyleListeners,void 0!==h[d]&&t(h[d],k),void 0===k._stopPropogation&&void 0!==c[d]&&t(c[d],k),void 0===k._stopPropogation&&void 0!==
h["*"]&&(t(h["*"],k),void 0===k._stopPropogation&&t(c["*"],k)),void 0===k._stopPropogation&&void 0!==b[d]&&r(b[d],k),void 0===k._stopPropogation&&void 0!==e[d]&&r(e[d],k),void 0===k._stopPropogation&&void 0!==b["*"]&&(r(b["*"],k),void 0===k._stopPropogation&&r(e["*"],k)));void 0===k._stopPropogation&&void 0!==I[d]&&t(I[d],k);void 0===k._stopPropogation&&void 0!==w[d]&&t(w[d],k);void 0===k._stopPropogation&&void 0!==I["*"]&&(t(I["*"],k),void 0===k._stopPropogation&&t(w["*"],k));return void 0!==k._preventDefault?
!1:!0},u=function(e,d,k,h,c,b){k=new A(e,d,k,h,c,b,"update");void 0!==e.__kb&&(h=e.__kb._attrUpdateListeners,c=e.__kb._styleUpdateListeners,b=e.__kb._parentAttrUpdateListeners,e=e.__kb._parentStyleUpdateListeners,void 0!==h[d]&&t(h[d],k),void 0===k._stopPropogation&&void 0!==c[d]&&t(c[d],k),void 0===k._stopPropogation&&void 0!==h["*"]&&(t(h["*"],k),void 0===k._stopPropogation&&t(c["*"],k)),void 0===k._stopPropogation&&void 0!==b[d]&&r(b[d],k),void 0===k._stopPropogation&&void 0!==e[d]&&r(e[d],k),
void 0===k._stopPropogation&&void 0!==b["*"]&&(r(b["*"],k),void 0===k._stopPropogation&&r(e["*"],k)));void 0===k._stopPropogation&&void 0!==J[d]&&t(J[d],k);void 0===k._stopPropogation&&void 0!==y[d]&&t(y[d],k);void 0===k._stopPropogation&&void 0!==J["*"]&&(t(J["*"],k),void 0===k._stopPropogation&&t(y["*"],k));return void 0!==k._preventDefault?!1:!0};n.injectPrototypeProperty=function(e,d,k,h,c){var b=e.prototype,g=Object.getOwnPropertyDescriptor(b,d);k=k||e.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var l=q[k];h=h||N;c=c||u;void 0===b.attrListeners&&(b={},b.attrListeners=function(){void 0===this.__kb&&(this.__kb=new B);return this.__kb}.bind(b),b.addAttrListener=n.addAttrListener,b.addAttrUpdateListener=n.addAttrUpdateListener,b.addChildAttrListener=O,b.addChildAttrUpdateListener=Q,b.hasListener=C,b.removeAttrListener=n.removeAttrListener,b.removeAttrUpdateListener=n.removeAttrUpdateListener,b.removeChildAttrListener=M,b.removeChildAttrUpdateListener=E,b.stopChange=H);void 0===l&&(q[k]={obj:e,
proto:b,descriptors:{},set:void 0,update:void 0},l=q[k],l.set=h,l.update=c);void 0===l.descriptors[d]&&(l.descriptors[d]=g);g.configurable&&(void 0!==g.set?Object.defineProperty(b,d,{get:g.get,set:f(g,d,h,c),enumerable:!0,configurable:!0}):"function"===typeof g.value?Object.defineProperty(b,d,{value:T(g,d,h,c),writable:!0,enumerable:!0,configurable:!0}):void 0!==g.value&&Object.defineProperty(b,d,{get:function(){return g.value},set:P(g,d,h,c),enumerable:!0,configurable:!0}));return n};n.injectStyleProperty=
function(e,d,k,h){var c=e.style,b=Object.getOwnPropertyDescriptor(c,d),g=e.attrListeners().injectedStyle;k=k||N;h=h||u;void 0===g&&(e.attrListeners().injectedStyle={obj:e,proto:c,descriptors:{},set:void 0,update:void 0},e.attrListeners().injectedStyle.set=k,e.attrListeners().injectedStyle.update=h,g=e.attrListeners().injectedStyle);void 0===g.descriptors[d]&&(g.descriptors[d]=b);b.configurable&&Object.defineProperty(c,d,S(b,d,k,h,e));return n};n.injectPrototypes=function(e,d,k,h){var c=e.prototype;
d=d||e.toString().split(/\s+/)[1].split("{")[0].replace("()","");var b=q[d],g=Object.getOwnPropertyNames(c);k=k||N;h=h||u;var f;void 0===c.attrListeners&&(c.attrListeners=function(){void 0===this.__kb&&(this.__kb=new B);return this.__kb},c.addAttrListener=n.addAttrListener,c.addAttrUpdateListener=n.addAttrUpdateListener,c.addChildAttrListener=O,c.addChildAttrUpdateListener=Q,c.removeAttrListener=n.removeAttrListener,c.removeAttrUpdateListener=n.removeAttrUpdateListener,c.removeChildAttrListener=M,
c.removeChildAttrUpdateListener=E,c.hasListener=C,c.stopChange=H);void 0===b&&(q[d]={obj:e,proto:c,descriptors:{},set:void 0,update:void 0},b=q[d],b.set=k,b.update=h);f=q[d].descriptors;for(h=0;h<g.length;h+=1)void 0===f[g[h]]&&n.injectPrototypeProperty(e,g[h],d,k,u);if(-1!==g.indexOf("value")){var m=function(g){var c,d,e;if("checkbox"===this.type||"radio"===this.type)c=!0;d=c?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){e=c?"string"===typeof this.checked?
this.checked:this.checked?"true":"false":this.value;c&&(b.set(this,"checked",this.checked,d)?b.update(this,"checked",this.checked,d):f.checked.set.call(this,d));this.value!==e&&(this.value=e);b.set(this,"value",this.value,d)?b.update(this,"value",this.value,d):f.value.set.call(this,d)}.bind(this),0)};c.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",m)};c.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",
m)};c.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",m)};c.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",m)}}return n};n.addAttrListener=function(e,d,k){if("html"===e){e=0;for(var h=v.length;e<h;e++)D.call(this,v[e],d,k,!1)}else if("events"===e)for(e=0,h=G.length;e<h;e++)D.call(this,G[e],d,k,!1);else D.call(this,e,d,k,!1);return this};n.addAttrUpdateListener=function(e,d,k){if("html"===
e){e=0;for(var h=v.length;e<h;e++)D.call(this,v[e],d,k,!0)}else if("events"===e)for(e=0,h=G.length;e<h;e++)D.call(this,G[e],d,k,!0);else D.call(this,e,d,k,!0);return this};n.removeAttrListener=function(e,d,k){if("html"===e){e=0;for(var h=v.length;e<h;e++)L.call(this,v[e],d,k,!1)}else if("events"===e)for(e=0,h=G.length;e<h;e++)L.call(this,G[e],d,k,!1);else L.call(this,e,d,k,!1);return this};n.removeAttrUpdateListener=function(e,d,k){if("html"===e){e=0;for(var h=v.length;e<h;e++)L.call(this,v[e],d,
k,!0)}else if("events"===e)for(e=0,h=G.length;e<h;e++)L.call(this,G[e],d,k,!0);else L.call(this,e,d,k,!0);return this};n.hasListener=function(e,d,k){"html"===d&&(d="innerHTML");"events"===d&&(d="onclick");switch(e){case "attr":if(p(I[d],k))return!0;break;case "attrupdate":if(p(J[d],k))return!0}return!1};n.injectedPrototypes=function(){return q};return n}"function"===typeof define&&define.amd&&define("KB",A);return A}(),aa=function(A){return function(){function t(f){document.createDocumentFragment();
this.name=f.tagName.toLowerCase();this.template=n[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=f;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name;this.template=this.template.replace(K(),"\x3c!--$1$2$3$4--\x3e")}function r(f,v,n,p){return{value:f,writable:!!v,enumerable:!!p,configurable:!!n}}function p(){return new RegExp("(\\"+E.split("").join("\\")+
")(.*?)(\\"+C.split("").join("\\")+")","g")}function K(){return new RegExp("(<\\"+E.split("").join("\\")+".*?\\"+C.split("").join("\\")+".*?>)(.|[Ss]*?)(<\\/\\"+E.split("").join("\\")+".*?\\"+C.split("").join("\\")+".*?>)|(<{{.*?}}.*?>)","g")}function B(f){return f.split(new RegExp("("+E.split("").join("\\")+")(.*?)("+C.split("").join("\\")+")","g")).map(function(f,q,n){return n[q-1]===E?E+f+C:f}).filter(function(f,q,n){return 0!==f.length&&f!==E&&f!==C&&0!==f.length})}function f(f){return f.replace(new RegExp("["+
E+C+"]","g"),"").replace(new RegExp("(\\"+H.split("").join("\\")+"(.*?)+)","g"),"").replace(/\s/g,"")}function P(f){return f.reduce(function(f,q){q.match(/(\()(.*?)(\))/)?f.vmFilters[f.vmFilters.length]=q.replace(/[\(\)]/g,""):q.match(/(\[)(.*?)(\])/)?-1!==q.indexOf("~")?f.model[f.model.length]=q.replace(/[\[\]\~]/g,""):-1!==q.indexOf("+")?f.local[f.local.length]=q.replace(/[\[\]\+]/g,""):f.session[f.session.length]=q.replace(/[\[\]\-]/g,""):f.filters[f.filters.length]=q;return f},{filters:[],vmFilters:[],
model:[],local:[],session:[]})}function T(f){return-1!==f.indexOf("for")?f.replace(new RegExp("["+E+C+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(f){return 0!==f.length}):[]}function S(f){if(2>f.split("==").length&&2>f.split("<=").length&&2>f.split(">=").length&&-1!==f.indexOf("="))return f.substring(f.indexOf("=")+1,f.length)}function D(f){var n=f.match(/^(\s*)(>)((.*?)+)/),p=f.match(/^(\s*)(<)((.*?)+)/);f=f.replace(/(^<|^>)((.*?)+)/,"$2");var r=S(f),
t=f.match(/((==|<=|>=|<|>)((.*?)+))/g),y=f.match(/(([\+\*-\/])((.*?)+))/g);return{type:n?"insert":p?"outsert":void 0,set:r!==f?r:void 0,filters:t||y?{boolFilter:t?eval("(function(){ return function(v){ return (v"+t[0]+");};}())"):void 0,mathFilter:y?eval("(function(){ return function(v){ return (v"+y[0]+");};}())"):void 0}:void 0}}function L(f){if(0!==f.length){for(var n="",p=0,r=f.length;p<r;p++)if("string"===typeof f[p])n+=f[p];else if(void 0===f[p]._data)n+=f[p].text;else var t=f[p]._data.get(f[p].key),
n=n+O(void 0!==t?t:"",f[p].filters.filters,f[p]._data.filters);return n}return O(f[0]._data.get(f[0].key)||"",f[0].filters.filters,f[0]._data.filters)}function O(f,n,p){for(var r=0,t=n.length;r<t;r++)p[n[r]]&&(f=p[n[r]](f));return f}function Q(f,n,p,r){for(var t=0,y=n.length;t<y;t++)if(p[n[t]])p[n[t]](f,r);return f}function M(){function f(d,e){var h=D(e);this.text=d;this.key=e.replace(/(^>|^<*)(.*?)([=*+-\/<>]+)((.*?)+)/g,"$2").replace(/\s/g,"");this.keyLength=this.key.split(".").length;this.localKey=
this.key.split(".").pop();var c;c=-1!==d.indexOf(H)?d.replace(new RegExp("["+C+"]","g"),"").replace(new RegExp("(.*?)(\\"+H.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[];this.filters=P(c);this.component="for"===this.type?T(d)[1]:void 0;this.id=0;this.subType=h.subtype;this.set=h.set;this.inlineFilters=h.filters;this.isBase=!1}function n(d,e){for(var f=0,c=e.length;f<c;f++)d.stopChange().appendChild(e[f])}function p(d){if(d&&window.model)return window.model.get(d[0])}function t(d,e){if(e&&
0!==e.length&&window.model)for(var f=0,c=e.length;f<c;f++)window.model.set(e[f],d)}function B(d){if(d&&window.localStorage)return localStorage.getItem(d[0])}function w(d,e){if(d&&0!==d.length&&window.localStorage)for(var f=0,c=d.length;f<c;f++)localStorage.setItem(d[f],e)}function u(d){if(d&&window.sessionStorage)return sessionStorage.getItem(d[0])}function e(d,e){if(d&&0!==d.length&&window.sessionStorage)for(var f=0,c=d.length;f<c;f++)sessionStorage.setItem(d[f],e)}Object.defineProperties(f.prototype,
{addPointer:r(function(d){for(var e=document.createElement(this.component),f=Q(this._data.getLayer(this.key),this.filters.filters,this._data.filters,d)[d],c=0,b=Object.keys(f,"all"),g=b.length;c<g;c++)e.k_post||(e.k_post={}),e.k_post[b[c]]=f,e.k_post.x=d,e.k_post.loopid=this.component+"_"+d;d>=this.node.children.length?this.node.stopChange().appendChild(e):this.node.stopChange().insertBefore(e,this.node.children[d]);y({event:"loopitem",node:e,parent:this.node,map:this});return this}),removePointer:r(function(d){for(var e=
this.node.children[d].kb_maps,f=0,c=Object.keys(this.node.children[d].kb_viewmodel.pointers),b=c.length;f<b;f++){var g=e[c[f]];if(g)for(var l=0,m=g.length;l<m;l++)g[l].unsync(),g[l]=null,delete g[l]}this.node.stopChange().removeChild(this.node.children[d]);f=0;for(b=this.node.children.length;f<b;f++)this.node.children[f].kb_viewmodel.x=f,d=this.node.children[f].kb_viewmodel.loopid,this.node.children[f].kb_viewmodel.loopid=d.substring(0,d.lastIndexOf("_")+1)+f;return this}),reapplyPointer:r(function(d){for(var e=
this.node.children[d].kb_maps,f=this.node.children[d].kb_viewmodel.loopid,c=0,b=Object.keys(this.node.children[d].kb_viewmodel.pointers),g=b.length;c<g;c++){var l=e[b[c]];if(void 0!==l)for(var m=0,q=l.length;m<q;m++)l[m].reconnect()}this.node.children[d].kb_viewmodel.x=d;this.node.children[d].kb_viewmodel.loopid=f.substring(0,f.lastIndexOf("_")+1)+d;return this}),connect:r(function(d){var e=this;this._data=d;if("for"!==this.type){if("node"===this.type)return this.isBase&&(this.dataListener=function(b){"delete"===
b.event?e.unsync():e.replaceNode()},d.getLayer(this.key).addDataUpdateListener(this.localKey,this.dataListener)),this;if(this.insert){this.setDom(this._data.get(this.key));this.unsync();return}if(this.set){var f=!isNaN(parseInt(this.set,10))&&parseInt(this.set,10).toString().length===this.set.length,c="true"===this.set.replace(/\s/g,"")||"false"===this.set.replace(/\s/g,""),b=-1!==this.set.indexOf('"')||-1!==this.set.indexOf("'");(this.set=f?parseInt(this.set,10):c?"true"===this.set.replace(/\s/g,
""):b?this.set.replace(/((\s*\"|\')(.*?)(\"|\'))/g,"$3"):void 0)&&this._data.set(this.key,this.set)}if(this.outsert){this.setDom("");this.unsync();return}this.inlineFilters&&(this.inlineFilters.boolFilter?(this.filters.filters.unshift("boolFilter"),this._data.filters.boolFilter=this.inlineFilters.boolFilter):(this.filters.filters.unshift("mathFilter"),this._data.filters.mathFilter=this.inlineFilters.mathFilter));this.dataListener=function(b){"delete"===b.event?e.unsync():e.setDom(b.value)};d.getLayer(this.key).addDataUpdateListener(this.localKey,
this.dataListener);1===this.bindText.length&&(this.domListener=function(b){e.setData(b.value)},this.node.__kbhtmllistener=!0,this.node.addAttrUpdateListener(this.listener,this.domListener))}else this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");e.setLoop(b.key,b.event)},d.getLayer(this.key).addDataMethodUpdateListener(this.dataListener);"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,p(this.filters.model)):
this.filters.session&&0!==this.filters.session.length?this._data.stopChange().set(this.key,u(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,B(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",n(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=L(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&
(d=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==d?d:"")));return this}),reconnect:r(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:r(function(){this.node.stopChange().innerHTML="";for(var d=
0,e=Q(this._data.get(this.key),this.filters.filters,this._data.filters).length;d<e;d++)this.setLoop(d,"create");return this}),setData:r(function(d){d=O(d,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,d);t(this.filters.model,d);e(this.filters.session,d);w(this.filters.local,d);return this}),setDom:r(function(d){t(this.filters.model,d);e(this.filters.session,d);w(this.filters.local,d);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&
-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",n(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=L(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(d=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==d?d:""));return this}),setLoop:r(function(d,e){switch(e){case "create":this.addPointer(d);break;case "delete":this.removePointer(d);
break;case "set":this.reapplyPointer(d);break;default:if("push"!==e)for(var f=0,c=this._data.getLayer(this.key).length;f<c;f++)this.reapplyPointer(f)}return this}),bindMaps:r([]),unsync:r(function(){this._data=this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this}),reset:r(function(){"for"===this.type?this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener).addDataMethodUpdateListener(this.extraListener):
this.dataListener&&(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener).addDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener).addAttrUpdateListener(this.listener,this.domListener))}),replaceNode:r(function(){var d=document.createDocumentFragment(),e=d.appendChild(document.createElement("div")),f,c=!1,b=this;e.innerHTML=this.bindText.map(function(g,d){if("object"===typeof g){if(void 0===
g._data)return c=!0,"";if(g.key===b.bindText[1].key){var e=O(g._data.get(g.key),g.filters,g._data.filters)||"unknown";"unkown"===e&&1===d&&console.error("You attempted to bind a node to %o, which does not exist on %o, with bindText: %o",g.key,g._data,g.base);return e}return O(g._data.get(g.key),g.filters,g._data.filters)}return g}).join("");c||(f=e.children[0],d.replaceChild(f,e),this.base.local.parentElement.stopChange().replaceChild(d,this.base.local),this.base.local=f,y({event:"replaceNode",node:this.base.local,
parent:this.node,map:this.base}))})});return f}var E="{{",C="}}",H="|",n={},I=/(<\/.*?>)/g;A().call();var J=Object.keys(HTMLElement.prototype).filter(function(f){return 0===f.indexOf("on")}),w={loopitem:[],replaceNode:[]},y=function(f){for(var n=w[f.event],p=0,t=n.length;p<t;p++)n[p](f)};t.start=function(f){if(void 0===f)return E;E="string"===typeof f?f:E;return t};t.end=function(f){if(void 0===f)return C;C="string"===typeof f?f:C;return t};t.pipe=function(f){if(void 0===f)return H;H="string"===typeof f?
f:H;return t};t.getUnknown=function(f){var p=f.match(I).map(function(f){return f.replace(/[<\/>]/g,"")});p.filter(function(f,q){return 0!==f.indexOf(E)&&document.createElement(f)instanceof HTMLUnknownElement&&-1===p.indexOf(f,q+1)&&void 0===n[f]});return p};t.isRegistered=function(f){return void 0!==n[f]};t.register=function(f,p){void 0===n[f]?(n[f]=p,t.getUnknown(p)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",f);return this};t.addEventListener=function(f,
p){void 0!==w[f]?w[f].push(p):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",f);return t};t.removeEventListener=function(f,p){if(void 0!==w[f])for(var n=0,r=w[f].length;n<r;n++)w[f][n].toString()===p.toString()&&w[f].splice(n,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",f);return t};Object.defineProperties(t.prototype,{register:r(t.register),isRegistered:r(t.isRegistered),getUnknown:r(t.getUnknown),
map:r(function(n){function t(r,y){for(var w=0,A=r.length;w<A;w++)if(void 0===r[w].kb_maps&&8!==r[w].nodeType){r[w].kb_mapper=n;r[w].kb_maps=y;if(3===r[w].nodeType){var u=r[w],e=y,d=u.textContent;if(d.match(p())){var k=B(d),h=M();h.prototype.type=d.match(new RegExp("(\\"+E.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+C.split("").join("\\")+")","g"))?"for":"text";h.prototype.text=d;h.prototype.bindText=k;h.prototype.listener="textContent";h.prototype.attr="textContent";h.prototype.localAttr=
"textContent";h.prototype.local=u;h.prototype.node=u.parentElement;h.prototype.binds=e;u=0;for(d=k.length;u<d;u++)if(0===k[u].indexOf(E)){var c="for"===h.prototype.type?T(k[u])[0]:f(k[u]),b=new h(k[u],c);void 0===e[c]&&(e[c]=[]);b.bindText[u]=b;b.bindMaps.push(b);b.id=e[c].length;e[c].push(b)}}}else for(e=r[w],k=y,h=Array.prototype.slice.call(e.attributes),u=e instanceof HTMLUnknownElement,d=0,c=h.length;d<c;d++)if(h[d].value.match(p())){var b=B(h[d].value),g=M();g.prototype.type=u?"component":"attribute";
g.prototype.text=h[d].value;g.prototype.bindText=b;g.prototype.isEvent=-1!==J.indexOf(h[d].name);g.prototype.isInput="input"===e.tagName.toLowerCase();g.prototype.isRadio=g.prototype.isInput?-1!==["radio","checkbox"].indexOf(e.type):!1;g.prototype.listener=h[d].name;g.prototype.attr=h[d].name;g.prototype.localAttr="value";g.prototype.local=h[d];g.prototype.node=e;g.prototype.binds=k;g.prototype.isEvent&&e.removeAttribute(h[d].name);for(var l=0,m=b.length;l<m;l++)if(0===b[l].indexOf(E)){var z=f(b[l]),
U=new g(b[l],z);void 0===k[z]&&(k[z]=[]);U.bindText[l]=U;U.bindMaps.push(U);U.id=k[z].length;k[z].push(U)}}r[w].childNodes&&0!==r[w].childNodes.length&&(y=t(r[w].childNodes,y))}else if(8===r[w].nodeType&&(u=r[w],e=y,d=u.textContent,d.match(K())))for(k=B(d),h=M(),h.prototype.type="node",h.prototype.text=d,h.prototype.bindText=k,h.prototype.base=k[1],h.prototype.listener="textContent",h.prototype.attr="textContent",h.prototype.localAttr="textContent",h.prototype.local=u,h.prototype.node=u.parentElement,
h.prototype.binds=e,h.prototype.replacement=void 0,u=0,d=k.length;u<d;u++)0===k[u].indexOf(E)&&(c=f(k[u]),b=new h(k[u],c),void 0===e[c]&&(e[c]=[]),b.bindText[u]=b,b.bindMaps.push(b),b.id=e[c].length,1===u&&(h.prototype.base=b,b.isBase=!0),e[c].push(b));return y}return t(n.childNodes,{})})});return t}}(X),ba=function(){return function(){function A(p){0===p.length&&(p=t);document.body.innerHTML="<"+p+"></"+p+">";r(p);return A}var t="",r=function(){};A.base=function(p){if(void 0===p)return t;t="string"===
typeof p?p:t;return A};A.onChange=function(p){if(void 0===p)return r;r="function"===typeof p?p:r;return A};A.watch=function(p){window.onhashchange=p?function(){A(window.location.hash.replace("#",""))}:null;return A};return A}}(),W=function(A,t,r,p,K){return function(r){function f(b,c,d,e,h){function n(b,c,g,d,f){for(var e=w({},b),h=0,l=Object.keys(d),m=l.length;h<m;h++)-1!==k.indexOf(l[h])?Object.defineProperty(e,l[h],D(d[l[h]],"filters"!==l[h])):d.pointers?void 0===d.pointers[l[h]]&&e.set(l[h],d[l[h]]):
e.set(l[h],d[l[h]]);if(d.pointers)for(e.pointers||Object.defineProperty(e,"pointers",D({},!1,!0)),h=0,l=Object.keys(d.pointers),m=l.length;h<m;h++)e.pointers[l[h]]=d.pointers[l[h]],e.addPointer(e.pointers[l[h]].point,e.pointers[l[h]].key,l[h]);c.apply(e,g);h=0;l=Object.keys(c.prototype);for(m=l.length;h<m;h++)Object.defineProperty(e,[l[h]],D(c.prototype[l[h]],!0));h=0;l=Object.keys(f);for(m=l.length;h<m;h++)-1!==k.indexOf(l[h])?Object.defineProperty(e,l[h],D(f[l[h]],"filters"!==l[h])):f.pointers?
void 0===f.pointers[l[h]]&&e.set(l[h],f[l[h]]):e.set(l[h],f[l[h]]);if(f.pointers)for(e.pointers||Object.defineProperty(e,"pointers",D({},!1,!0)),h=0,l=Object.keys(f.pointers),m=l.length;h<m;h++)e.pointers[l[h]]=f.pointers[l[h]],e.addPointer(e.pointers[l[h]].point,e.pointers[l[h]].key,l[h]);h=0;l=Object.keys(e.filters);for(m=l.length;h<m;h++)e.filters[l[h]]=e.filters[l[h]].bind(e);if(e.sessionStorage){if(c=sessionStorage.getItem(e.id||b))for(c=JSON.parse(c),h=0,l=Object.keys(c),m=l.length;h<m;h++)e.set(l[h],
c[l[h]]);else sessionStorage.setItem(e.id||b,e.stringify());e.addChildDataUpdateListener("*",function(){sessionStorage.setItem(e.id||b,e.stringify())})}if(e.localStorage){if(c=localStorage.getItem(e.id||b))for(c=JSON.parse(c),h=0,l=Object.keys(c),m=l.length;h<m;h++)e.set(l[h],c[l[h]]);else localStorage.setItem(e.id||b,e.stringify());e.addChildDataUpdateListener("*",function(){localStorage.setItem(e.id||b,e.stringify())})}e.store&&V.set(e.id||b,e);return e}function p(b,c,g){b.kb_viewmodel=g;var d=
c.maps=c.map(c.wrapper);c.wrapper.kb_maps=d;Object.keys(d).forEach(function(b){d[b].forEach(function(b){switch(b.type){case "for":b.connect(g).createloop();break;case "component":b.connect(g).unsync();break;case "node":b.connect(g).replaceNode();break;default:b.connect(g)}})});c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,c.wrapper);c.wrapper.kb_viewmodel.onGlobalFinish&&c.wrapper.kb_viewmodel.onGlobalFinish.call(c.wrapper.kb_viewmodel,c.wrapper);c.wrapper.kb_viewmodel.onNodeFinish&&
c.wrapper.kb_viewmodel.onNodeFinish.call(c.wrapper.kb_viewmodel,c.wrapper)}function q(b){b=b.querySelectorAll("*");for(var c=0,g=b.length;c<g;c++)b[c]instanceof HTMLUnknownElement&&f(b[c])}function r(b,d){u=new F(d,!0);u.wrapper.innerHTML=u.template;u.wrapper.kb_mapper=u.wrapper;Object.defineProperty(u.wrapper,"__kbcomponenttree",D(d.kb_mapper?d.kb_mapper.__kbcomponenttree.slice():[]));d.parentElement.stopChange().replaceChild(u.fragment,d);c.unshift(u.wrapper);p(u.wrapper,u,n(b,N[b],c,v,A));-1===
u.wrapper.__kbcomponenttree.indexOf(b)||u.wrapper.kb_viewmodel.multiple?(u.wrapper.__kbcomponenttree.push(b),u.wrapper.className+=" "+u.wrapper.kb_viewmodel.local,u.wrapper.className+=" "+u.wrapper.kb_viewmodel.id,u.wrapper.className+=u.wrapper.kb_viewmodel.loopid?" "+u.wrapper.kb_viewmodel.loopid:"",u.wrapper.kb_viewmodel.subscribeDeep("*",P).callAllSubscribers(),u.wrapper.kb_viewmodel.kbnode=u.wrapper,u.wrapper.addChildAttrListener("html",function(b){if(!b.stopChange){if(-1!==["appendChild","insertSibling",
"insertBefore","insertAfter"].indexOf(b.attr)&&(b.arguments[0]instanceof HTMLUnknownElement||b.arguments[0]instanceof HTMLScriptElement)||-1!==["innerHTML","textContent"].indexOf(b.attr)&&b.target.__kbhtmllistener)return!0;b.preventDefault();b.stopPropagation()}}),u.wrapper.addChildAttrUpdateListener("html",function(b){-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&b.arguments[0]instanceof HTMLUnknownElement&&f(b.arguments[0])}),q(u.wrapper)):(console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",
b),console.error("Recursive Component %o on %o",u.wrapper,u.wrapper.parentElement))}var t=b.tagName.toLowerCase(),u;h=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")});var v=S(y,{}),A={};void 0===c&&(c=[]);d&&S(d,v);Object.defineProperty(v,"local",D(v.local||"local_"+t+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(v,"id",D(v.id||"id_"+t+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(v,"filters",D(v.filters||
{},!1,!1,!0));"function"!==typeof v.onFinish&&(v.onFinish=function(){});Object.defineProperty(v,"onGlobalFinish",D(v.onFinish,!0,!1,!0));v.listen=O;Object.defineProperty(v,"listen",D(v.listen,!0,!1,!0));v.unlisten=L;Object.defineProperty(v,"unlisten",D(v.unlisten,!0,!1,!0));v.alert=Q;Object.defineProperty(v,"alert",D(v.alert,!0,!1,!0));Object.defineProperty(v,"sessionStorage",D(!1,!0,!1,!0));Object.defineProperty(v,"localStorage",D(!1,!0,!1,!0));Object.defineProperty(v,"store",D(!1,!0,!1,!0));Object.defineProperty(v,
"multiple",D(!1,!0,!1,!0));e&&S(e,A);A.innerHTML=Array.prototype.slice.call(b.childNodes);d=0;for(e=b.attributes.length;d<e;d++)A[b.attributes[d].name]=b.attributes[d].value;d=0;for(e=h.length;d<e;d++)b[h[d]]&&(A[h[d]]=b[h[d]]);b.k_post&&S(b.k_post,A);f.isRegistered(t)||b.kb_isLoading?f.isRegistered(t)&&r(t,b):(f.loadWaitList(t,function(c,g){r(t,b)}),f.loadWaitList(t).loading||(f.loadWaitList(t).loading=!0,J(t)))}function P(b){var c=this.__kbref.local,d=this.__kbref.id,f=this.__kbref.loopid,h=this.__kbscopeString+
(0!==this.__kbscopeString.length?".":"")+b.key;if(e[c]&&e[c][h])for(var k=0,n=e[c][h].length;k<n;k++)e[c][h][k](b);if(e[d]&&e[d][h])for(k=0,n=e[d][h].length;k<n;k++)e[d][h][k](b);if(e[f]&&e[f][h])for(k=0,n=e[f][h].length;k<n;k++)e[f][h][k](b)}function T(b){var c=b.node.tagName.toLowerCase();f.isRegistered(c)||b.node.kb_isLoading?f.isRegistered(c)&&("replaceNode"===b.event?f(b.node,[],{onNodeFinish:function(c){b.map.local=c}}):f(b.node)):(b.node.kb_isLoading=!0,f.loadWaitList(c,function(c,d){"replaceNode"===
b.event?f(b.node,[],{onNodeFinish:function(c){b.map.local=c}}):f(b.node)}),f.loadWaitList(c).loading||(f.loadWaitList(c).loading=!0,J(c)))}function S(b,c){var d=Object.keys(b);c.pointers||Object.defineProperty(c,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var e=0,f=d.length;e<f;e++)if(w.prototype.isObservable(b,d[e]))c.pointers[d[e]]={key:b.__kbscopeString.split(".").pop(),point:b.__kbImmediateParent};else if(w.prototype.isMixed(b[d[e]]))c.pointers[d[e]]={key:b[d[e]].__kbscopeString.split(".").pop(),
point:b[d[e]].__kbImmediateParent};else if(w.prototype.isObject(b[d[e]])){void 0===c[d[e]]&&(c[d[e]]={});for(var h=0,k=Object.keys(b[d[e]]);h<f;h++)c[d[e]][k[h]]=b[d[e]][k[h]]}else if(w.prototype.isArray(b[d[e]]))for(h=0;h<f;h++)c[d[e]][h]=b[d[e]][h];else c[d[e]]=b[d[e]];return c}function D(b,c,d,e){return{value:b,writable:!!c,enumerable:!!e,configurable:!!d}}function L(b,c,d){if(2===arguments.length)if(d=c.bind(this),c=b,u[c])for(var f=0,h=u[c].length;f<h;f++)u[c][f].toString()===d.toString()&&u[c].splice(f,
1);else console.error("no listeners exists by key %o",c);else if(d=d.bind(this),e[b]&&e[b][c])for(f=0,h=e[b][c].length;f<h;f++)e[b][c].toString()===d.toString()&&e[b][c].splice(f,1);return this}function O(b,c,d){if(2===arguments.length)d=c.bind(this),c=b,u[c]||(u[c]=[]),u[c].push(d);else if(d=d.bind(this),e[b]||(e[b]={}),e[b][c]||(e[b][c]=[]),e[b][c].push(d),document.querySelector("."+b)){var f=e[b][c],h=document.querySelector("."+b).kb_mapper.kb_viewmodel,k=h.getLayer(c),n=c.split(".").pop(),p=k[n];
f[f.length-1]({key:n,value:p,oldValue:p,local:k,kbref:h,onChange:!1,initial:!0})}return this}function Q(b,c){if(u[b])for(var d=0,e=u[b].length;d<e;d++)u[b][d](c);return this}function M(){if(!document.querySelector('meta[name="viewport"]')){var b=document.createElement("meta");b.name="viewport";b.content="width=device-width, initial-scale=1.0";document.head.stopChange().appendChild(b)}f.device||(f.device={});f.device.type=f.detectDevice();f.device.orientation=f.detectOrientation();f.device.browser=
f.detectBrowser();f.device.screenSize=f.detectScreenSize();f.device.orientationSize=f.detectScreenOrientation();f.device.keyboard="desktop"!==f.device.type?window.innerHeight<screen.height-.4*screen.height:!1;document.body.className=f.device.type+" "+f.device.orientation+(f.device.keyboard?" keyboard":"")+" "+f.device.browser+" "+f.device.screenSize+" "+f.device.orientationSize}function E(b,c){var d=document.createElement("script");d.src=b;d.onerror=function(){c(null,!0)};d.onload=function(){c(y)};
document.head.stopChange().appendChild(d)}function C(b){E("/node_modules/Konnekt/config/config.js",b)}function H(b){E("/bower_components/Konnekt/config/config.js",b)}function n(b){E("/config/config.js",b)}function I(){for(var b=0,c=v.length;b<c;b++)v[b]()}window.K_Components||(window.K_Components={});var J=t().onLoad(function(b,c){var d="<style>"+unescape(c.prototype.k_css)+"</style>"+unescape(c.prototype.k_html);f.register(b,c,d,c.prototype.cms);q?(f.loadWaitList(b).forEach(function(d){d(b,c)}),
f.loadWaitList(b,"clear")):v.push(function(){f.loadWaitList(b).forEach(function(d){d(b,c)});f.loadWaitList(b,"clear")})}),w=A(),y=r||{},q=!1,v=[],F=p().addEventListener("loopitem",T).addEventListener("replaceNode",T),G=K().base(void 0!==y.base?y.base:"default").watch(!0).onChange(function(b){f(document.querySelector(b))}),V=w({},"Model"),N={},u={},e={},d=function(){return window.location.search.replace("?","").split("&").filter(function(b){return 0!==b.length}).reduce(function(b,c){b[c.split("=")[0]]=
c.split("=")[1];return b},{})}(),k="id filters class sessionStorage localStorage store component multiple".split(" "),h={},c;f.detectDevice=function(){return navigator.userAgent.toLowerCase().match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|[^a-z]rim[^a-z]|sonyericsson|nokia|[^a-z]mib[^a-z])/)?"mobile":navigator.userAgent.toLowerCase().match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?
"tablet":"desktop"};f.detectBrowser=function(){var b=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),c="undefined"!==typeof InstallTrigger,d=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),e=!!document.documentMode,f=!e&&!!window.StyleMedia,h=!!window.chrome&&!!window.chrome.webstore;return b?"opera":c?"firefox":d?"safari":h?"chrome":e?"ie":f?"edge":"unknown"};f.detectOrientation=
function(){return screen.width>screen.height?"landscape":screen.height>screen.width?"portrait":"square"};f.detectScreenOrientation=function(){return window.innerWidth>window.innerHeight?"landscape-size":window.innerHeight>window.innerWidth?"portrait-size":"square-size"};f.detectScreenSize=function(){return 1280>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?750>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?"mobile-size":"tablet-size":
"desktop-size"};f.config=function(b){function c(b,d){for(var e=0,f=Object.keys(b),h=f.length;e<h;e++)"object"===typeof b[f[e]]?(void 0===d[f[e]]&&(d[f[e]]={}),c(b[f[e]],d[f[e]])):"object"!==d[f[e]]&&(d[f[e]]=b[f[e]])}c(b,y);return f};window.addEventListener("resize",M);document.body?M():document.addEventListener("DOMContentLoaded",function(){M()});f.register=function(b,c,d,e){F.register(b,d);N[b]=c;return f};f.isRegistered=function(b){return void 0!==N[b]&&F.isRegistered(b)};f.registered=function(){return Object.keys(N)};
f.loadWaitList=function(b,c){if("undefined"===typeof c&&b)return h[b];if(b){if(void 0===h[b]||"clear"===c){var d=void 0===h[b]?!1:!!h[b].loading;h[b]=[];h[b].loading=d}"function"===typeof c&&h[b].push(c)}return f};f.localRouting=function(b){b?(c=Node.prototype.appendChild,Node.prototype.appendChild=function(b){if("script"===b.nodeName.toLowerCase()){b.src=b.src.substring(0,-1!==b.src.indexOf("?")?b.src.indexOf("?"):b.src.length);var e=b.src.match(/(.*?component\/)/);e&&(d.env||(d.env="prod"),"dev"===
d.env&&(d.env="qa"),e=b.src.replace(e[0],"").replace(/[\/\s]/g,""),b.src=(void 0!==y.prefix?y.prefix:"")+"/components/"+e+"/build/"+d.env+"/"+e+(d.debug&&"prod"!==d.env?"":".min")+".js",arguments[0]=b)}return c.apply(this,arguments)}):c&&(Node.prototype.appendChild=c,c=null);return f};f.hashRouting=function(b){b&&(document.body?q?G(window.location.hash.replace("#","")):v.push(function(){G(window.location.hash.replace("#",""))}):document.addEventListener("DOMContentLoaded",function(){q?G(window.location.hash.replace("#",
"")):v.push(function(){G(window.location.hash.replace("#",""))})}));return this};w.prototype._parse||(w.prototype._parse=w.prototype.parse);w.prototype.parse=function(){if(this.__kbref.kbnode){var b=this.__kbref.kbnode.kb_mapper.kb_maps;this._parse.apply(this,arguments);this.unsubscribeDeep("*",P);this.subscribeDeep("*",P).callAllSubscribers();Object.keys(b).forEach(function(c){b[c].forEach(function(b){b.reset()})})}else return this._parse.apply(this,arguments)};(function(){C(function(b,c){c?H(function(b,
c){c&&console.error("the Konnekt local config was not found, this issue happens when You do not have Konnekt isntalled via th standard node_modules or bower_components module directories");n(function(b,c){q=!0;I()})}):n(function(b,c){q=!0;I()})})})();return window.Konnekt=f}}(Y,Z,X,aa,ba);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return W}):"undefined"!==typeof module&&(module.exports=W);return W}();
