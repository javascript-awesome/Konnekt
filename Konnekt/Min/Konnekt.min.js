var Konnekt=function(){var W=function(){return function(z,p,t,n){function M(b,f,g,h){b=void 0===b?{}:b;var m={},d=window.Proxy?new Proxy(m,{set:N,deleteProperty:R}):m,k=Object.keys(b,"all");Object.defineProperties(m,{__kbname:c("string"===typeof f?f:"default",!0,!0),__kbref:c(g?g.__kbref||g:d,!0,!0),__kbscopeString:c(h||"",!0,!0),__kbImmediateParent:c(g||null,!0,!0),__kbsubscribers:c({}),__kbparentsubscribers:c({}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),
__kbcreatelisteners:c([]),__kbdeletelisteners:c([]),__kbparentcreatelisteners:c([]),__kbparentdeletelisteners:c([]),__kbmethodlisteners:c([]),__kbmethodupdatelisteners:c([]),__kbpointers:c({}),__kbevents:c(S),__kbsetindex:c(0,!0),__kbproto:c({}),length:c(0,!0),__kbnonproxy:c(m,!1,!0),__kbproxy:c(d,!1,!0),_stopChange:c(!1,!0)});m.__proto__=M.prototype;f=0;for(g=k.length;f<g;f++)d.set(k[f],b[k[f]]);m.__kbevents.addlistener=[];m.__kbevents.removelistener=[];m.addActionListener("addlistener",function(b){if("string"===
typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var f=b.local.__kbpointers[b.arguments[0]],f=f.point.getLayer(f.keys);if(void 0!==f[b.arguments[0]])f[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var f=b.local.__kbpointers[b.arguments[0]],f=f.point.getLayer(f.keys);if(void 0!==f[b.arguments[0]])f[b.arguments[2]](b.arguments[0],b.arguments[1])}});
return d}function C(b,f,g,h,m,d,k,e){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=f;this.arguments=d;this.type=this.event=g;this.listener=k;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=h;this.oldValue=m;this.stopChange=e}function c(b,f,g,h){return{value:b,writable:!!f,enumerable:!!h,configurable:!!g}}function Q(b,f,g){return{get:function(){return b.call(this)},
set:function(g){f&&(b=g)},enumerable:!1,configurable:!!g}}function T(b,f){var g=f,h=f;return{get:function(){return g},set:function(f){var B=new C(this,b,"set",f,g,arguments,"__kblisteners",this._stopChange);!0!==d(B)&&(h=g,g=f,B.stopChange||(B.listener="__kbupdatelisteners",B.type="postset",d(B)),this.callSubscribers(this.__kbref,this,b,g,h,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function E(){var b=Array.prototype.slice.call(arguments),f=b.shift();return{get:function(){return b.reduce(function(b,
f){return b[f]},f)},set:function(g){var h=b.slice(0,b.length-1).reduce(function(b,f){return b[f]},f);(this._stopChange?h.stopChange():h)[b[b.length-1]]=g;this._stopChange=!1},enumerable:!0,configurable:!0}}function O(b,f){for(var g=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
h=[],m,d=0,k=g.length;d<k;d++)if(m=b[g[d].listener],F.call(m))for(var h=Object.keys(m),e=0,c=h.length;e<c;e++)for(var l=0,u=m[h[e]].length;l<u;l++)f[g[d].method](h[e],m[h[e]][l]);else for(e=0,c=m.length;e<c;e++)f[g[d].method](m[e])}function N(b,f,g){if(K(b,f)||"length"===f||"__kbsetindex"===f){if("length"===f)if(g>b.length&&void 0!==b[g-1])b.length=g;else{if(g<b.length){f=g;for(var h=b.length;f<h;f++)b[f]&&delete b[f];b.length=g}}else b[f]=g;return!0}b.set(f,g)}function R(b,f){b.del(f);return!0}function P(b,
f,g){var h=q(g),m=F(g),B=J(g);if(h&&g.__kbname!==b.__kbname)"default"===g.__kbname?b.merge(g,f):b.__kbpointers[f]||b.addPointer(g,f);else{var h=new C(this,f,"create",g,void 0,[],"__kbcreatelisteners",this._stopChange),k=d(h),e=parseInt(f,10);if(!0!==k)if((m||B)&&0!==Object.keys(g,"all").length)for(P.call(this,b,f,{}),m=0,B=Object.keys(g,"all"),h=B.length;m<h;m++)P.call(this[f],b[f],B[m],g[B[m]]);else{if(m||B)g=new M(g,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+f),O(b,g);
Object.defineProperty(b,f,T(f,g));!isNaN(e)&&b.length<=e&&(b.length=e+1);h.listener="__kbupdatelisteners";h.type="postcreate";d(h)}}}function G(b,f,g,h){var m=q(g),d=F(g),k=J(g);if(m&&g.__kbname!==b.__kbname)"default"===g.__kbname?b.merge(g,f):b.__kbpointers[f]||b.addPointer(g,f);else if(void 0===b[f])-1===v.indexOf(f)?P.call(this,b,f,g):(h?b.stopChange():b)[f]=g;else if(d||k)for(m=0,d=Object.keys(g,"all"),k=d.length;m<k;m++)G.call(this[f],b[f],d[m],g[d[m]],h);else(h?b.stopChange():b)[f]=g}function H(b){return u.call(b).replace(/(\[object\s|\])/g,
"").toLowerCase()}function F(b){return"object"===H(void 0!==b?b:this)}function J(b){return"array"===H(void 0!==b?b:this)}function q(b){return"mixed"===H(void 0!==b?b:this)}function K(b,f){f="string"===typeof b?b:f;var g=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,f);return g?void 0===g.value:!1}function y(b,f){function g(b){var f=parseFloat(b,10),g="true"===b,h=b.indexOf('"'),m=b.lastIndexOf('"');if(isNaN(f)||f.toString().length!==b.length){if(g||"false"===b)return g;b=0===h&&0!==m?
b.substring(1,b.length-1):b.substring(1,b.length)}else return f;return b}var h=this.__kbnonproxy;split=b.split(/({"|,"(?=(?:[^"]|"[^"]*")*$)|\[(?=(?:[^"]|"[^"]*")*$)|\](?=(?:[^"]|"[^"]*")*$)|":|"}|{(?=(?:[^"]|"[^"]*")*$)|,(?=(?:[^"]|"[^"]*")*$)|}(?=(?:[^"]|"[^"]*")*$))/).filter(Boolean);UKeys=[];isValue=isKey=!1;n="";for(var m=1,d=split.length,k,e,c,l;m<d;m++)k=split[m],e=split[m-1],c=split[m+1],l=UKeys[UKeys.length-1],'":'===e&&'{"'===k||'":'===e&&"["===k?(n+=(0!==n.length?".":"")+l,h[l]||h.set(l,
f?f(l,{},n,h):{}),h=h[l],UKeys.pop()):"["===e||","===e&&0!==h.length?"{"===k||'{"'===k?(n+=(0!==n.length?".":"")+h.__kbsetindex,"object"!==typeof h[h.__kbsetindex]&&h.set(h.__kbsetindex,f?f(h.length,{},n,h):{}),h.__kbsetindex+=1,h=h[h.__kbsetindex-1]):(h.set(h.__kbsetindex,f?f(h.length,g(k),n,h):g(k)),h.__kbsetindex+=1):'":'===e?(h.set(l,f?f(l,g(k),n,h):g(k)),UKeys.pop()):'{"'===e||","===e&&'":'===c?UKeys[UKeys.length]=k.replace(/\"/g,""):"}"!==e&&"]"!==e||void 0===k||(n=-1!==n.indexOf(".")?n.substring(0,
n.lastIndexOf(".")-1):"",h=h.__kbImmediateParent);return this}function w(b,f){"number"===typeof b&&(b=b.toString());var g=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var h=new C(this,b,"set",f,this[b],arguments,"__kbmethodlisteners");!0!==d(h)&&(G.call(this,g,b,f,this._stopChange),this.stopChange=void 0,h.type="postset",h.listener="__kbmethodupdatelisteners",d(h));return this}function A(b){return b.split(".")}function r(b,f){return function(g,
h){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var m=this[f],B=new C(this,f,"addlistener",m,void 0,arguments,"");"string"===typeof g&&1!==A(g).length&&(m=A(g),g=m.pop(),m=m.join("."),B.local=this.getLayer(m),m=B.local[f],B.value=m);!0!==d(B)&&(F.call(m)?(void 0===m[g]&&(m[g]=[]),m[g].push(h),B.type="postaddlistener",d(B)):J.call(m)&&"function"===typeof g&&(m.push(g),B.type="postaddlistener",d(B)));return this}}function D(b,f){return function(g,h){arguments=Array.prototype.slice.call(arguments);
arguments.push(b);var m=this[f],B=new C(this,f,"removelistener",m,void 0,arguments,"");"string"===typeof g&&1!==A(g).length&&(m=A(g),m.pop(),m.join("."),B.local=this.getLayer(m),m=B.local[f],B.value=m,g=A(g).pop());if(!0!==d(B))if(F.call(m)){if(void 0!==m[g])for(var k=0,e=m[g].length;k<e;k++)if(m[g][k].toString()===h.toString()){m[g].splice(k,1);B.type="postremovelistener";d(B);break}}else if(J.call(m)&&"function"===typeof g)for(k=0,e=m.length;k<e;k++)if(m[k].toString()===g.toString()){m.splice(k,
1);B.type="postremovelistener";d(B);break}return this}}function I(b,f){function g(b,f,d){var k=Object.keys(this,"all").filter(function(b){return q.call(this[b])}.bind(this)),e=this,c=b;"string"===typeof b&&1!==A(b).length&&(e=A(b),c=e.pop(),e=e.join("."),e=this.getLayer(e),void 0===e[d][c]&&(e[d][c]=[]),e[d][c].push(f));F.call(e[d])?(void 0===e[d][c]&&(e[d][c]=[]),e[d][c].push(f),e=e.__kbpointers[c],e=e.point.getLayer(e.keys),void 0!==e[c]&&(void 0===e[d][c]&&(e[d][c]=[]),e[d][c].push(_func))):e[d].push(f);
c=0;for(e=k.length;c<e;c++)g.call(this[k[c]],b,f,d)}return function(h,m){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var k=new C(this,f,"addchildlistener",void 0,void 0,arguments,"");!0!==d(k)&&(g.call(this.__kbnonproxy,h,m,f),k.type="postaddchildlistener",d(k));return this}}function L(b,f){function g(b,f,d){var k=Object.keys(this,"all").filter(function(b){return q.call(this[b])}.bind(this)),e=this,c=b;if("string"===typeof b&&1!==A(b).length){var l=A(b),c=l.pop();l.join(".");
e=this.getLayer(l);if(void 0!==e[d][b])for(var l=0,u=e[d][b].length;l<u;l++)if(e[d][b][l].toString()===f.toString()){e[d][b].splice(l,1);break}}if(F.call(e[d])){if(void 0!==e[d][c]){l=0;for(u=e[d][c].length;l<u;l++)if(e[d][c][l].toString()===f.toString()){e[d][c].splice(l,1);break}if(-1!==e.__kbpointers.indexOf(c)&&(l=e.__kbpointers[c],e=l.point.getLayer(l.keys),void 0!==e[d][c]))for(l=0,u=e[d][c].length;l<u;l++)if(e[d][c][l].toString()===f.toString()){e[d][c].splice(l,1);break}}}else for(l=0,u=e[d].length;l<
u;l++)if(e[d][l].toString()===f.toString()){e[d].splice(l,1);break}l=0;for(u=k.length;l<u;l++)g.call(this[k[l]],b,f,d)}return function(h,m){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var e=new C(this,f,"removechildlistener",void 0,void 0,arguments,"");!0!==d(e)&&(g.call(this.__kbnonproxy,h,m,f),e.type="postremovechildlistener",d(e));return this}}var S={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],
shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},v=["__proto__","_stopChange"],l=function(b,f){if(!f._stopPropogration&&b)for(var g=0,h=b.length;g!==h&&(b[g](f),!f._stopPropogration);g++);},d=function(b){if(b.listener){var f=b.local[b.listener],g=b.local[b.listener.replace("__kb",
"__kbparent")];F.call(f)?(l(f[b.key],b),l(f["*"],b)):l(f,b);F.call(g)?(l(g[b.key],b),l(g["*"],b)):l(g,b)}l(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},k=Array.prototype.sort,e=Array.prototype.slice,u;Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof M?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,f){return Object._keys(b).filter(function(b){return f&&
"object"!==f&&"o"!==f?"all"===f?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};u={}.toString;Object.defineProperties(M.prototype,{"typeof":c(H,!1,!0),sizeof:c(function(b){function f(b){for(var d=Object.keys(b,"all"),e=0,k=void 0,c=0,l=d.length;c<l;c++)k=b[d[c]],"object"===typeof k&&void 0!==k&&null!==k?-1===g.indexOf(k)&&(g.push(k),e+=f(k)):"string"===typeof k?e+=2*k.length:"number"===typeof k?e+=8:"boolean"===typeof k?e+=4:"function"===typeof k&&(e+=2*k.toString().length),e+=2*d[c].length;return e}
var g=[];return f(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:c(F,!1,!0),isArray:c(J,!1,!0),isMixed:c(q,!1,!0),isObservable:c(K,!1,!0),stringify:c(function(b){var f=[];return JSON.stringify(b||this,function(b,h){if(J(h)||F(h)){if(-1!==f.indexOf(h))return;f.push(h)}return h})},!1,!0),getKeys:c(function(b,f){f="string"===typeof b?b:f?f:"object";return Object.keys("string"===typeof b||void 0===b?this:b,f)},!1,!0),getIndexes:c(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var f=
[],g=0,h=b.length;g<h;g++)void 0!==b[g]&&(f[f.length]=g);return f},!1,!0),keyCount:Q(function(){return this.getKeys("object").length},!1,!0),indexCount:Q(function(){return this.length},!1,!0),count:Q(function(){return this.keyCount+this.indexCount},!1,!0),concat:c(Array.prototype.concat),every:c(Array.prototype.every),filter:c(Array.prototype.filter),find:c(Array.prototype.find),findIndex:c(Array.prototype.findIndex),forEach:c(Array.prototype.forEach),includes:c(Array.prototype.includes),indexOf:c(Array.prototype.indexOf),
join:c(Array.prototype.join),lastIndexOf:c(Array.prototype.lastIndexOf),map:c(Array.prototype.map),reduce:c(Array.prototype.reduce),reduceRight:c(Array.prototype.reduceRight),slice:c(Array.prototype.slice),some:c(Array.prototype.some),entries:c(Array.prototype.entries),toLocaleString:c(Array.prototype.toLocaleString),parse:c(y,!0),parseReplace:c(function(b,f){return y.call(f||this,b)},!0),add:c(function(b,f){w.call(this,b,f);return this}),set:c(w),get:c(function(b){"number"===typeof b&&(b=b.toString());
var f=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(f)return f[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),del:c(function(b,f){var g="number"===typeof b||!isNaN(parseInt(b,10));g&&(b=b.toString());var h=-1!==b.indexOf(".")?this.getLayer(b):this,m=b.split(".").pop();if(h&&void 0!==h[m])if(g&&h.length>parseInt(b,10)&&!f)h=h.__kbnonproxy,h.splice(m,1);else{var e=new C(h,b,"delete",h[m],void 0,[],"__kbmethodlisteners"),
k=d(e),l=new C(h,b,"delete",h[m],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==d(l)&&!0!==k&&(h=h.__kbnonproxy,Object.defineProperty(h,m,c(void 0,!0,!0,!1)),delete h[m],g&&h.length>parseInt(b,10)&&f&&--h.length,e.type="postdelete",e.listener="__kbmethodupdatelisteners",d(e),l.listener="__kbupdatelisteners",l.type="postdelete",l.oldValue=l.value,l.value=void 0,d(l))}return this}),exists:c(function(b){var f=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&
(b=b.split(".").pop());return f?void 0!==f[b]:!!f}),addPrototype:c(function(b,f){var g=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===g[b]?Object.defineProperty(g.__proto__,b,c(f,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,g);return this}),addPointer:c(function(){var b=Array.prototype.slice.call(arguments),f=b.shift(),g=b[b.length-1];f instanceof M||(f=new M(f,
f.__kbname));var h=new C(this,g,"create",f[g],void 0,[],"__kbcreatelisteners",this._stopChange),m=this.__kbnonproxy;h.root=f.__kbref.__kbproxy;if(!0!==d(h)){Object.defineProperty(m,g,E.apply(m,arguments));m.__kbpointers[g]={keys:b.join("."),point:f};var b=m,f=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],m=[],e;if(b[g].__kbImmediateParent)for(var k=0,c=f.length;k<c;k++){e=b[f[k].listener];for(var m=Object.keys(e),l=0,u=m.length;l<
u;l++)if(g===m[k])for(var w=0,A=e[m[k]].length;w<A;w++)void 0===b[g].__kbImmediateParent[f[k].listener][g]&&(b[g].__kbImmediateParent[f[k].listener][g]=[]),b[g].__kbImmediateParent[f[k].listener][g].push(e[m[k]][w])}O(b,b[g]);h.listener="__kbupdatelisteners";h.type="postcreate";d(h)}return this}),move:c(function(b,f){this.__kbnonproxy.set(f,b[f]);q(b)?b.del(f):(b[f]=null,delete b[f]);return this}),copy:c(function(b,f){var g=this.__kbnonproxy;q(b)?"default"===b.__kbname?g.merge(b[f],f):g.addPointer(b,
f):g.set(f,b[f]);return this}),merge:c(function(b,f){function g(b,f){for(var d=q(b)?b.keys("object"):Object.keys(b),m,e=0,k=d.length;e<k;e++)m=b[d[e]],"object"===typeof m&&-1===h.indexOf(m)&&"undefined"!==f[d[e]]?g(m,f):void 0===f[d[e]]&&f.set(d[e],"object"===typeof m?{}:m)}var h=[],d=this.__kbnonproxy;f&&void 0===d[f]&&d.set(f,{});g(b,f?d[f]:d);return this}),replace:c(function(b,f){function g(b,f){var d=q(b)?b.keys("object"):Object.keys(b),m;m=b[d[x]];"object"===typeof m&&-1===h.indexOf(m)&&"undefined"!==
f[d[x]]?g(m,f):f.set(d[x],"object"===typeof m?{}:m)}var h=[],d=this.__kbnonproxy;f&&void 0===d[f]&&d.set(f,{});g(b,f?d[f]:d);return this}),copyWithin:c(function(b,f,g){f=f||0;g=g||0;var h=new C(this,b,"copyWithin",this[b],void 0,arguments,"__kbmethodlisteners"),m=this.__kbnonproxy;if(!0!==d(h)&&b<m.length){b=0>b?m.length-1:b;f=f<m.length?f:m.length-1;g=g<m.length?g:m.length-1;f=0>f?m.length-1:f;g=0>f?m.length-1:g;for(var e=f;e<=g;e++)m.set(b+(e-f),m[e]);h.type="postcopyWithin";h.listener="__kbmethodupdatelisteners";
d(h)}return this}),fill:c(function(b,f,g){f=void 0!==f?Math.max(0,f):0;g=void 0!==g&&g<=this.length?Math.min(this.length,Math.max(0,g)):this.length;var h=new C(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),m=this.__kbnonproxy;if(!0!==d(h)){for(var e=a.key;e<g;e++)m[e]=b;h.type="postfill";h.listener="__kbmethodupdatelisteners";d(h)}return this}),pop:c(function(){var b=new C(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;
if(!0!==d(b)){var g=f[f.length-1];f.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";d(b);return g}return null}),push:c(function(b){var f=new C(this,this.length,"push",b,void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;!0!==d(f)&&(g.set(g.length,b),f.type="postpush",f.listener="__kbmethodupdatelisteners",d(f));return this.length}),reverse:c(function(){var b=new C(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var g=
null,h=null,m=f.length,g=0;g<m/2;g+=1){var h=m-1-g,e=f[g];f[g]=f[h];f[h]=e}b.type="postreverse";b.listener="__kbmethodupdatelisteners";d(b)}return this}),shift:c(function(){var b=new C(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var g=a.key,h=this.length-1;g<h;g++)f[g]=f[g+1];f.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";d(b)}return null}),sort:c(function(){var b=new C(this,void 0,"sort",void 0,void 0,arguments,
"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){var g=e.call(f);k.apply(g,arguments);for(var h=0,m=g.length;h<m;h++)f[h]=g[h];b.type="postsort";b.listener="__kbmethodupdatelisteners";d(b)}return this}),splice:c(function(b,f,g){b="string"===typeof b?parseInt(b,10):b;var h=new C(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==d(h)){var k=[],c=Array.prototype.slice.call(arguments,2),l=c.length-2,u=0;if(0!==f&&void 0!==e[b-1+f])for(var w=0,A=f;w<A;w++){k.push(e[b+
w]);for(var r=b+w,q=this.length-1;r<q;r++)e[r]=e[r+1];e.del(e.length-1,!0)}if(0!==l)for(w=0,A=l;w<A;w++){u=b+Math.min(1,w);r=e.length;for(q=u;r>q;r--)e.set(r,e[r-1]);e.set(u,c[w])}h.type="postsplice";h.listener="__kbmethodupdatelisteners";d(h);return k}return[]}),unshift:c(function(){var b=new C(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var g=Array.prototype.slice.call(arguments),h=f.length-1+g.length,e=g.length;-1!==h;h--)h<e?f.set(h,g[h]):
f.set(h,f[h-g.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";d(b)}return this.length}),getLayer:c(function(b){function f(b){var h=b[0];return void 0===this[h]&&0!==b.length-1?null:q(this[h])?0!==b.length-1?(b.shift(),f.call(this[h],b)):this[h]:this}b=A(b);return f.call(this,b)}),setLayer:c(function(b){function f(b){var h=b[0];void 0===this[h]&&0!==b.length-1&&(this[h]=M({},this.__kbname,this,this.__kbscopeString+"."+h));return q(this[h])?0!==b.length-1?(b.shift(),f.call(this[h],
b)):this[h]:this}b=A(b);return f.call(this,b)}),ignoreCreate:c(function(b){-1===v.indexOf(b)&&v.push(b);return this}),addActionListener:c(function(b,f){var g=this.__kbnonproxy;void 0!==g.__kbref.__kbevents[b]&&g.__kbref.__kbevents[b].push(f);return this}),removeActionListener:c(function(b,f){var g=this.__kbnonproxy;if(void 0!==g.__kbref.__kbevents[b])for(var h=0,d=g.__kbref.__kbevents[b];h<d;h++)if(g.__kbref.__kbevents[b][h].toString()===f.toString()){g.__kbref.__kbevents[b].splice(h,1);break}return this}),
subscribe:c(function(b,f){var g=b.split("."),h=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;void 0===g.__kbsubscribers[h]&&(g.__kbsubscribers[h]=[]);g.__kbsubscribers[h].push(f);return this}),unsubscribe:c(function(b,f){var g=b.split("."),h=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;if(void 0!==g.__kbsubscribers[h])for(var d=0,e=g.__kbsubscribers[h].length;d<e;d++)if(g.__kbsubscribers[h][d].toString()===f.toString()){g.__kbsubscribers[h].splice(d,
1);break}return this}),subscribeDeep:c(function(b,f){function g(b,d){var h=Object.keys(b,"all").filter(function(f){return q.call(b[f])}.bind(b));if(void 0!==b[d]||"*"===d)void 0===b.__kbparentsubscribers[d]&&(b.__kbparentsubscribers[d]=[]),b.__kbparentsubscribers[d].push(f);for(var e=0,k=h.length;e<k;e++)g(b[h[e]],d)}var h=-1!==b.indexOf("*"),d=b.split(".");d.slice(0,d.indexOf("*"));var e=-1!==d.indexOf("*")?d.slice(d.indexOf("*"),d.length):[],k=1===e.length,c=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):
this.__kbnonproxy;h?k?g(d,"*"):(e.shift(),d.subscribeDeep(e.join("."),f)):g(d,c);return this}),unsubscribeDeep:c(function(b,f){function g(b,d){var h=Object.keys(b,"all").filter(function(f){return q.call(b[f])&&!(b[f]instanceof HTMLElement)}.bind(b));if((void 0!==b[d]||"*"===d)&&void 0!==b.__kbparentsubscribers[d])for(var e=0,k=b.__kbparentsubscribers[d].length;e<k;e++)b.__kbparentsubscribers[d][e].toString()===f.toString()&&b.__kbparentsubscribers[d].splice(e,1);e=0;for(k=h.length;e<k;e++)g(b[h[e]],
d)}var d=-1!==b.indexOf("*"),e=b.split(".");e.slice(0,e.indexOf("*"));var k=-1!==e.indexOf("*")?e.slice(e.indexOf("*"),e.length):[],c=1===k.length,l=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;d?c?g(e,"*"):(k.shift(),e.unsubscribeDeep(k.join("."),f)):g(e,l);return this}),callSubscribers:c(function(b,f,g,d,e,k){var c=this.__kbnonproxy;if(void 0!==c.__kbsubscribers[g])for(var l=0,u=c.__kbsubscribers[g].length;l<u;l++)c.__kbsubscribers[g][l].call(this,{key:g,value:d,
oldValue:e,stopChange:k,local:f,kbref:b});if(void 0!==c.__kbparentsubscribers[g])for(l=0,u=c.__kbparentsubscribers[g].length;l<u;l++)c.__kbparentsubscribers[g][l].call(this,{key:g,value:d,oldValue:e,stopChange:k,local:f,kbref:b});if(void 0!==c.__kbsubscribers["*"])for(l=0,u=c.__kbsubscribers["*"].length;l<u;l++)c.__kbsubscribers["*"][l].call(this,{key:g,value:d,oldValue:e,stopChange:k,local:f,kbref:b});if(void 0!==c.__kbparentsubscribers["*"])for(l=0,u=c.__kbparentsubscribers["*"].length;l<u;l++)c.__kbparentsubscribers["*"][l].call(this,
{key:g,value:d,oldValue:e,stopChange:k,local:f,kbref:b});return this}),callAllSubscribers:c(function(){function b(b,g,d){for(var e=0,k=g.length;e<k;e++)g[e].call(b,{key:d,value:b[d],oldValue:b[d],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(f){for(var g=Object.keys(f.__kbsubscribers),d=Object.keys(f.__kbparentsubscribers),e=0,k=g.length;e<k;e++)if(0!==f.__kbsubscribers[g[e]].length)if("*"===g[e])for(var c=0,l=Object.keys(f),u=l.length;c<u;c++)b(f,f.__kbsubscribers[g[e]],l[c]);else b(f,
f.__kbsubscribers[g[e]],g[e]);e=0;for(k=d.length;e<k;e++)if(0!==f.__kbparentsubscribers[d[e]].length)if("*"===d[e])for(c=0,l=Object.keys(f),u=l.length;c<u;c++)b(f,f.__kbparentsubscribers[d[e]],l[c]);else b(f,f.__kbparentsubscribers[d[e]],d[e])})(this.__kbnonproxy);return this}),stopChange:c(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(M.prototype,{addDataListener:c(r("addDataListener","__kblisteners")),removeDataListener:c(D("removeDataListener","__kblisteners")),
addDataUpdateListener:c(r("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:c(D("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:c(r("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:c(D("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:c(r("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:c(D("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:c(r("addDataMethodListener",
"__kbmethodlisteners")),removeDataMethodListener:c(D("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:c(r("addDataMethodUpdateListener","__kbmethodupdatelisteners")),removeDataMethodUpdateListener:c(D("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:c(I("addChildDataListener","__kbparentlisteners")),removeChildDataListener:c(L("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:c(I("addChildDataUpdateListener",
"__kbparentupdatelisteners")),removeChildDataUpdateListener:c(L("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:c(I("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:c(L("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:c(I("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:c(L("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return M}}(),
X=function(){return function(){function z(n){if("object"===typeof n)for(var t=0,C=n.length;t<C;t++)K_Components[n[t]]?p(n[t],K_Components[n[t]],document.getElementById("script_"+n[t])):z.load(n[t],"component/"+n[t]+"/"+location.search,p);else"string"===typeof n&&(K_Components[n[t]]?p(n,K_Components[n],document.getElementById("script_"+n)):z.load(n,"component/"+n+"/"+location.search,p))}var p=function(){},t=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});z.getUnknowns=function(n){var p=
n.match(t);return p.map(function(n){return n.replace(/[<\/>]/g,"")}).filter(function(n,c){return document.createElement(n)instanceof HTMLUnknownElement&&-1===p.indexOf(n,c+1)&&!K_Components[n]})};z.load=function(n,p,t){document.head.appendChild(function(c,n,p){var t=document.createElement("script");t.type="text/javascript";t.charset="utf-8";t.async=!0;t.src=n;t.id="script_"+c;t.onload=function(){p(c,K_Components[c],this)};return t}(n,p,t));return z};z.onLoad=function(n){if(void 0===n)return p;p="function"===
typeof n?n:p;return z};return z}}(),V=function(){function z(){function p(d,k){var e=d.length,c;for(c=0;c<e&&(d[c](k),void 0===k._stopPropogation);c++);}function t(d,k){var e=d.length,c;for(c=0;c<e&&(k.child=k.target,k.target=d[c].parent,d[c].func(k),void 0===k._stopPropogation);c++);}function n(d,k){for(var e=d.length;0<e;S++)if(d[S].toString()===k.toString())return!0;return!1}function z(d,k,e,c,b,f,g,h){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=
!0};this.value=e;this.oldValue=c;this.target=d;this.attr=k;this.arguments=b;this.action=f;this.child=void 0;this.type=g;this.stopChange=h}function C(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function c(d,k,e,c){var b=d.get,f=d.set,g;return function(d){g=b.call(this);e(this,k,d,g,void 0,
this._stopChange)&&f.call(this,d);this._stopChange||c(this,k,d,g);this._stopChange=void 0}}function Q(d,k,e,c){var b;return function(f){b=d.value;e(this,k,f,b,arguments,this._stopChange)&&(d.value=f);this._stopChange||c(this,k,f,b,arguments);this._stopChange=void 0}}function T(d,k,e,c){var b=d.value,f;return function(){e(this,k,null,null,arguments,this._stopChange)&&(f=b.apply(this,arguments));this._stopChange||c(this,k,null,null,arguments,f);this._stopChange=void 0;return f}}function E(d,k,e,c,b){var f=
b.style,g=k.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),h,m;return{get:function(){return m},set:function(d){h=m;e(b,k,d,h,void 0,this._stopChange)&&(m=d,f.setProperty(g,d));this._stopChange||c(b,k,d,h);this._stopChange=void 0},enumerable:!0,configurable:!0}}function O(d,k,e,c){if("function"!==typeof k)return q;var b=-1!==["value","checked"].indexOf(d),f=-1!==I.indexOf(d),g;if(this.toString()!==q.toString())if(e){var h=this.querySelectorAll("*");e=h.length;for(var m,l=0;l<e;l++){m=h[l].attrListeners();
if(b||"*"===d)void 0!==h[l].addInputBinding&&h[l].addInputBinding(),void 0!==h[l].addInputBoxBinding&&h[l].addInputBoxBinding();if(f)q.injectStyleProperty(h[l],d),g=c?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===d){g=c?"_parentStyleUpdateListeners":"_parentStyleListeners";e=I.length;for(var r=0;r<e;r++)q.injectStyleProperty(h[l],I[r]);void 0===m[g]["*"]&&(m[g]["*"]=[]);m[g]["*"].push({parent:this,func:k})}g=c?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===m[g][d]&&
(m[g][d]=[]);m[g][d].push({parent:this,func:k})}}else{m=this.attrListeners();if(f)g=c?"_styleUpdateListeners":"_styleListeners",q.injectStyleProperty(this,d);else{if(b||"*"===d)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===d){g=c?"_styleUpdateListeners":"_styleListeners";e=I.length;for(l=0;l<e;l++)q.injectStyleProperty(this,I[l]);void 0===m[g][d]&&(m[g][d]=[]);m[g][d].push(k)}g=c?"_attrUpdateListeners":"_attrListeners"}void 0===
m[g][d]&&(m[g][d]=[]);m[g][d].push(k)}else{if(b||"*"===d)for(r=document.querySelectorAll("input, textarea"),e=r.length,l=0;l<e;l++)void 0!==r[l].addInputBinding&&r[l].addInputBinding(),void 0!==r[l].addInputBoxBinding&&r[l].addInputBoxBinding();if(f){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));e=f.length+1;f.unshift(document.body);for(l=0;l<e;l++)q.injectStyleProperty(f[l],d);g=c?A:w}else{if("*"===d){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));e=f.length+
1;b=I.length;f.unshift(document.body);for(l=0;l<e;l++)for(r=0;r<b;r++)q.injectStyleProperty(f[l],I[r]);g=c?A:w;void 0===g[d]&&(g[d]=[]);g[d].push(k)}g=c?y:K}void 0===g[d]&&(g[d]=[]);g[d].push(k)}}function N(d,k,e,c){function b(b,f){var d=f[b],e=d.length;for(g=0;g<e;g++)d[g].toString()===k.toString()&&d.splice(g,1)}if("function"!==typeof k)return q;["value","checked"].indexOf(d);var f=-1!==I.indexOf(d),g;if(this.toString()!==q.toString())if(e){e=this.querySelectorAll("*");var h=e.length;f?(f=c?"_childStyleUpdateListeners":
"_childStyleListeners",b(d,this.attrListeners()[f]),f=c?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===d&&(f=c?"_childStyleUpdateListeners":"_childStyleListeners",b(d,this.attrListeners()[f])),f=c?"_childAttrUpdateListeners":"_childAttrListeners",b(d,this.attrListeners()[f]),f=c?"_parentAttrUpdateListeners":"_parentAttrListeners");for(g=0;g<h;g++){for(var l=e[g].attrListeners()[f][d],r=l.length,n=0;n<r;n++)l[n].isEqualNode(this)&&l.slice(n,1);if("*"===d)for(listenersStyle=c?"_parentStyleUpdateListeners":
"_parentStyleListeners",l=e[g].attrListeners()[f][d],r=l.length,n=0;n<r;n++)l[n].isEqualNode(this)&&l.slice(n,1)}}else f?f=c?"_styleUpdateListeners":"_styleListeners":("*"===d&&(f=c?"_styleUpdateListeners":"_styleListeners",b(d,this.attrListeners()[f])),f=c?"_attrUpdateListeners":"_attrListeners"),b(d,this.attrListeners()[f]);else f?f=c?A:w:("*"===d&&(f=c?A:w,b(d,f)),f=c?y:K),b(d,f)}function R(d,k){q.addAttrListener.call(this,d,k,!0);return this}function P(d,k){q.addAttrUpdateListener.call(this,d,
k,!0);return this}function G(d,k){q.removeAttrListener.call(this,d,k,!0);return this}function H(d,k){q.removeAttrUpdateListener.call(this,d,k,!0);return this}function F(d,k,e){var c=this.attrListeners();"html"===k&&(k="innerHTML");"events"===k&&(k="onclick");switch(d){case "attr":if(n(c._attrListeners[k],e))return!0;break;case "attrupdate":if(n(c._attrUpdateListeners[k],e))return!0}return!1}function J(){this._stopChange=!0;return this}function q(){function d(b,f){var d,g=f.length;for(d=0;d<g;d++)-1===
b.indexOf(f[d])&&b.push(f[d]);return b}function k(b,f){for(var d=Object.keys(b),g,e,k=0,c=d.length;k<c;k++)if(g=d[k],void 0===f[g])f[g]=b[g].slice();else for(var l=0,w=b[g].length;l<w;l++)e=b[g][l],f[g].push(e)}function e(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var f=b.target.attrListeners(),g,e=["value","checked"],c=f._attrListeners,l=f._attrUpdateListeners,u=f._parentAttrListeners;g=f._parentAttrUpdateListeners;var r=!1;if(void 0!==K["*"]||void 0!==y["*"])r=!0;if(!0!==r&&void 0!==c["*"]||
void 0!==l["*"]||void 0!==u["*"]||void 0!==g["*"])r=!0;if(!0!==r)for(var n=0;n<e.length;n++)if(void 0!==K[e[n]]||void 0!==y[e[n]]||void 0!==c[e[n]]||void 0!==l[e[n]]||void 0!==u[e[n]]||void 0!==g[e[n]]){r=!0;break}g=r;e=Object.keys(w);c=Object.keys(A);Object.keys(f._styleListeners);Object.keys(f._styleUpdateListeners);l=Object.keys(f._parentStyleListeners);f=Object.keys(f._parentStyleUpdateListeners);u=[];if(0!==e.length||0!==c.length)u=d(u,e),u=d(u,c);if(0!==u.length&&0!==l.length||0!==f.length)u=
d(u,l),u=d(u,f);-1!==u.indexOf("*")&&(u=I);var f=u,e=f.length,p,t,c=[],D,l="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,u=b.target;void 0!==l&&(b.attr="appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(g){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?(c=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||c.unshift(b.arguments[0])):c=
Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));D=c.length;for(var v=0;v<D;v++)void 0!==c[v].addInputBinding&&c[v].addInputBinding(),void 0!==c[v].addInputBoxBinding&&c[v].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(c=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),c.unshift(b.arguments[0])):c=Array.prototype.slice.call(b.target.querySelectorAll("*"));g=b.target.__kb._parentAttrListeners;
r=b.target.__kb._parentAttrUpdateListeners;n=b.target.__kb._parentStyleListeners;p=b.target.__kb._parentStyleUpdateListeners;D=c.length;for(v=0;v<D;v++){if(0!==e)for(t=0;t<e;t++)q.injectStyleProperty(c[v],f[t]);t=c[v].attrListeners();k(g,t._parentAttrListeners);k(r,t._parentAttrUpdateListeners);k(n,t._parentStyleListeners);k(p,t._parentStyleUpdateListeners)}void 0!==l&&(b.attr=l,b.target=u,b.arguments=[])}}function c(b){var g=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:
"";f(b.target,b.arguments[0],d,void 0!==g?g.value:"",[d])||b.preventDefault()}function b(b){var f=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:"";g(b.target,b.arguments[0],d,void 0!==f?f.value:"",[d])}q.injectPrototypes(Node,"Node");q.injectPrototypes(Element,"Element");q.injectPrototypes(HTMLElement,"HTMLElement");q.injectPrototypes(HTMLInputElement,"HTMLInputElement");q.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");q.injectPrototypes(Document,"Document");
var f=v,g=l;q.addAttrUpdateListener("appendChild",e);q.addAttrUpdateListener("removeChild",e);q.addAttrUpdateListener("innerHTML",e);q.addAttrUpdateListener("outerHTML",e);q.addAttrUpdateListener("innerText",e);q.addAttrUpdateListener("outerText",e);q.addAttrUpdateListener("textContent",e);q.addAttrListener("setAttribute",c);q.addAttrListener("removeAttribute",c);q.addAttrUpdateListener("setAttribute",b);q.addAttrUpdateListener("removeAttribute",b);return q}var K={},y={},w={},A={},r={},D="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
I=Object.getOwnPropertyNames(document.documentElement.style),L=Object.keys(HTMLElement.prototype).filter(function(d){return 0===d.indexOf("on")}).concat(["addEventListener","removeEventListener"]),S,v=function(d,c,e,l,b,f){e=new z(d,c,e,l,b,void 0,"set",f);void 0!==d.__kb&&(l=d.__kb._attrListeners,b=d.__kb._styleListeners,f=d.__kb._parentAttrListeners,d=d.__kb._parentStyleListeners,void 0!==l[c]&&p(l[c],e),void 0===e._stopPropogation&&void 0!==b[c]&&p(b[c],e),void 0===e._stopPropogation&&void 0!==
l["*"]&&(p(l["*"],e),void 0===e._stopPropogation&&p(b["*"],e)),void 0===e._stopPropogation&&void 0!==f[c]&&t(f[c],e),void 0===e._stopPropogation&&void 0!==d[c]&&t(d[c],e),void 0===e._stopPropogation&&void 0!==f["*"]&&(t(f["*"],e),void 0===e._stopPropogation&&t(d["*"],e)));void 0===e._stopPropogation&&void 0!==K[c]&&p(K[c],e);void 0===e._stopPropogation&&void 0!==w[c]&&p(w[c],e);void 0===e._stopPropogation&&void 0!==K["*"]&&(p(K["*"],e),void 0===e._stopPropogation&&p(w["*"],e));return void 0!==e._preventDefault?
!1:!0},l=function(d,c,e,l,b,f){e=new z(d,c,e,l,b,f,"update");void 0!==d.__kb&&(l=d.__kb._attrUpdateListeners,b=d.__kb._styleUpdateListeners,f=d.__kb._parentAttrUpdateListeners,d=d.__kb._parentStyleUpdateListeners,void 0!==l[c]&&p(l[c],e),void 0===e._stopPropogation&&void 0!==b[c]&&p(b[c],e),void 0===e._stopPropogation&&void 0!==l["*"]&&(p(l["*"],e),void 0===e._stopPropogation&&p(b["*"],e)),void 0===e._stopPropogation&&void 0!==f[c]&&t(f[c],e),void 0===e._stopPropogation&&void 0!==d[c]&&t(d[c],e),
void 0===e._stopPropogation&&void 0!==f["*"]&&(t(f["*"],e),void 0===e._stopPropogation&&t(d["*"],e)));void 0===e._stopPropogation&&void 0!==y[c]&&p(y[c],e);void 0===e._stopPropogation&&void 0!==A[c]&&p(A[c],e);void 0===e._stopPropogation&&void 0!==y["*"]&&(p(y["*"],e),void 0===e._stopPropogation&&p(A["*"],e));return void 0!==e._preventDefault?!1:!0};q.injectPrototypeProperty=function(d,k,e,w,b){var f=d.prototype,g=Object.getOwnPropertyDescriptor(f,k);e=e||d.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var h=r[e];w=w||v;b=b||l;void 0===f.attrListeners&&(f={},f.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);return this.__kb}.bind(f),f.addAttrListener=q.addAttrListener,f.addAttrUpdateListener=q.addAttrUpdateListener,f.addChildAttrListener=R,f.addChildAttrUpdateListener=P,f.hasListener=F,f.removeAttrListener=q.removeAttrListener,f.removeAttrUpdateListener=q.removeAttrUpdateListener,f.removeChildAttrListener=G,f.removeChildAttrUpdateListener=H,f.stopChange=J);void 0===h&&(r[e]={obj:d,
proto:f,descriptors:{},set:void 0,update:void 0},h=r[e],h.set=w,h.update=b);void 0===h.descriptors[k]&&(h.descriptors[k]=g);g.configurable&&(void 0!==g.set?Object.defineProperty(f,k,{get:g.get,set:c(g,k,w,b),enumerable:!0,configurable:!0}):"function"===typeof g.value?Object.defineProperty(f,k,{value:T(g,k,w,b),writable:!0,enumerable:!0,configurable:!0}):void 0!==g.value&&Object.defineProperty(f,k,{get:function(){return g.value},set:Q(g,k,w,b),enumerable:!0,configurable:!0}));return q};q.injectStyleProperty=
function(d,c,e,w){var b=d.style,f=Object.getOwnPropertyDescriptor(b,c),g=d.attrListeners().injectedStyle;e=e||v;w=w||l;void 0===g&&(d.attrListeners().injectedStyle={obj:d,proto:b,descriptors:{},set:void 0,update:void 0},d.attrListeners().injectedStyle.set=e,d.attrListeners().injectedStyle.update=w,g=d.attrListeners().injectedStyle);void 0===g.descriptors[c]&&(g.descriptors[c]=f);f.configurable&&Object.defineProperty(b,c,E(f,c,e,w,d));return q};q.injectPrototypes=function(d,c,e,w){var b=d.prototype;
c=c||d.toString().split(/\s+/)[1].split("{")[0].replace("()","");var f=r[c],g=Object.getOwnPropertyNames(b);e=e||v;w=w||l;var h;void 0===b.attrListeners&&(b.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);return this.__kb},b.addAttrListener=q.addAttrListener,b.addAttrUpdateListener=q.addAttrUpdateListener,b.addChildAttrListener=R,b.addChildAttrUpdateListener=P,b.removeAttrListener=q.removeAttrListener,b.removeAttrUpdateListener=q.removeAttrUpdateListener,b.removeChildAttrListener=G,
b.removeChildAttrUpdateListener=H,b.hasListener=F,b.stopChange=J);void 0===f&&(r[c]={obj:d,proto:b,descriptors:{},set:void 0,update:void 0},f=r[c],f.set=e,f.update=w);h=r[c].descriptors;for(w=0;w<g.length;w+=1)void 0===h[g[w]]&&q.injectPrototypeProperty(d,g[w],c,e,l);if(-1!==g.indexOf("value")){var m=function(b){var g,d,e;if("checkbox"===this.type||"radio"===this.type)g=!0;d=g?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){e=g?"string"===typeof this.checked?
this.checked:this.checked?"true":"false":this.value;g&&(f.set(this,"checked",this.checked,d)?f.update(this,"checked",this.checked,d):h.checked.set.call(this,d));this.value!==e&&(this.value=e);f.set(this,"value",this.value,d)?f.update(this,"value",this.value,d):h.value.set.call(this,d)}.bind(this),0)};b.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",m)};b.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",
m)};b.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",m)};b.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",m)}}return q};q.addAttrListener=function(d,c,e){if("html"===d){d=0;for(var l=D.length;d<l;d++)O.call(this,D[d],c,e,!1)}else if("events"===d)for(d=0,l=L.length;d<l;d++)O.call(this,L[d],c,e,!1);else O.call(this,d,c,e,!1);return this};q.addAttrUpdateListener=function(d,c,e){if("html"===
d){d=0;for(var l=D.length;d<l;d++)O.call(this,D[d],c,e,!0)}else if("events"===d)for(d=0,l=L.length;d<l;d++)O.call(this,L[d],c,e,!0);else O.call(this,d,c,e,!0);return this};q.removeAttrListener=function(d,c,e){if("html"===d){d=0;for(var l=D.length;d<l;d++)N.call(this,D[d],c,e,!1)}else if("events"===d)for(d=0,l=L.length;d<l;d++)N.call(this,L[d],c,e,!1);else N.call(this,d,c,e,!1);return this};q.removeAttrUpdateListener=function(d,c,e){if("html"===d){d=0;for(var l=D.length;d<l;d++)N.call(this,D[d],c,
e,!0)}else if("events"===d)for(d=0,l=L.length;d<l;d++)N.call(this,L[d],c,e,!0);else N.call(this,d,c,e,!0);return this};q.hasListener=function(d,c,e){"html"===c&&(c="innerHTML");"events"===c&&(c="onclick");switch(d){case "attr":if(n(K[c],e))return!0;break;case "attrupdate":if(n(y[c],e))return!0}return!1};q.injectedPrototypes=function(){return r};return q}"function"===typeof define&&define.amd&&define("KB",z);return z}(),Y=function(z){return function(){function p(c){document.createDocumentFragment();
this.name=c.tagName.toLowerCase();this.template=J[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=c;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name}function t(c,n,r,q){return{value:c,writable:!!n,enumerable:!!q,configurable:!!r}}function n(){return new RegExp("(\\"+G.split("").join("\\")+")(.*?)(\\"+H.split("").join("\\")+")","g")}function M(c){return c.split(new RegExp("("+
G.split("").join("\\")+")(.*?)("+H.split("").join("\\")+")","g")).map(function(c,w,n){return n[w-1]===G?G+c+H:c}).filter(function(c,w,n){return 0!==c.length&&c!==G&&c!==H&&0!==c.length})}function C(c){return c.replace(new RegExp("["+G+H+"]","g"),"").replace(new RegExp("(\\"+F.split("").join("\\")+"(.*?)+)","g"),"").replace(/\s/g,"")}function c(c){return c.reduce(function(c,w){w.match(/(\()(.*?)(\))/)?c.vmFilters[c.vmFilters.length]=w.replace(/[\(\)]/g,""):w.match(/(\[)(.*?)(\])/)?-1!==w.indexOf("~")?
c.model[c.model.length]=w.replace(/[\[\]\~]/g,""):-1!==w.indexOf("+")?c.local[c.local.length]=w.replace(/[\[\]\+]/g,""):c.session[c.session.length]=w.replace(/[\[\]\-]/g,""):c.filters[c.filters.length]=w;return c},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function Q(c){return-1!==c.indexOf("for")?c.replace(new RegExp("["+G+H+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(c){return 0!==c.length}):[]}function T(c){if(2>c.split("==").length&&2>
c.split("<=").length&&2>c.split(">=").length&&-1!==c.indexOf("="))return c.substring(c.indexOf("=")+1,c.length)}function E(c){var n=c.match(/^(\s*)(>)((.*?)+)/),r=c.match(/^(\s*)(<)((.*?)+)/);c=c.replace(/(^<|^>)((.*?)+)/,"$2");var q=T(c),t=c.match(/((==|<=|>=|<|>)((.*?)+))/g),p=c.match(/(([\+\*-\/])((.*?)+))/g);return{type:n?"insert":r?"outsert":void 0,set:q!==c?q:void 0,filters:t||p?{boolFilter:t?eval("(function(){ return function(v){ return (v"+t[0]+");};}())"):void 0,mathFilter:p?eval("(function(){ return function(v){ return (v"+
p[0]+");};}())"):void 0}:void 0}}function O(c){if(0!==c.length){for(var n="",r=0,q=c.length;r<q;r++)if("string"===typeof c[r])n+=c[r];else if(void 0===c[r]._data)n+=c[r].text;else var t=c[r]._data.get(c[r].key),n=n+N(void 0!==t?t:"",c[r].filters.filters,c[r]._data.filters);return n}return N(c[0]._data.get(c[0].key)||"",c[0].filters.filters,c[0]._data.filters)}function N(c,n,r){for(var q=0,t=n.length;q<t;q++)r[n[q]]&&(c=r[n[q]](c));return c}function R(c,n,r,q){for(var t=0,p=n.length;t<p;t++)if(r[n[t]])r[n[t]](c,
q);return c}function P(){function n(l,d){var k=E(d);this.text=l;this.key=d.replace(/(^>|^<*)(.*?)([=*+-\/<>]+)((.*?)+)/g,"$2").replace(/\s/g,"");this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var e;e=-1!==l.indexOf(F)?l.replace(new RegExp("["+H+"]","g"),"").replace(new RegExp("(.*?)(\\"+F.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[];this.filters=c(e);this.component="for"===this.type?Q(l)[1]:void 0;this.id=0;this.subType=k.subtype;this.set=k.set;
this.inlineFilters=k.filters}function q(c,d){for(var k=0,e=d.length;k<e;k++)c.stopChange().appendChild(d[k])}function r(c){if(c&&window.model)return window.model.get(c[0])}function p(c,d){if(d&&0!==d.length&&window.model)for(var k=0,e=d.length;k<e;k++)window.model.set(d[k],c)}function I(c){if(c&&window.localStorage)return localStorage.getItem(c[0])}function z(c,d){if(c&&0!==c.length&&window.localStorage)for(var k=0,e=c.length;k<e;k++)localStorage.setItem(c[k],d)}function C(c){if(c&&window.sessionStorage)return sessionStorage.getItem(c[0])}
function v(c,d){if(c&&0!==c.length&&window.sessionStorage)for(var k=0,e=c.length;k<e;k++)sessionStorage.setItem(c[k],d)}Object.defineProperties(n.prototype,{addPointer:t(function(c){for(var d=document.createElement(this.component),k=R(this._data.getLayer(this.key),this.filters.filters,this._data.filters,c)[c],e=0,n=Object.keys(k,"all"),b=n.length;e<b;e++)d.k_post||(d.k_post={}),d.k_post[n[e]]=k,d.k_post.x=c,d.k_post.loopid=this.component+"_"+c;c>=this.node.children.length?this.node.stopChange().appendChild(d):
this.node.stopChange().insertBefore(d,this.node.children[c]);c={event:"loopitem",node:d,parent:this.node};d=y[c.event];k=0;for(e=d.length;k<e;k++)d[k](c);return this}),removePointer:t(function(c){for(var d=this.node.children[c].kb_maps,k=0,e=Object.keys(this.node.children[c].kb_viewmodel.pointers),n=e.length;k<n;k++){var b=d[e[k]];if(b)for(var f=0,g=b.length;f<g;f++)b[f].unsync(),b[f]=null,delete b[f]}this.node.stopChange().removeChild(this.node.children[c]);k=0;for(n=this.node.children.length;k<
n;k++)this.node.children[k].kb_viewmodel.x=k,c=this.node.children[k].kb_viewmodel.loopid,this.node.children[k].kb_viewmodel.loopid=c.substring(0,c.lastIndexOf("_")+1)+k;return this}),reapplyPointer:t(function(c){for(var d=this.node.children[c].kb_maps,k=this.node.children[c].kb_viewmodel.loopid,e=0,n=Object.keys(this.node.children[c].kb_viewmodel.pointers),b=n.length;e<b;e++){var f=d[n[e]];if(void 0!==f)for(var g=0,h=f.length;g<h;g++)f[g].reconnect()}this.node.children[c].kb_viewmodel.x=c;this.node.children[c].kb_viewmodel.loopid=
k.substring(0,k.lastIndexOf("_")+1)+c;return this}),connect:t(function(c){var d=this;this._data=c;if("for"!==this.type){if(this.insert){this.setDom(this._data.get(this.key));this.unsync();return}if(this.set){var k=!isNaN(parseInt(this.set,10))&&parseInt(this.set,10).toString().length===this.set.length,e="true"===this.set.replace(/\s/g,"")||"false"===this.set.replace(/\s/g,""),n=-1!==this.set.indexOf('"')||-1!==this.set.indexOf("'");(this.set=k?parseInt(this.set,10):e?"true"===this.set.replace(/\s/g,
""):n?this.set.replace(/((\s*\"|\')(.*?)(\"|\'))/g,"$3"):void 0)&&this._data.set(this.key,this.set)}if(this.outsert){this.setDom("");this.unsync();return}this.inlineFilters&&(this.inlineFilters.boolFilter?(this.filters.filters.unshift("boolFilter"),this._data.filters.boolFilter=this.inlineFilters.boolFilter):(this.filters.filters.unshift("mathFilter"),this._data.filters.mathFilter=this.inlineFilters.mathFilter));this.dataListener=function(b){"delete"===b.event?d.unsync():d.setDom(b.value)};c.getLayer(this.key).addDataUpdateListener(this.localKey,
this.dataListener);1===this.bindText.length&&(this.domListener=function(b){d.setData(b.value)},this.node.__kbhtmllistener=!0,this.node.addAttrUpdateListener(this.listener,this.domListener))}else this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");d.setLoop(b.key,b.event)},c.getLayer(this.key).addDataMethodUpdateListener(this.dataListener);"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,r(this.filters.model)):
this.filters.session&&0!==this.filters.session.length?this._data.stopChange().set(this.key,C(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,I(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",q(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=O(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&
(c=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==c?c:"")));return this}),reconnect:t(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:t(function(){this.node.stopChange().innerHTML="";for(var c=
0,d=R(this._data.get(this.key),this.filters.filters,this._data.filters).length;c<d;c++)this.setLoop(c,"create");return this}),setData:t(function(c){c=N(c,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,c);p(this.filters.model,c);v(this.filters.session,c);z(this.filters.local,c);return this}),setDom:t(function(c){p(this.filters.model,c);v(this.filters.session,c);z(this.filters.local,c);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&
-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",q(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=O(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(c=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==c?c:""));return this}),setLoop:t(function(c,d){switch(d){case "create":this.addPointer(c);break;case "delete":this.removePointer(c);
break;case "set":this.reapplyPointer(c);break;default:if("push"!==d)for(var k=0,e=this._data.getLayer(this.key).length;k<e;k++)this.reapplyPointer(k)}return this}),bindMaps:t([]),unsync:t(function(){this._data=this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this}),reset:t(function(){"for"===this.type?this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener).addDataMethodUpdateListener(this.extraListener):
(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener).addDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener).addAttrUpdateListener(this.listener,this.domListener))})});return n}var G="{{",H="}}",F="|",J={},q=/(<\/.*?>)/g;z().call();var K=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}),y={loopitem:[]};p.start=function(c){if(void 0===c)return G;
G="string"===typeof c?c:G;return p};p.end=function(c){if(void 0===c)return H;H="string"===typeof c?c:H;return p};p.pipe=function(c){if(void 0===c)return F;F="string"===typeof c?c:F;return p};p.getUnknown=function(c){var n=c.match(q).map(function(c){return c.replace(/[<\/>]/g,"")});n.filter(function(c,q){return document.createElement(c)instanceof HTMLUnknownElement&&-1===n.indexOf(c,q+1)&&void 0===J[c]});return n};p.isRegistered=function(c){return void 0!==J[c]};p.register=function(c,n){void 0===J[c]?
(J[c]=n,p.getUnknown(n)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",c);return this};p.addEventListener=function(c,n){void 0!==y[c]?y[c].push(n):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",c);return p};p.removeEventListener=function(c,n){if(void 0!==y[c])for(var r=0,q=y[c].length;r<q;r++)y[c][r].toString()===n.toString()&&y[c].splice(r,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",
c);return p};Object.defineProperties(p.prototype,{register:t(p.register),isRegistered:t(p.isRegistered),getUnknown:t(p.getUnknown),map:t(function(c){function q(r,t){for(var p=0,z=r.length;p<z;p++)if(void 0===r[p].kb_maps&&8!==r[p].nodeType){r[p].kb_mapper=c;r[p].kb_maps=t;if(3===r[p].nodeType){var y=r[p],v=t,l=y.textContent;if(l.match(n())){var d=M(l),k=P();k.prototype.type=l.match(new RegExp("(\\"+G.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+H.split("").join("\\")+")","g"))?"for":"text";
k.prototype.text=l;k.prototype.bindText=d;k.prototype.listener="textContent";k.prototype.attr="textContent";k.prototype.localAttr="textContent";k.prototype.local=y;k.prototype.node=y.parentElement;k.prototype.binds=v;y=0;for(l=d.length;y<l;y++)if(0===d[y].indexOf(G)){var e="for"===k.prototype.type?Q(d[y])[0]:C(d[y]),u=new k(d[y],e);void 0===v[e]&&(v[e]=[]);u.bindText[y]=u;u.bindMaps.push(u);u.id=v[e].length;v[e].push(u)}}}else for(v=r[p],d=t,k=Array.prototype.slice.call(v.attributes),y=v instanceof
HTMLUnknownElement,l=0,e=k.length;l<e;l++)if(k[l].value.match(n())){var u=M(k[l].value),b=P();b.prototype.type=y?"component":"attribute";b.prototype.text=k[l].value;b.prototype.bindText=u;b.prototype.isEvent=-1!==K.indexOf(k[l].name);b.prototype.isInput="input"===v.tagName.toLowerCase();b.prototype.isRadio=b.prototype.isInput?-1!==["radio","checkbox"].indexOf(v.type):!1;b.prototype.listener=k[l].name;b.prototype.attr=k[l].name;b.prototype.localAttr="value";b.prototype.local=k[l];b.prototype.node=
v;b.prototype.binds=d;b.prototype.isEvent&&v.removeAttribute(k[l].name);for(var f=0,g=u.length;f<g;f++)if(0===u[f].indexOf(G)){var h=C(u[f]),m=new b(u[f],h);void 0===d[h]&&(d[h]=[]);m.bindText[f]=m;m.bindMaps.push(m);m.id=d[h].length;d[h].push(m)}}r[p].childNodes&&0!==r[p].childNodes.length&&(t=q(r[p].childNodes,t))}return t}return q(c.childNodes,{})}),insert:t(p.insert)});return p}}(V),Z=function(){return function(){function z(n){0===n.length&&(n=p);document.body.innerHTML="<"+n+"></"+n+">";t(n);
return z}var p="",t=function(){};z.base=function(n){if(void 0===n)return p;p="string"===typeof n?n:p;return z};z.onChange=function(n){if(void 0===n)return t;t="function"===typeof n?n:t;return z};z.watch=function(n){window.onhashchange=n?function(){z(window.location.hash.replace("#",""))}:null;return z};return z}}(),U=function(z,p,t,n,M){return function(t){function c(b,f,d,e){function l(b,c,f,d,g){for(var e=y({},b),h=0,m=Object.keys(d),n=m.length;h<n;h++)-1!==k.indexOf(m[h])?Object.defineProperty(e,
m[h],E(d[m[h]],"filters"!==m[h])):d.pointers?void 0===d.pointers[m[h]]&&e.set(m[h],d[m[h]]):e.set(m[h],d[m[h]]);if(d.pointers)for(e.pointers||Object.defineProperty(e,"pointers",E({},!1,!0)),h=0,m=Object.keys(d.pointers),n=m.length;h<n;h++)e.pointers[m[h]]=d.pointers[m[h]],e.addPointer(e.pointers[m[h]].point,e.pointers[m[h]].key,m[h]);c.apply(e,f);h=0;m=Object.keys(c.prototype);for(n=m.length;h<n;h++)Object.defineProperty(e,[m[h]],E(c.prototype[m[h]],!0));h=0;m=Object.keys(g);for(n=m.length;h<n;h++)-1!==
k.indexOf(m[h])?Object.defineProperty(e,m[h],E(g[m[h]],"filters"!==m[h])):g.pointers?void 0===g.pointers[m[h]]&&e.set(m[h],g[m[h]]):e.set(m[h],g[m[h]]);if(g.pointers)for(e.pointers||Object.defineProperty(e,"pointers",E({},!1,!0)),h=0,m=Object.keys(g.pointers),n=m.length;h<n;h++)e.pointers[m[h]]=g.pointers[m[h]],e.addPointer(e.pointers[m[h]].point,e.pointers[m[h]].key,m[h]);h=0;m=Object.keys(e.filters);for(n=m.length;h<n;h++)e.filters[m[h]]=e.filters[m[h]].bind(e);if(e.sessionStorage){if(c=sessionStorage.getItem(e.id||
b))for(c=JSON.parse(c),h=0,m=Object.keys(c),n=m.length;h<n;h++)e.set(m[h],c[m[h]]);else sessionStorage.setItem(e.id||b,e.stringify());e.addChildDataUpdateListener("*",function(){sessionStorage.setItem(e.id||b,e.stringify())})}if(e.localStorage){if(c=localStorage.getItem(e.id||b))for(c=JSON.parse(c),h=0,m=Object.keys(c),n=m.length;h<n;h++)e.set(m[h],c[m[h]]);else localStorage.setItem(e.id||b,e.stringify());e.addChildDataUpdateListener("*",function(){localStorage.setItem(e.id||b,e.stringify())})}e.store&&
L.set(e.id||b,e);return e}function n(b,c,f){b.kb_viewmodel=f;var d=c.maps=c.map(c.wrapper);c.wrapper.kb_maps=d;Object.keys(d).forEach(function(b){d[b].forEach(function(b){switch(b.type){case "for":b.connect(f).createloop();break;case "component":b.connect(f).unsync();break;default:b.connect(f)}})});c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,c.wrapper);c.wrapper.kb_viewmodel.onGlobalFinish&&c.wrapper.kb_viewmodel.onGlobalFinish.call(c.wrapper.kb_viewmodel,c.wrapper)}function q(b){b=
b.querySelectorAll("*");for(var f=0,d=b.length;f<d;f++)b[f]instanceof HTMLUnknownElement&&c(b[f])}function r(b,d){p=new D(d,!0);p.wrapper.innerHTML=p.template;p.wrapper.kb_mapper=p.wrapper;Object.defineProperty(p.wrapper,"__kbcomponenttree",E(d.kb_mapper?d.kb_mapper.__kbcomponenttree.slice():[]));d.parentElement.stopChange().replaceChild(p.fragment,d);f.unshift(p.wrapper);n(p.wrapper,p,l(b,S[b],f,v,z));-1===p.wrapper.__kbcomponenttree.indexOf(b)||p.wrapper.kb_viewmodel.multiple?(p.wrapper.__kbcomponenttree.push(b),
p.wrapper.className+=" "+p.wrapper.kb_viewmodel.local,p.wrapper.className+=" "+p.wrapper.kb_viewmodel.id,p.wrapper.className+=p.wrapper.kb_viewmodel.loopid?" "+p.wrapper.kb_viewmodel.loopid:"",p.wrapper.kb_viewmodel.subscribeDeep("*",Q).callAllSubscribers(),p.wrapper.kb_viewmodel.kbnode=p.wrapper,p.wrapper.addChildAttrListener("html",function(b){if(!b.stopChange){if(-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&(b.arguments[0]instanceof HTMLUnknownElement||b.arguments[0]instanceof
HTMLScriptElement)||-1!==["innerHTML","textContent"].indexOf(b.attr)&&b.target.__kbhtmllistener)return!0;b.preventDefault();b.stopPropagation()}}),p.wrapper.addChildAttrUpdateListener("html",function(b){-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&b.arguments[0]instanceof HTMLUnknownElement&&c(b.arguments[0])}),q(p.wrapper)):(console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",
b),console.error("Recursive Component %o on %o",p.wrapper,p.wrapper.parentElement))}var t=b.tagName.toLowerCase(),p,u=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}),v=w||{},z={};void 0===f&&(f=[]);d&&T(d,v);Object.defineProperty(v,"local",E(v.local||"local_"+t+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(v,"id",E(v.id||"id_"+t+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(v,"filters",E(v.filters||
{},!1,!1,!0));"function"!==typeof v.onFinish&&(v.onFinish=function(){});Object.defineProperty(v,"onGlobalFinish",E(v.onFinish,!0,!1,!0));v.listen=N;Object.defineProperty(v,"listen",E(v.listen,!0,!1,!0));v.unlisten=O;Object.defineProperty(v,"unlisten",E(v.unlisten,!0,!1,!0));v.alert=R;Object.defineProperty(v,"alert",E(v.alert,!0,!1,!0));Object.defineProperty(v,"sessionStorage",E(!1,!0,!1,!0));Object.defineProperty(v,"localStorage",E(!1,!0,!1,!0));Object.defineProperty(v,"store",E(!1,!0,!1,!0));Object.defineProperty(v,
"multiple",E(!1,!0,!1,!0));e&&T(e,z);z.innerHTML=Array.prototype.slice.call(b.childNodes);d=0;for(e=b.attributes.length;d<e;d++)z[b.attributes[d].name]=b.attributes[d].value;d=0;for(e=u.length;d<e;d++)b[u[d]]&&(z[u[d]]=b[u[d]]);b.k_post&&T(b.k_post,z);c.isRegistered(t)||b.kb_isLoading?c.isRegistered(t)&&r(t,b):(c.loadWaitList(t,function(c,f){r(t,b)}),c.loadWaitList(t).loading||(c.loadWaitList(t).loading=!0,K(t)))}function Q(b){var c=this.__kbref.local,d=this.__kbref.id,e=this.__kbref.loopid,k=this.__kbscopeString+
(0!==this.__kbscopeString.length?".":"")+b.key;if(l[c]&&l[c][k])for(var n=0,p=l[c][k].length;n<p;n++)l[c][k][n](b);if(l[d]&&l[d][k])for(n=0,p=l[d][k].length;n<p;n++)l[d][k][n](b);if(l[e]&&l[e][k])for(n=0,p=l[e][k].length;n<p;n++)l[e][k][n](b)}function T(b,c){var d=Object.keys(b);c.pointers||Object.defineProperty(c,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var e=0,k=d.length;e<k;e++)if(y.prototype.isObservable(b,d[e]))c.pointers[d[e]]={key:b.__kbscopeString.split(".").pop(),
point:b.__kbImmediateParent};else if(y.prototype.isMixed(b[d[e]]))c.pointers[d[e]]={key:b[d[e]].__kbscopeString.split(".").pop(),point:b[d[e]].__kbImmediateParent};else if(y.prototype.isObject(b[d[e]]))for(var l=0,n=Object.keys(b[d[e]]);l<k;l++)c[d[e]][n[l]]=b[d[e]][n[l]];else if(y.prototype.isArray(b[d[e]]))for(l=0;l<k;l++)c[d[e]][l]=b[d[e]][l];else c[d[e]]=b[d[e]]}function E(b,c,d,e){return{value:b,writable:!!c,enumerable:!!e,configurable:!!d}}function O(b,c,d){if(2===arguments.length)if(d=c.bind(this),
c=b,v[c])for(var e=0,k=v[c].length;e<k;e++)v[c][e].toString()===d.toString()&&v[c].splice(e,1);else console.error("no listeners exists by key %o",c);else if(d=d.bind(this),l[b]&&l[b][c])for(e=0,k=l[b][c].length;e<k;e++)l[b][c].toString()===d.toString()&&l[b][c].splice(e,1);return this}function N(b,c,d){if(2===arguments.length)d=c.bind(this),c=b,v[c]||(v[c]=[]),v[c].push(d);else if(d=d.bind(this),l[b]||(l[b]={}),l[b][c]||(l[b][c]=[]),l[b][c].push(d),document.querySelector("."+b)){var e=l[b][c],k=document.querySelector("."+
b).kb_mapper.kb_viewmodel,n=k.getLayer(c),p=c.split(".").pop(),q=n[p];e[e.length-1]({key:p,value:q,oldValue:q,local:n,kbref:k,onChange:!1,initial:!0})}return this}function R(b,c){if(v[b])for(var d=0,e=v[b].length;d<e;d++)v[b][d](c);return this}function P(){if(!document.querySelector('meta[name="viewport"]')){var b=document.createElement("meta");b.name="viewport";b.content="width=device-width, initial-scale=1.0";document.head.stopChange().appendChild(b)}c.device||(c.device={});c.device.type=c.detectDevice();
c.device.orientation=c.detectOrientation();c.device.browser=c.detectBrowser();c.device.screenSize=c.detectScreenSize();c.device.orientationSize=c.detectScreenOrientation();c.device.keyboard="desktop"!==c.device.type?window.innerHeight<screen.height-.4*screen.height:!1;document.body.className=c.device.type+" "+c.device.orientation+(c.device.keyboard?" keyboard":"")+" "+c.device.browser+" "+c.device.screenSize+" "+c.device.orientationSize}function G(b,c){var d=document.createElement("script");d.src=
b;d.onerror=function(){c(null,!0)};d.onload=function(){c(w)};document.head.stopChange().appendChild(d)}function H(b){G("/node_modules/Konnekt/configs/config.js",b)}function F(b){G("/bower_components/Konnekt/configs/config.js",b)}function J(b){G("/configs/config.js",b)}function q(){for(var b=0,c=r.length;b<c;b++)r[b]()}window.K_Components||(window.K_Components={});var K=p().onLoad(function(b,d){var e="<style>"+unescape(d.prototype.k_css)+"</style>"+unescape(d.prototype.k_html);c.register(b,d,e,d.prototype.cms);
A?(c.loadWaitList(b).forEach(function(c){c(b,d)}),c.loadWaitList(b,"clear")):r.push(function(){c.loadWaitList(b).forEach(function(c){c(b,d)});c.loadWaitList(b,"clear")})}),y=z(),w=t||{},A=!1,r=[],D=n().addEventListener("loopitem",function(b){var d=b.node.tagName.toLowerCase();c.isRegistered(d)||b.node.kb_isLoading?c.isRegistered(d)&&c(b.node):(b.node.kb_isLoading=!0,c.loadWaitList(d,function(d,f){c(b.node)}),c.loadWaitList(d).loading||(c.loadWaitList(d).loading=!0,K(d)))}),I=M().base(void 0!==w.base?
w.base:"default").watch(!0).onChange(function(b){c(document.querySelector(b))}),L=y({},"Model"),S={},v={},l={},d=function(){return window.location.search.replace("?","").split("&").filter(function(b){return 0!==b.length}).reduce(function(b,c){b[c.split("=")[0]]=c.split("=")[1];return b},{})}(),k="id filters class sessionStorage localStorage store component multiple".split(" "),e={},u;c.detectDevice=function(){return navigator.userAgent.toLowerCase().match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|[^a-z]rim[^a-z]|sonyericsson|nokia|[^a-z]mib[^a-z])/)?
"mobile":navigator.userAgent.toLowerCase().match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?"tablet":"desktop"};c.detectBrowser=function(){var b=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),c="undefined"!==typeof InstallTrigger,d=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),e=!!document.documentMode,k=
!e&&!!window.StyleMedia,l=!!window.chrome&&!!window.chrome.webstore;return b?"opera":c?"firefox":d?"safari":l?"chrome":e?"ie":k?"edge":"unknown"};c.detectOrientation=function(){return screen.width>screen.height?"landscape":screen.height>screen.width?"portrait":"square"};c.detectScreenOrientation=function(){return window.innerWidth>window.innerHeight?"landscape-size":window.innerHeight>window.innerWidth?"portrait-size":"square-size"};c.detectScreenSize=function(){return 1280>("landscape"===this.detectOrientation()?
window.innerWidth:window.innerHeight)?750>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?"mobile-size":"tablet-size":"desktop-size"};c.config=function(b){function d(b,c){for(var e=0,k=Object.keys(b),l=k.length;e<l;e++)"object"===typeof b[k[e]]?(void 0===c[k[e]]&&(c[k[e]]={}),d(b[k[e]],c[k[e]])):"object"!==c[k[e]]&&(c[k[e]]=b[k[e]])}d(b,w);return c};window.addEventListener("resize",P);document.body?P():document.addEventListener("DOMContentLoaded",function(){P()});c.register=
function(b,d,e,h){D.register(b,e);S[b]=d;return c};c.isRegistered=function(b){return void 0!==S[b]&&D.isRegistered(b)};c.registered=function(){return Object.keys(S)};c.loadWaitList=function(b,d){if("undefined"===typeof d&&b)return e[b];if(b){if(void 0===e[b]||"clear"===d){var g=void 0===e[b]?!1:!!e[b].loading;e[b]=[];e[b].loading=g}"function"===typeof d&&e[b].push(d)}return c};c.localRouting=function(b){b?(u=Node.prototype.appendChild,Node.prototype.appendChild=function(b){if("script"===b.nodeName.toLowerCase()){b.src=
b.src.substring(0,-1!==b.src.indexOf("?")?b.src.indexOf("?"):b.src.length);var c=b.src.match(/(.*?component\/)/);c&&(d.env||(d.env="prod"),"dev"===d.env&&(d.env="qa"),c=b.src.replace(c[0],"").replace(/[\/\s]/g,""),b.src=(void 0!==w.prefix?w.prefix:"")+"/components/"+c+"/build/"+d.env+"/"+c+(d.debug&&"prod"!==d.env?"":".min")+".js",arguments[0]=b)}return u.apply(this,arguments)}):u&&(Node.prototype.appendChild=u,u=null);return c};c.hashRouting=function(b){b&&(document.body?A?I(window.location.hash.replace("#",
"")):r.push(function(){I(window.location.hash.replace("#",""))}):document.addEventListener("DOMContentLoaded",function(){A?I(window.location.hash.replace("#","")):r.push(function(){I(window.location.hash.replace("#",""))})}));return this};y.prototype._parse||(y.prototype._parse=y.prototype.parse);y.prototype.parse=function(){if(this.__kbref.kbnode){var b=this.__kbref.kbnode.kb_mapper.kb_maps;this._parse.apply(this,arguments);this.unsubscribeDeep("*",Q);this.subscribeDeep("*",Q).callAllSubscribers();
Object.keys(b).forEach(function(c){b[c].forEach(function(b){b.reset()})})}else return this._parse.apply(this,arguments)};(function(){H(function(b,c){c?F(function(b,c){c&&console.error("the Konnekt local config was not found, this issue happens when You do not have Konnekt isntalled via th standard node_modules or bower_components module directories");J(function(b,c){A=!0;q()})}):J(function(b,c){A=!0;q()})})})();return c}}(W,X,V,Y,Z);"undefined"!==typeof window&&"undefined"!==typeof window.define&&
"undefined"!==typeof window.require?define([],function(){return U}):"undefined"!==typeof module&&(module.exports=U);return U}();
