var Konnekt=function(){var W=function(){return function(z,v,u,p){function N(b,f,n,k){b=void 0===b?{}:b;var d={},A=window.Proxy?new Proxy(d,{set:O,deleteProperty:S}):d,h=Object.keys(b,"all");Object.defineProperties(d,{__kbname:c("string"===typeof f?f:"default",!0,!0),__kbref:c(n?n.__kbref||n:A,!0,!0),__kbscopeString:c(k||"",!0,!0),__kbImmediateParent:c(n||null,!0,!0),__kbsubscribers:c({}),__kbparentsubscribers:c({}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),
__kbcreatelisteners:c([]),__kbdeletelisteners:c([]),__kbparentcreatelisteners:c([]),__kbparentdeletelisteners:c([]),__kbmethodlisteners:c([]),__kbmethodupdatelisteners:c([]),__kbpointers:c({}),__kbevents:c(l),__kbsetindex:c(0,!0),__kbproto:c({}),length:c(0,!0),__kbnonproxy:c(d,!1,!0),__kbproxy:c(A,!1,!0),_stopChange:c(!1,!0)});d.__proto__=N.prototype;f=0;for(n=h.length;f<n;f++)A.set(h[f],b[h[f]]);d.__kbevents.addlistener=[];d.__kbevents.removelistener=[];d.addActionListener("addlistener",function(b){if("string"===
typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var f=b.local.__kbpointers[b.arguments[0]],f=f.point.getLayer(f.keys);if(void 0!==f[b.arguments[0]])f[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var f=b.local.__kbpointers[b.arguments[0]],f=f.point.getLayer(f.keys);if(void 0!==f[b.arguments[0]])f[b.arguments[2]](b.arguments[0],b.arguments[1])}});
return A}function D(b,f,n,k,d,A,h,g){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=f;this.arguments=A;this.type=this.event=n;this.listener=h;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=k;this.oldValue=d;this.stopChange=g}function c(b,f,n,k){return{value:b,writable:!!f,enumerable:!!k,configurable:!!n}}function R(b,f,n){return{get:function(){return b.call(this)},
set:function(k){f&&(b=k)},enumerable:!1,configurable:!!n}}function T(b,f){var n=f,k=f;return{get:function(){return n},set:function(f){var A=new D(this,b,"set",f,n,arguments,"__kblisteners",this._stopChange);!0!==d(A)&&(k=n,n=f,A.stopChange||(A.listener="__kbupdatelisteners",A.type="postset",d(A)),this.callSubscribers(this.__kbref,this,b,n,k,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function H(){var b=Array.prototype.slice.call(arguments),f=b.shift();return{get:function(){return b.reduce(function(b,
f){return b[f]},f)},set:function(n){var k=b.slice(0,b.length-1).reduce(function(b,f){return b[f]},f);(this._stopChange?k.stopChange():k)[b[b.length-1]]=n;this._stopChange=!1},enumerable:!0,configurable:!0}}function P(b,f){for(var n=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
k=[],d,A=0,h=n.length;A<h;A++)if(d=b[n[A].listener],E.call(d))for(var k=Object.keys(d),g=0,e=k.length;g<e;g++)for(var c=0,r=d[k[g]].length;c<r;c++)f[n[A].method](k[g],d[k[g]][c]);else for(g=0,e=d.length;g<e;g++)f[n[A].method](d[g])}function O(b,f,n){if(M(b,f)||"length"===f||"__kbsetindex"===f){if("length"===f)if(n>b.length&&void 0!==b[n-1])b.length=n;else{if(n<b.length){f=n;for(var k=b.length;f<k;f++)b[f]&&delete b[f];b.length=n}}else b[f]=n;return!0}b.set(f,n)}function S(b,f){b.del(f);return!0}function Q(b,
f,n){var k=q(n),C=E(n),A=J(n);if(k&&n.__kbname!==b.__kbname)"default"===n.__kbname?b.merge(n,f):b.__kbpointers[f]||b.addPointer(n,f);else{var k=new D(this,f,"create",n,void 0,[],"__kbcreatelisteners",this._stopChange),h=d(k),g=parseInt(f,10);if(!0!==h)if((C||A)&&0!==Object.keys(n,"all").length)for(Q.call(this,b,f,{}),C=0,A=Object.keys(n,"all"),k=A.length;C<k;C++)Q.call(this[f],b[f],A[C],n[A[C]]);else{if(C||A)n=new N(n,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+f),P(b,n);
Object.defineProperty(b,f,T(f,n));!isNaN(g)&&b.length<=g&&(b.length=g+1);k.listener="__kbupdatelisteners";k.type="postcreate";d(k)}}}function I(b,f,n,k){var d=q(n),A=E(n),h=J(n);if(d&&n.__kbname!==b.__kbname)"default"===n.__kbname?b.merge(n,f):b.__kbpointers[f]||b.addPointer(n,f);else if(void 0===b[f])-1===m.indexOf(f)?Q.call(this,b,f,n):(k?b.stopChange():b)[f]=n;else if(A||h)for(d=0,A=Object.keys(n,"all"),h=A.length;d<h;d++)I.call(this[f],b[f],A[d],n[A[d]],k);else(k?b.stopChange():b)[f]=n}function B(b){return r.call(b).replace(/(\[object\s|\])/g,
"").toLowerCase()}function E(b){return"object"===B(void 0!==b?b:this)}function J(b){return"array"===B(void 0!==b?b:this)}function q(b){return"mixed"===B(void 0!==b?b:this)}function M(b,f){f="string"===typeof b?b:f;var n=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,f);return n?void 0===n.value:!1}function F(b,f){function n(b){var f=parseFloat(b,10),k="true"===b,d=b.indexOf('"'),n=b.lastIndexOf('"');if(isNaN(f)||f.toString().length!==b.length){if(k||"false"===b)return k;b=0===d&&0!==n?
b.substring(1,b.length-1):b.substring(1,b.length)}else return f;return b}var k=this.__kbnonproxy;split=b.split(/({"|,"(?=(?:[^"]|"[^"]*")*$)|\[(?=(?:[^"]|"[^"]*")*$)|\](?=(?:[^"]|"[^"]*")*$)|":|"}|{(?=(?:[^"]|"[^"]*")*$)|,(?=(?:[^"]|"[^"]*")*$)|}(?=(?:[^"]|"[^"]*")*$))/).filter(Boolean);UKeys=[];isValue=isKey=!1;p="";for(var d=1,h=split.length,g,e,c,r;d<h;d++)g=split[d],e=split[d-1],c=split[d+1],r=UKeys[UKeys.length-1],'":'===e&&'{"'===g||'":'===e&&"["===g?(p+=(0!==p.length?".":"")+r,k[r]||k.set(r,
f?f(r,{},p,k):{}),k=k[r],UKeys.pop()):"["===e||","===e&&0!==k.length?"{"===g||'{"'===g?(p+=(0!==p.length?".":"")+k.__kbsetindex,"object"!==typeof k[k.__kbsetindex]&&k.set(k.__kbsetindex,f?f(k.length,{},p,k):{}),k.__kbsetindex+=1,k=k[k.__kbsetindex-1]):(k.set(k.__kbsetindex,f?f(k.length,n(g),p,k):n(g)),k.__kbsetindex+=1):'":'===e?(k.set(r,f?f(r,n(g),p,k):n(g)),UKeys.pop()):'{"'===e||","===e&&'":'===c?UKeys[UKeys.length]=g.replace(/\"/g,""):"}"!==e&&"]"!==e||void 0===g||(p=-1!==p.indexOf(".")?p.substring(0,
p.lastIndexOf(".")-1):"",k=k.__kbImmediateParent);return this}function w(b,f){"number"===typeof b&&(b=b.toString());var n=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var k=new D(this,b,"set",f,this[b],arguments,"__kbmethodlisteners");!0!==d(k)&&(I.call(this,n,b,f,this._stopChange),this.stopChange=void 0,k.type="postset",k.listener="__kbmethodupdatelisteners",d(k));return this}function y(b){return b.split(".")}function t(b,f){return function(n,
k){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var C=this[f],h=new D(this,f,"addlistener",C,void 0,arguments,"");"string"===typeof n&&1!==y(n).length&&(C=y(n),n=C.pop(),C=C.join("."),h.local=this.getLayer(C),C=h.local[f],h.value=C);!0!==d(h)&&(E.call(C)?(void 0===C[n]&&(C[n]=[]),C[n].push(k),h.type="postaddlistener",d(h)):J.call(C)&&"function"===typeof n&&(C.push(n),h.type="postaddlistener",d(h)));return this}}function L(b,f){return function(n,k){arguments=Array.prototype.slice.call(arguments);
arguments.push(b);var h=this[f],g=new D(this,f,"removelistener",h,void 0,arguments,"");"string"===typeof n&&1!==y(n).length&&(h=y(n),h.pop(),h.join("."),g.local=this.getLayer(h),h=g.local[f],g.value=h,n=y(n).pop());if(!0!==d(g))if(E.call(h)){if(void 0!==h[n])for(var e=0,c=h[n].length;e<c;e++)if(h[n][e].toString()===k.toString()){h[n].splice(e,1);g.type="postremovelistener";d(g);break}}else if(J.call(h)&&"function"===typeof n)for(e=0,c=h.length;e<c;e++)if(h[e].toString()===n.toString()){h.splice(e,
1);g.type="postremovelistener";d(g);break}return this}}function G(b,f){function n(b,f,d){var h=Object.keys(this,"all").filter(function(b){return q.call(this[b])}.bind(this)),g=this,e=b;"string"===typeof b&&1!==y(b).length&&(g=y(b),e=g.pop(),g=g.join("."),g=this.getLayer(g),void 0===g[d][e]&&(g[d][e]=[]),g[d][e].push(f));E.call(g[d])?(void 0===g[d][e]&&(g[d][e]=[]),g[d][e].push(f),g=g.__kbpointers[e],g=g.point.getLayer(g.keys),void 0!==g[e]&&(void 0===g[d][e]&&(g[d][e]=[]),g[d][e].push(_func))):g[d].push(f);
e=0;for(g=h.length;e<g;e++)n.call(this[h[e]],b,f,d)}return function(k,h){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var g=new D(this,f,"addchildlistener",void 0,void 0,arguments,"");!0!==d(g)&&(n.call(this.__kbnonproxy,k,h,f),g.type="postaddchildlistener",d(g));return this}}function K(b,f){function n(b,f,d){var h=Object.keys(this,"all").filter(function(b){return q.call(this[b])}.bind(this)),g=this,e=b;if("string"===typeof b&&1!==y(b).length){var c=y(b),e=c.pop();c.join(".");
g=this.getLayer(c);if(void 0!==g[d][b])for(var c=0,r=g[d][b].length;c<r;c++)if(g[d][b][c].toString()===f.toString()){g[d][b].splice(c,1);break}}if(E.call(g[d])){if(void 0!==g[d][e]){c=0;for(r=g[d][e].length;c<r;c++)if(g[d][e][c].toString()===f.toString()){g[d][e].splice(c,1);break}if(-1!==g.__kbpointers.indexOf(e)&&(c=g.__kbpointers[e],g=c.point.getLayer(c.keys),void 0!==g[d][e]))for(c=0,r=g[d][e].length;c<r;c++)if(g[d][e][c].toString()===f.toString()){g[d][e].splice(c,1);break}}}else for(c=0,r=g[d].length;c<
r;c++)if(g[d][c].toString()===f.toString()){g[d].splice(c,1);break}c=0;for(r=h.length;c<r;c++)n.call(this[h[c]],b,f,d)}return function(k,g){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var h=new D(this,f,"removechildlistener",void 0,void 0,arguments,"");!0!==d(h)&&(n.call(this.__kbnonproxy,k,g,f),h.type="postremovechildlistener",d(h));return this}}var l={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],
shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},m=["__proto__","_stopChange"],e=function(b,f){if(!f._stopPropogration&&b)for(var d=0,k=b.length;d!==k&&(b[d](f),!f._stopPropogration);d++);},d=function(b){if(b.listener){var f=b.local[b.listener],d=b.local[b.listener.replace("__kb",
"__kbparent")];E.call(f)?(e(f[b.key],b),e(f["*"],b)):e(f,b);E.call(d)?(e(d[b.key],b),e(d["*"],b)):e(d,b)}e(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},h=Array.prototype.sort,g=Array.prototype.slice,r;Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof N?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,f){return Object._keys(b).filter(function(b){return f&&
"object"!==f&&"o"!==f?"all"===f?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};r={}.toString;Object.defineProperties(N.prototype,{"typeof":c(B,!1,!0),sizeof:c(function(b){function f(b){for(var g=Object.keys(b,"all"),h=0,e=void 0,c=0,r=g.length;c<r;c++)e=b[g[c]],"object"===typeof e&&void 0!==e&&null!==e?-1===d.indexOf(e)&&(d.push(e),h+=f(e)):"string"===typeof e?h+=2*e.length:"number"===typeof e?h+=8:"boolean"===typeof e?h+=4:"function"===typeof e&&(h+=2*e.toString().length),h+=2*g[c].length;return h}
var d=[];return f(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:c(E,!1,!0),isArray:c(J,!1,!0),isMixed:c(q,!1,!0),isObservable:c(M,!1,!0),stringify:c(function(b){var f=[];return JSON.stringify(b||this,function(b,d){if(J(d)||E(d)){if(-1!==f.indexOf(d))return;f.push(d)}return d})},!1,!0),getKeys:c(function(b,f){f="string"===typeof b?b:f?f:"object";return Object.keys("string"===typeof b||void 0===b?this:b,f)},!1,!0),getIndexes:c(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var f=
[],d=0,k=b.length;d<k;d++)void 0!==b[d]&&(f[f.length]=d);return f},!1,!0),keyCount:R(function(){return this.getKeys("object").length},!1,!0),indexCount:R(function(){return this.length},!1,!0),count:R(function(){return this.keyCount+this.indexCount},!1,!0),concat:c(Array.prototype.concat),every:c(Array.prototype.every),filter:c(Array.prototype.filter),find:c(Array.prototype.find),findIndex:c(Array.prototype.findIndex),forEach:c(Array.prototype.forEach),includes:c(Array.prototype.includes),indexOf:c(Array.prototype.indexOf),
join:c(Array.prototype.join),lastIndexOf:c(Array.prototype.lastIndexOf),map:c(Array.prototype.map),reduce:c(Array.prototype.reduce),reduceRight:c(Array.prototype.reduceRight),slice:c(Array.prototype.slice),some:c(Array.prototype.some),entries:c(Array.prototype.entries),toLocaleString:c(Array.prototype.toLocaleString),parse:c(F,!0),parseReplace:c(function(b,f){return F.call(f||this,b)},!0),add:c(function(b,f){w.call(this,b,f);return this}),set:c(w),get:c(function(b){"number"===typeof b&&(b=b.toString());
var f=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(f)return f[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),del:c(function(b,f){var n="number"===typeof b||!isNaN(parseInt(b,10));n&&(b=b.toString());var k=-1!==b.indexOf(".")?this.getLayer(b):this,h=b.split(".").pop();if(k&&void 0!==k[h])if(n&&k.length>parseInt(b,10)&&!f)k=k.__kbnonproxy,k.splice(h,1);else{var g=new D(k,b,"delete",k[h],void 0,[],"__kbmethodlisteners"),
e=d(g),r=new D(k,b,"delete",k[h],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==d(r)&&!0!==e&&(k=k.__kbnonproxy,Object.defineProperty(k,h,c(void 0,!0,!0,!1)),delete k[h],n&&k.length>parseInt(b,10)&&f&&--k.length,g.type="postdelete",g.listener="__kbmethodupdatelisteners",d(g),r.listener="__kbupdatelisteners",r.type="postdelete",r.oldValue=r.value,r.value=void 0,d(r))}return this}),exists:c(function(b){var f=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&
(b=b.split(".").pop());return f?void 0!==f[b]:!!f}),addPrototype:c(function(b,f){var d=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===d[b]?Object.defineProperty(d.__proto__,b,c(f,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,d);return this}),addPointer:c(function(){var b=Array.prototype.slice.call(arguments),f=b.shift(),n=b[b.length-1];f instanceof N||(f=new N(f,
f.__kbname));var k=new D(this,n,"create",f[n],void 0,[],"__kbcreatelisteners",this._stopChange),h=this.__kbnonproxy;k.root=f.__kbref.__kbproxy;if(!0!==d(k)){Object.defineProperty(h,n,H.apply(h,arguments));h.__kbpointers[n]={keys:b.join("."),point:f};var b=h,f=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],h=[],g;if(b[n].__kbImmediateParent)for(var e=0,c=f.length;e<c;e++){g=b[f[e].listener];for(var h=Object.keys(g),r=0,l=h.length;r<
l;r++)if(n===h[e])for(var w=0,m=g[h[e]].length;w<m;w++)void 0===b[n].__kbImmediateParent[f[e].listener][n]&&(b[n].__kbImmediateParent[f[e].listener][n]=[]),b[n].__kbImmediateParent[f[e].listener][n].push(g[h[e]][w])}P(b,b[n]);k.listener="__kbupdatelisteners";k.type="postcreate";d(k)}return this}),move:c(function(b,f){this.__kbnonproxy.set(f,b[f]);q(b)?b.del(f):(b[f]=null,delete b[f]);return this}),copy:c(function(b,f){var d=this.__kbnonproxy;q(b)?"default"===b.__kbname?d.merge(b[f],f):d.addPointer(b,
f):d.set(f,b[f]);return this}),merge:c(function(b,f){function d(b,f){for(var h=q(b)?b.keys("object"):Object.keys(b),g,e=0,c=h.length;e<c;e++)g=b[h[e]],"object"===typeof g&&-1===k.indexOf(g)&&"undefined"!==f[h[e]]?d(g,f):void 0===f[h[e]]&&f.set(h[e],"object"===typeof g?{}:g)}var k=[],h=this.__kbnonproxy;f&&void 0===h[f]&&h.set(f,{});d(b,f?h[f]:h);return this}),replace:c(function(b,f){function d(b,f){var h=q(b)?b.keys("object"):Object.keys(b),g;g=b[h[x]];"object"===typeof g&&-1===k.indexOf(g)&&"undefined"!==
f[h[x]]?d(g,f):f.set(h[x],"object"===typeof g?{}:g)}var k=[],h=this.__kbnonproxy;f&&void 0===h[f]&&h.set(f,{});d(b,f?h[f]:h);return this}),copyWithin:c(function(b,f,h){f=f||0;h=h||0;var k=new D(this,b,"copyWithin",this[b],void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;if(!0!==d(k)&&b<g.length){b=0>b?g.length-1:b;f=f<g.length?f:g.length-1;h=h<g.length?h:g.length-1;f=0>f?g.length-1:f;h=0>f?g.length-1:h;for(var e=f;e<=h;e++)g.set(b+(e-f),g[e]);k.type="postcopyWithin";k.listener="__kbmethodupdatelisteners";
d(k)}return this}),fill:c(function(b,f,h){f=void 0!==f?Math.max(0,f):0;h=void 0!==h&&h<=this.length?Math.min(this.length,Math.max(0,h)):this.length;var k=new D(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;if(!0!==d(k)){for(var e=a.key;e<h;e++)g[e]=b;k.type="postfill";k.listener="__kbmethodupdatelisteners";d(k)}return this}),pop:c(function(){var b=new D(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;
if(!0!==d(b)){var h=f[f.length-1];f.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";d(b);return h}return null}),push:c(function(b){var f=new D(this,this.length,"push",b,void 0,arguments,"__kbmethodlisteners"),h=this.__kbnonproxy;!0!==d(f)&&(h.set(h.length,b),f.type="postpush",f.listener="__kbmethodupdatelisteners",d(f));return this.length}),reverse:c(function(){var b=new D(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var h=
null,k=null,g=f.length,h=0;h<g/2;h+=1){var k=g-1-h,e=f[h];f[h]=f[k];f[k]=e}b.type="postreverse";b.listener="__kbmethodupdatelisteners";d(b)}return this}),shift:c(function(){var b=new D(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var h=a.key,k=this.length-1;h<k;h++)f[h]=f[h+1];f.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";d(b)}return null}),sort:c(function(){var b=new D(this,void 0,"sort",void 0,void 0,arguments,
"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){var e=g.call(f);h.apply(e,arguments);for(var k=0,c=e.length;k<c;k++)f[k]=e[k];b.type="postsort";b.listener="__kbmethodupdatelisteners";d(b)}return this}),splice:c(function(b,f,h){b="string"===typeof b?parseInt(b,10):b;var k=new D(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;if(!0!==d(k)){var e=[],c=Array.prototype.slice.call(arguments,2),r=c.length-2,l=0;if(0!==f&&void 0!==g[b-1+f])for(var w=0,m=f;w<m;w++){e.push(g[b+
w]);for(var y=b+w,t=this.length-1;y<t;y++)g[y]=g[y+1];g.del(g.length-1,!0)}if(0!==r)for(w=0,m=r;w<m;w++){l=b+Math.min(1,w);y=g.length;for(t=l;y>t;y--)g.set(y,g[y-1]);g.set(l,c[w])}k.type="postsplice";k.listener="__kbmethodupdatelisteners";d(k);return e}return[]}),unshift:c(function(){var b=new D(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var h=Array.prototype.slice.call(arguments),g=f.length-1+h.length,e=h.length;-1!==g;g--)g<e?f.set(g,h[g]):
f.set(g,f[g-h.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";d(b)}return this.length}),getLayer:c(function(b){function f(b){var d=b[0];return void 0===this[d]&&0!==b.length-1?null:q(this[d])?0!==b.length-1?(b.shift(),f.call(this[d],b)):this[d]:this}b=y(b);return f.call(this,b)}),setLayer:c(function(b){function f(b){var d=b[0];void 0===this[d]&&0!==b.length-1&&(this[d]=N({},this.__kbname,this,this.__kbscopeString+"."+d));return q(this[d])?0!==b.length-1?(b.shift(),f.call(this[d],
b)):this[d]:this}b=y(b);return f.call(this,b)}),ignoreCreate:c(function(b){-1===m.indexOf(b)&&m.push(b);return this}),addActionListener:c(function(b,f){var d=this.__kbnonproxy;void 0!==d.__kbref.__kbevents[b]&&d.__kbref.__kbevents[b].push(f);return this}),removeActionListener:c(function(b,f){var d=this.__kbnonproxy;if(void 0!==d.__kbref.__kbevents[b])for(var h=0,g=d.__kbref.__kbevents[b];h<g;h++)if(d.__kbref.__kbevents[b][h].toString()===f.toString()){d.__kbref.__kbevents[b].splice(h,1);break}return this}),
subscribe:c(function(b,f){var d=b.split("."),h=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):this.__kbnonproxy;void 0===d.__kbsubscribers[h]&&(d.__kbsubscribers[h]=[]);d.__kbsubscribers[h].push(f);return this}),unsubscribe:c(function(b,f){var d=b.split("."),h=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):this.__kbnonproxy;if(void 0!==d.__kbsubscribers[h])for(var g=0,e=d.__kbsubscribers[h].length;g<e;g++)if(d.__kbsubscribers[h][g].toString()===f.toString()){d.__kbsubscribers[h].splice(g,
1);break}return this}),subscribeDeep:c(function(b,d){function h(b,g){var e=Object.keys(b,"all").filter(function(d){return q.call(b[d])}.bind(b));if(void 0!==b[g]||"*"===g)void 0===b.__kbparentsubscribers[g]&&(b.__kbparentsubscribers[g]=[]),b.__kbparentsubscribers[g].push(d);for(var k=0,c=e.length;k<c;k++)h(b[e[k]],g)}var g=-1!==b.indexOf("*"),e=b.split(".");e.slice(0,e.indexOf("*"));var c=-1!==e.indexOf("*")?e.slice(e.indexOf("*"),e.length):[],r=1===c.length,l=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):
this.__kbnonproxy;g?r?h(e,"*"):(c.shift(),e.subscribeDeep(c.join("."),d)):h(e,l);return this}),unsubscribeDeep:c(function(b,d){function h(b,g){var e=Object.keys(b,"all").filter(function(d){return q.call(b[d])&&!(b[d]instanceof HTMLElement)}.bind(b));if((void 0!==b[g]||"*"===g)&&void 0!==b.__kbparentsubscribers[g])for(var k=0,c=b.__kbparentsubscribers[g].length;k<c;k++)b.__kbparentsubscribers[g][k].toString()===d.toString()&&b.__kbparentsubscribers[g].splice(k,1);k=0;for(c=e.length;k<c;k++)h(b[e[k]],
g)}var g=-1!==b.indexOf("*"),e=b.split(".");e.slice(0,e.indexOf("*"));var c=-1!==e.indexOf("*")?e.slice(e.indexOf("*"),e.length):[],r=1===c.length,l=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;g?r?h(e,"*"):(c.shift(),e.unsubscribeDeep(c.join("."),d)):h(e,l);return this}),callSubscribers:c(function(b,d,h,g,e,c){var r=this.__kbnonproxy;if(void 0!==r.__kbsubscribers[h])for(var l=0,w=r.__kbsubscribers[h].length;l<w;l++)r.__kbsubscribers[h][l].call(this,{key:h,value:g,
oldValue:e,stopChange:c,local:d,kbref:b});if(void 0!==r.__kbparentsubscribers[h])for(l=0,w=r.__kbparentsubscribers[h].length;l<w;l++)r.__kbparentsubscribers[h][l].call(this,{key:h,value:g,oldValue:e,stopChange:c,local:d,kbref:b});if(void 0!==r.__kbsubscribers["*"])for(l=0,w=r.__kbsubscribers["*"].length;l<w;l++)r.__kbsubscribers["*"][l].call(this,{key:h,value:g,oldValue:e,stopChange:c,local:d,kbref:b});if(void 0!==r.__kbparentsubscribers["*"])for(l=0,w=r.__kbparentsubscribers["*"].length;l<w;l++)r.__kbparentsubscribers["*"][l].call(this,
{key:h,value:g,oldValue:e,stopChange:c,local:d,kbref:b});return this}),callAllSubscribers:c(function(){function b(b,d,h){for(var g=0,e=d.length;g<e;g++)d[g].call(b,{key:h,value:b[h],oldValue:b[h],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(d){for(var h=Object.keys(d.__kbsubscribers),g=Object.keys(d.__kbparentsubscribers),e=0,c=h.length;e<c;e++)if(0!==d.__kbsubscribers[h[e]].length)if("*"===h[e])for(var r=0,l=Object.keys(d),w=l.length;r<w;r++)b(d,d.__kbsubscribers[h[e]],l[r]);else b(d,
d.__kbsubscribers[h[e]],h[e]);e=0;for(c=g.length;e<c;e++)if(0!==d.__kbparentsubscribers[g[e]].length)if("*"===g[e])for(r=0,l=Object.keys(d),w=l.length;r<w;r++)b(d,d.__kbparentsubscribers[g[e]],l[r]);else b(d,d.__kbparentsubscribers[g[e]],g[e])})(this.__kbnonproxy);return this}),stopChange:c(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(N.prototype,{addDataListener:c(t("addDataListener","__kblisteners")),removeDataListener:c(L("removeDataListener","__kblisteners")),
addDataUpdateListener:c(t("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:c(L("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:c(t("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:c(L("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:c(t("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:c(L("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:c(t("addDataMethodListener",
"__kbmethodlisteners")),removeDataMethodListener:c(L("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:c(t("addDataMethodUpdateListener","__kbmethodupdatelisteners")),removeDataMethodUpdateListener:c(L("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:c(G("addChildDataListener","__kbparentlisteners")),removeChildDataListener:c(K("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:c(G("addChildDataUpdateListener",
"__kbparentupdatelisteners")),removeChildDataUpdateListener:c(K("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:c(G("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:c(K("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:c(G("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:c(K("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return N}}(),
X=function(){return function(){function z(p){if("object"===typeof p)for(var u=0,D=p.length;u<D;u++)K_Components[p[u]]?v(p[u],K_Components[p[u]],document.getElementById("script_"+p[u])):z.load(p[u],"component/"+p[u]+"/"+location.search,v);else"string"===typeof p&&(K_Components[p[u]]?v(p,K_Components[p],document.getElementById("script_"+p)):z.load(p,"component/"+p+"/"+location.search,v))}var v=function(){},u=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});z.getUnknowns=function(p){var v=
p.match(u);return v.map(function(p){return p.replace(/[<\/>]/g,"")}).filter(function(p,c){return document.createElement(p)instanceof HTMLUnknownElement&&-1===v.indexOf(p,c+1)&&!K_Components[p]})};z.load=function(p,v,u){document.head.appendChild(function(c,p,v){var u=document.createElement("script");u.type="text/javascript";u.charset="utf-8";u.async=!0;u.src=p;u.id="script_"+c;u.onload=function(){v(c,K_Components[c],this)};return u}(p,v,u));return z};z.onLoad=function(p){if(void 0===p)return v;v="function"===
typeof p?p:v;return z};return z}}(),V=function(){function z(){function v(d,h){var g=d.length,e;for(e=0;e<g&&(d[e](h),void 0===h._stopPropogation);e++);}function u(d,h){var g=d.length,e;for(e=0;e<g&&(h.child=h.target,h.target=d[e].parent,d[e].func(h),void 0===h._stopPropogation);e++);}function p(d,h){for(var g=d.length;0<g;l++)if(d[l].toString()===h.toString())return!0;return!1}function z(d,h,g,e,b,f,c,k){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=
!0};this.value=g;this.oldValue=e;this.target=d;this.attr=h;this.arguments=b;this.action=f;this.child=void 0;this.type=c;this.stopChange=k}function D(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function c(d,h,g,e){var b=d.get,f=d.set,c;return function(d){c=b.call(this);g(this,h,d,c,void 0,
this._stopChange)&&f.call(this,d);this._stopChange||e(this,h,d,c);this._stopChange=void 0}}function R(d,h,g,e){var b;return function(f){b=d.value;g(this,h,f,b,arguments,this._stopChange)&&(d.value=f);this._stopChange||e(this,h,f,b,arguments);this._stopChange=void 0}}function T(d,h,g,e){var b=d.value,f;return function(){g(this,h,null,null,arguments,this._stopChange)&&(f=b.apply(this,arguments));this._stopChange||e(this,h,null,null,arguments,f);this._stopChange=void 0;return f}}function H(d,h,g,e,b){var f=
b.style,c=h.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),k,l;return{get:function(){return l},set:function(d){k=l;g(b,h,d,k,void 0,this._stopChange)&&(l=d,f.setProperty(c,d));this._stopChange||e(b,h,d,k);this._stopChange=void 0},enumerable:!0,configurable:!0}}function P(d,h,g,e){if("function"!==typeof h)return q;var b=-1!==["value","checked"].indexOf(d),f=-1!==G.indexOf(d),c;if(this.toString()!==q.toString())if(g){var k=this.querySelectorAll("*");g=k.length;for(var l,m=0;m<g;m++){l=k[m].attrListeners();
if(b||"*"===d)void 0!==k[m].addInputBinding&&k[m].addInputBinding(),void 0!==k[m].addInputBoxBinding&&k[m].addInputBoxBinding();if(f)q.injectStyleProperty(k[m],d),c=e?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===d){c=e?"_parentStyleUpdateListeners":"_parentStyleListeners";g=G.length;for(var t=0;t<g;t++)q.injectStyleProperty(k[m],G[t]);void 0===l[c]["*"]&&(l[c]["*"]=[]);l[c]["*"].push({parent:this,func:h})}c=e?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===l[c][d]&&
(l[c][d]=[]);l[c][d].push({parent:this,func:h})}}else{l=this.attrListeners();if(f)c=e?"_styleUpdateListeners":"_styleListeners",q.injectStyleProperty(this,d);else{if(b||"*"===d)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===d){c=e?"_styleUpdateListeners":"_styleListeners";g=G.length;for(m=0;m<g;m++)q.injectStyleProperty(this,G[m]);void 0===l[c][d]&&(l[c][d]=[]);l[c][d].push(h)}c=e?"_attrUpdateListeners":"_attrListeners"}void 0===
l[c][d]&&(l[c][d]=[]);l[c][d].push(h)}else{if(b||"*"===d)for(t=document.querySelectorAll("input, textarea"),g=t.length,m=0;m<g;m++)void 0!==t[m].addInputBinding&&t[m].addInputBinding(),void 0!==t[m].addInputBoxBinding&&t[m].addInputBoxBinding();if(f){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));g=f.length+1;f.unshift(document.body);for(m=0;m<g;m++)q.injectStyleProperty(f[m],d);c=e?y:w}else{if("*"===d){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));g=f.length+
1;b=G.length;f.unshift(document.body);for(m=0;m<g;m++)for(t=0;t<b;t++)q.injectStyleProperty(f[m],G[t]);c=e?y:w;void 0===c[d]&&(c[d]=[]);c[d].push(h)}c=e?F:M}void 0===c[d]&&(c[d]=[]);c[d].push(h)}}function O(d,h,g,e){function b(b,d){var f=d[b],g=f.length;for(c=0;c<g;c++)f[c].toString()===h.toString()&&f.splice(c,1)}if("function"!==typeof h)return q;["value","checked"].indexOf(d);var f=-1!==G.indexOf(d),c;if(this.toString()!==q.toString())if(g){g=this.querySelectorAll("*");var k=g.length;f?(f=e?"_childStyleUpdateListeners":
"_childStyleListeners",b(d,this.attrListeners()[f]),f=e?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===d&&(f=e?"_childStyleUpdateListeners":"_childStyleListeners",b(d,this.attrListeners()[f])),f=e?"_childAttrUpdateListeners":"_childAttrListeners",b(d,this.attrListeners()[f]),f=e?"_parentAttrUpdateListeners":"_parentAttrListeners");for(c=0;c<k;c++){for(var l=g[c].attrListeners()[f][d],m=l.length,t=0;t<m;t++)l[t].isEqualNode(this)&&l.slice(t,1);if("*"===d)for(listenersStyle=e?"_parentStyleUpdateListeners":
"_parentStyleListeners",l=g[c].attrListeners()[f][d],m=l.length,t=0;t<m;t++)l[t].isEqualNode(this)&&l.slice(t,1)}}else f?f=e?"_styleUpdateListeners":"_styleListeners":("*"===d&&(f=e?"_styleUpdateListeners":"_styleListeners",b(d,this.attrListeners()[f])),f=e?"_attrUpdateListeners":"_attrListeners"),b(d,this.attrListeners()[f]);else f?f=e?y:w:("*"===d&&(f=e?y:w,b(d,f)),f=e?F:M),b(d,f)}function S(d,h){q.addAttrListener.call(this,d,h,!0);return this}function Q(d,h){q.addAttrUpdateListener.call(this,d,
h,!0);return this}function I(d,h){q.removeAttrListener.call(this,d,h,!0);return this}function B(d,h){q.removeAttrUpdateListener.call(this,d,h,!0);return this}function E(d,h,g){var e=this.attrListeners();"html"===h&&(h="innerHTML");"events"===h&&(h="onclick");switch(d){case "attr":if(p(e._attrListeners[h],g))return!0;break;case "attrupdate":if(p(e._attrUpdateListeners[h],g))return!0}return!1}function J(){this._stopChange=!0;return this}function q(){function d(b,d){var f,h=d.length;for(f=0;f<h;f++)-1===
b.indexOf(d[f])&&b.push(d[f]);return b}function h(b,d){for(var f=Object.keys(b),h,g,e=0,c=f.length;e<c;e++)if(h=f[e],void 0===d[h])d[h]=b[h].slice();else for(var l=0,r=b[h].length;l<r;l++)g=b[h][l],d[h].push(g)}function g(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var f=b.target.attrListeners(),g,e=["value","checked"],c=f._attrListeners,l=f._attrUpdateListeners,r=f._parentAttrListeners;g=f._parentAttrUpdateListeners;var n=!1;if(void 0!==M["*"]||void 0!==F["*"])n=!0;if(!0!==n&&void 0!==c["*"]||
void 0!==l["*"]||void 0!==r["*"]||void 0!==g["*"])n=!0;if(!0!==n)for(var m=0;m<e.length;m++)if(void 0!==M[e[m]]||void 0!==F[e[m]]||void 0!==c[e[m]]||void 0!==l[e[m]]||void 0!==r[e[m]]||void 0!==g[e[m]]){n=!0;break}g=n;e=Object.keys(w);c=Object.keys(y);Object.keys(f._styleListeners);Object.keys(f._styleUpdateListeners);l=Object.keys(f._parentStyleListeners);f=Object.keys(f._parentStyleUpdateListeners);r=[];if(0!==e.length||0!==c.length)r=d(r,e),r=d(r,c);if(0!==r.length&&0!==l.length||0!==f.length)r=
d(r,l),r=d(r,f);-1!==r.indexOf("*")&&(r=G);var f=r,e=f.length,t,p,c=[],v,l="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,r=b.target;void 0!==l&&(b.attr="appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(g){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?(c=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||c.unshift(b.arguments[0])):c=
Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));v=c.length;for(var u=0;u<v;u++)void 0!==c[u].addInputBinding&&c[u].addInputBinding(),void 0!==c[u].addInputBoxBinding&&c[u].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(c=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),c.unshift(b.arguments[0])):c=Array.prototype.slice.call(b.target.querySelectorAll("*"));g=b.target.__kb._parentAttrListeners;
n=b.target.__kb._parentAttrUpdateListeners;m=b.target.__kb._parentStyleListeners;t=b.target.__kb._parentStyleUpdateListeners;v=c.length;for(u=0;u<v;u++){if(0!==e)for(p=0;p<e;p++)q.injectStyleProperty(c[u],f[p]);p=c[u].attrListeners();h(g,p._parentAttrListeners);h(n,p._parentAttrUpdateListeners);h(m,p._parentStyleListeners);h(t,p._parentStyleUpdateListeners)}void 0!==l&&(b.attr=l,b.target=r,b.arguments=[])}}function c(b){var d=b.target.attributes[b.arguments[0]],h="setAttribute"===b.attr?b.arguments[1]:
"";f(b.target,b.arguments[0],h,void 0!==d?d.value:"",[h])||b.preventDefault()}function b(b){var d=b.target.attributes[b.arguments[0]],f="setAttribute"===b.attr?b.arguments[1]:"";l(b.target,b.arguments[0],f,void 0!==d?d.value:"",[f])}q.injectPrototypes(Node,"Node");q.injectPrototypes(Element,"Element");q.injectPrototypes(HTMLElement,"HTMLElement");q.injectPrototypes(HTMLInputElement,"HTMLInputElement");q.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");q.injectPrototypes(Document,"Document");
var f=m,l=e;q.addAttrUpdateListener("appendChild",g);q.addAttrUpdateListener("removeChild",g);q.addAttrUpdateListener("innerHTML",g);q.addAttrUpdateListener("outerHTML",g);q.addAttrUpdateListener("innerText",g);q.addAttrUpdateListener("outerText",g);q.addAttrUpdateListener("textContent",g);q.addAttrListener("setAttribute",c);q.addAttrListener("removeAttribute",c);q.addAttrUpdateListener("setAttribute",b);q.addAttrUpdateListener("removeAttribute",b);return q}var M={},F={},w={},y={},t={},L="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
G=Object.getOwnPropertyNames(document.documentElement.style),K=Object.keys(HTMLElement.prototype).filter(function(d){return 0===d.indexOf("on")}).concat(["addEventListener","removeEventListener"]),l,m=function(d,h,e,c,b,f){e=new z(d,h,e,c,b,void 0,"set",f);void 0!==d.__kb&&(c=d.__kb._attrListeners,b=d.__kb._styleListeners,f=d.__kb._parentAttrListeners,d=d.__kb._parentStyleListeners,void 0!==c[h]&&v(c[h],e),void 0===e._stopPropogation&&void 0!==b[h]&&v(b[h],e),void 0===e._stopPropogation&&void 0!==
c["*"]&&(v(c["*"],e),void 0===e._stopPropogation&&v(b["*"],e)),void 0===e._stopPropogation&&void 0!==f[h]&&u(f[h],e),void 0===e._stopPropogation&&void 0!==d[h]&&u(d[h],e),void 0===e._stopPropogation&&void 0!==f["*"]&&(u(f["*"],e),void 0===e._stopPropogation&&u(d["*"],e)));void 0===e._stopPropogation&&void 0!==M[h]&&v(M[h],e);void 0===e._stopPropogation&&void 0!==w[h]&&v(w[h],e);void 0===e._stopPropogation&&void 0!==M["*"]&&(v(M["*"],e),void 0===e._stopPropogation&&v(w["*"],e));return void 0!==e._preventDefault?
!1:!0},e=function(d,e,g,c,b,f){g=new z(d,e,g,c,b,f,"update");void 0!==d.__kb&&(c=d.__kb._attrUpdateListeners,b=d.__kb._styleUpdateListeners,f=d.__kb._parentAttrUpdateListeners,d=d.__kb._parentStyleUpdateListeners,void 0!==c[e]&&v(c[e],g),void 0===g._stopPropogation&&void 0!==b[e]&&v(b[e],g),void 0===g._stopPropogation&&void 0!==c["*"]&&(v(c["*"],g),void 0===g._stopPropogation&&v(b["*"],g)),void 0===g._stopPropogation&&void 0!==f[e]&&u(f[e],g),void 0===g._stopPropogation&&void 0!==d[e]&&u(d[e],g),
void 0===g._stopPropogation&&void 0!==f["*"]&&(u(f["*"],g),void 0===g._stopPropogation&&u(d["*"],g)));void 0===g._stopPropogation&&void 0!==F[e]&&v(F[e],g);void 0===g._stopPropogation&&void 0!==y[e]&&v(y[e],g);void 0===g._stopPropogation&&void 0!==F["*"]&&(v(F["*"],g),void 0===g._stopPropogation&&v(y["*"],g));return void 0!==g._preventDefault?!1:!0};q.injectPrototypeProperty=function(d,h,g,l,b){var f=d.prototype,n=Object.getOwnPropertyDescriptor(f,h);g=g||d.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var k=t[g];l=l||m;b=b||e;void 0===f.attrListeners&&(f={},f.attrListeners=function(){void 0===this.__kb&&(this.__kb=new D);return this.__kb}.bind(f),f.addAttrListener=q.addAttrListener,f.addAttrUpdateListener=q.addAttrUpdateListener,f.addChildAttrListener=S,f.addChildAttrUpdateListener=Q,f.hasListener=E,f.removeAttrListener=q.removeAttrListener,f.removeAttrUpdateListener=q.removeAttrUpdateListener,f.removeChildAttrListener=I,f.removeChildAttrUpdateListener=B,f.stopChange=J);void 0===k&&(t[g]={obj:d,
proto:f,descriptors:{},set:void 0,update:void 0},k=t[g],k.set=l,k.update=b);void 0===k.descriptors[h]&&(k.descriptors[h]=n);n.configurable&&(void 0!==n.set?Object.defineProperty(f,h,{get:n.get,set:c(n,h,l,b),enumerable:!0,configurable:!0}):"function"===typeof n.value?Object.defineProperty(f,h,{value:T(n,h,l,b),writable:!0,enumerable:!0,configurable:!0}):void 0!==n.value&&Object.defineProperty(f,h,{get:function(){return n.value},set:R(n,h,l,b),enumerable:!0,configurable:!0}));return q};q.injectStyleProperty=
function(d,h,g,c){var b=d.style,f=Object.getOwnPropertyDescriptor(b,h),l=d.attrListeners().injectedStyle;g=g||m;c=c||e;void 0===l&&(d.attrListeners().injectedStyle={obj:d,proto:b,descriptors:{},set:void 0,update:void 0},d.attrListeners().injectedStyle.set=g,d.attrListeners().injectedStyle.update=c,l=d.attrListeners().injectedStyle);void 0===l.descriptors[h]&&(l.descriptors[h]=f);f.configurable&&Object.defineProperty(b,h,H(f,h,g,c,d));return q};q.injectPrototypes=function(d,h,g,c){var b=d.prototype;
h=h||d.toString().split(/\s+/)[1].split("{")[0].replace("()","");var f=t[h],l=Object.getOwnPropertyNames(b);g=g||m;c=c||e;var k;void 0===b.attrListeners&&(b.attrListeners=function(){void 0===this.__kb&&(this.__kb=new D);return this.__kb},b.addAttrListener=q.addAttrListener,b.addAttrUpdateListener=q.addAttrUpdateListener,b.addChildAttrListener=S,b.addChildAttrUpdateListener=Q,b.removeAttrListener=q.removeAttrListener,b.removeAttrUpdateListener=q.removeAttrUpdateListener,b.removeChildAttrListener=I,
b.removeChildAttrUpdateListener=B,b.hasListener=E,b.stopChange=J);void 0===f&&(t[h]={obj:d,proto:b,descriptors:{},set:void 0,update:void 0},f=t[h],f.set=g,f.update=c);k=t[h].descriptors;for(c=0;c<l.length;c+=1)void 0===k[l[c]]&&q.injectPrototypeProperty(d,l[c],h,g,e);if(-1!==l.indexOf("value")){var w=function(b){var d,e,h;if("checkbox"===this.type||"radio"===this.type)d=!0;e=d?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){h=d?"string"===typeof this.checked?
this.checked:this.checked?"true":"false":this.value;d&&(f.set(this,"checked",this.checked,e)?f.update(this,"checked",this.checked,e):k.checked.set.call(this,e));this.value!==h&&(this.value=h);f.set(this,"value",this.value,e)?f.update(this,"value",this.value,e):k.value.set.call(this,e)}.bind(this),0)};b.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",w)};b.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",
w)};b.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",w)};b.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",w)}}return q};q.addAttrListener=function(d,e,g){if("html"===d){d=0;for(var c=L.length;d<c;d++)P.call(this,L[d],e,g,!1)}else if("events"===d)for(d=0,c=K.length;d<c;d++)P.call(this,K[d],e,g,!1);else P.call(this,d,e,g,!1);return this};q.addAttrUpdateListener=function(d,e,g){if("html"===
d){d=0;for(var c=L.length;d<c;d++)P.call(this,L[d],e,g,!0)}else if("events"===d)for(d=0,c=K.length;d<c;d++)P.call(this,K[d],e,g,!0);else P.call(this,d,e,g,!0);return this};q.removeAttrListener=function(d,e,g){if("html"===d){d=0;for(var c=L.length;d<c;d++)O.call(this,L[d],e,g,!1)}else if("events"===d)for(d=0,c=K.length;d<c;d++)O.call(this,K[d],e,g,!1);else O.call(this,d,e,g,!1);return this};q.removeAttrUpdateListener=function(d,e,g){if("html"===d){d=0;for(var c=L.length;d<c;d++)O.call(this,L[d],e,
g,!0)}else if("events"===d)for(d=0,c=K.length;d<c;d++)O.call(this,K[d],e,g,!0);else O.call(this,d,e,g,!0);return this};q.hasListener=function(d,e,g){"html"===e&&(e="innerHTML");"events"===e&&(e="onclick");switch(d){case "attr":if(p(M[e],g))return!0;break;case "attrupdate":if(p(F[e],g))return!0}return!1};q.injectedPrototypes=function(){return t};return q}"function"===typeof define&&define.amd&&define("KB",z);return z}(),Y=function(z){return function(){function v(c){document.createDocumentFragment();
this.name=c.tagName.toLowerCase();this.template=J[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=c;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name}function u(c,y,t,p){return{value:c,writable:!!y,enumerable:!!p,configurable:!!t}}function p(){return new RegExp("(\\"+I.split("").join("\\")+")(.*?)(\\"+B.split("").join("\\")+")","g")}function N(c){return c.split(new RegExp("("+
I.split("").join("\\")+")(.*?)("+B.split("").join("\\")+")","g")).map(function(c,w,p){return p[w-1]===I?I+c+B:c}).filter(function(c,w,p){return 0!==c.length&&c!==I&&c!==B&&0!==c.length})}function D(c){return c.replace(new RegExp("["+I+B+"]","g"),"").replace(new RegExp("(\\"+E.split("").join("\\")+"(.*?)+)","g"),"").replace(/\s/g,"")}function c(c){return c.reduce(function(c,w){w.match(/(\()(.*?)(\))/)?c.vmFilters[c.vmFilters.length]=w.replace(/[\(\)]/g,""):w.match(/(\[)(.*?)(\])/)?-1!==w.indexOf("~")?
c.model[c.model.length]=w.replace(/[\[\]\~]/g,""):-1!==w.indexOf("+")?c.local[c.local.length]=w.replace(/[\[\]\+]/g,""):c.session[c.session.length]=w.replace(/[\[\]\-]/g,""):c.filters[c.filters.length]=w;return c},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function R(c){return-1!==c.indexOf("for")?c.replace(new RegExp("["+I+B+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(c){return 0!==c.length}):[]}function T(c){if(2>c.split("==").length&&2>
c.split("<=").length&&2>c.split(">=").length&&-1!==c.indexOf("="))return c.substring(c.indexOf("=")+1,c.length)}function H(c){var y=c.match(/^(\s*)(>)((.*?)+)/),t=c.match(/^(\s*)(<)((.*?)+)/);c=c.replace(/(^<|^>)((.*?)+)/,"$2");var p=T(c),q=c.match(/((==|<=|>=|<|>)((.*?)+))/g),u=c.match(/(([\+\*-\/])((.*?)+))/g);return{type:y?"insert":t?"outsert":void 0,set:p!==c?p:void 0,filters:q||u?{boolFilter:q?eval("(function(){ return function(v){ return (v"+q[0]+");};}())"):void 0,mathFilter:u?eval("(function(){ return function(v){ return (v"+
u[0]+");};}())"):void 0}:void 0}}function P(c){if(0!==c.length){for(var p="",t=0,q=c.length;t<q;t++)if("string"===typeof c[t])p+=c[t];else if(void 0===c[t]._data)p+=c[t].text;else var u=c[t]._data.get(c[t].key),p=p+O(void 0!==u?u:"",c[t].filters.filters,c[t]._data.filters);return p}return O(c[0]._data.get(c[0].key)||"",c[0].filters.filters,c[0]._data.filters)}function O(c,p,t){for(var q=0,u=p.length;q<u;q++)t[p[q]]&&(c=t[p[q]](c));return c}function S(c,p,t,q){for(var u=0,v=p.length;u<v;u++)if(t[p[u]])t[p[u]](c,
q);return c}function Q(){function p(e,d){var h=H(d);this.text=e;this.key=d.replace(/(^>|^<*)(.*?)([=*+-\/<>]+)((.*?)+)/g,"$2").replace(/\s/g,"");this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var g;g=-1!==e.indexOf(E)?e.replace(new RegExp("["+B+"]","g"),"").replace(new RegExp("(.*?)(\\"+E.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[];this.filters=c(g);this.component="for"===this.type?R(e)[1]:void 0;this.id=0;this.subType=h.subtype;this.set=h.set;
this.inlineFilters=h.filters}function q(e,d){for(var c=0,g=d.length;c<g;c++)e.stopChange().appendChild(d[c])}function t(e){if(e&&window.model)return window.model.get(e[0])}function v(e,d){if(d&&0!==d.length&&window.model)for(var c=0,g=d.length;c<g;c++)window.model.set(d[c],e)}function G(e){if(e&&window.localStorage)return localStorage.getItem(e[0])}function z(e,d){if(e&&0!==e.length&&window.localStorage)for(var c=0,g=e.length;c<g;c++)localStorage.setItem(e[c],d)}function l(e){if(e&&window.sessionStorage)return sessionStorage.getItem(e[0])}
function m(e,d){if(e&&0!==e.length&&window.sessionStorage)for(var c=0,g=e.length;c<g;c++)sessionStorage.setItem(e[c],d)}Object.defineProperties(p.prototype,{addPointer:u(function(e){for(var d=document.createElement(this.component),c=S(this._data.getLayer(this.key),this.filters.filters,this._data.filters,e)[e],g=0,l=Object.keys(c,"all"),b=l.length;g<b;g++)d.k_post||(d.k_post={}),d.k_post[l[g]]=c,d.k_post.x=e,d.k_post.loopid=this.component+"_"+e;e>=this.node.children.length?this.node.stopChange().appendChild(d):
this.node.stopChange().insertBefore(d,this.node.children[e]);e={event:"loopitem",node:d,parent:this.node};d=F[e.event];c=0;for(g=d.length;c<g;c++)d[c](e);return this}),removePointer:u(function(e){for(var d=this.node.children[e].kb_maps,c=0,g=Object.keys(this.node.children[e].kb_viewmodel.pointers),l=g.length;c<l;c++){var b=d[g[c]];if(b)for(var f=0,m=b.length;f<m;f++)b[f].unsync(),b[f]=null,delete b[f]}this.node.stopChange().removeChild(this.node.children[e]);c=0;for(l=this.node.children.length;c<
l;c++)this.node.children[c].kb_viewmodel.x=c,e=this.node.children[c].kb_viewmodel.loopid,this.node.children[c].kb_viewmodel.loopid=e.substring(0,e.lastIndexOf("_")+1)+c;return this}),reapplyPointer:u(function(e){for(var d=this.node.children[e].kb_maps,c=this.node.children[e].kb_viewmodel.loopid,g=0,l=Object.keys(this.node.children[e].kb_viewmodel.pointers),b=l.length;g<b;g++){var f=d[l[g]];if(void 0!==f)for(var m=0,k=f.length;m<k;m++)f[m].reconnect()}this.node.children[e].kb_viewmodel.x=e;this.node.children[e].kb_viewmodel.loopid=
c.substring(0,c.lastIndexOf("_")+1)+e;return this}),connect:u(function(e){var d=this;this._data=e;if("for"!==this.type){if(this.insert){this.setDom(this._data.get(this.key));this.unsync();return}if(this.set){var c=!isNaN(parseInt(this.set,10))&&parseInt(this.set,10).toString().length===this.set.length,g="true"===this.set.replace(/\s/g,"")||"false"===this.set.replace(/\s/g,""),m=-1!==this.set.indexOf('"')||-1!==this.set.indexOf("'");(this.set=c?parseInt(this.set,10):g?"true"===this.set.replace(/\s/g,
""):m?this.set.replace(/((\s*\"|\')(.*?)(\"|\'))/g,"$3"):void 0)&&this._data.set(this.key,this.set)}if(this.outsert){this.setDom("");this.unsync();return}this.inlineFilters&&(this.inlineFilters.boolFilter?(this.filters.filters.unshift("boolFilter"),this._data.filters.boolFilter=this.inlineFilters.boolFilter):(this.filters.filters.unshift("mathFilter"),this._data.filters.mathFilter=this.inlineFilters.mathFilter));this.dataListener=function(b){"delete"===b.event?d.unsync():d.setDom(b.value)};e.getLayer(this.key).addDataUpdateListener(this.localKey,
this.dataListener);1===this.bindText.length&&(this.domListener=function(b){d.setData(b.value)},this.node.addAttrUpdateListener(this.listener,this.domListener))}else this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");d.setLoop(b.key,b.event)},e.getLayer(this.key).addDataMethodUpdateListener(this.dataListener);"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,t(this.filters.model)):this.filters.session&&
0!==this.filters.session.length?this._data.stopChange().set(this.key,l(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,G(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",q(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=P(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(e=this._data.get(this.key),
this.node.stopChange()[this.attr]=void 0!==e?e:"")));return this}),reconnect:u(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:u(function(){this.node.stopChange().innerHTML="";for(var e=0,d=S(this._data.get(this.key),
this.filters.filters,this._data.filters).length;e<d;e++)this.setLoop(e,"create");return this}),setData:u(function(e){e=O(e,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,e);v(this.filters.model,e);m(this.filters.session,e);z(this.filters.local,e);return this}),setDom:u(function(e){v(this.filters.model,e);m(this.filters.session,e);z(this.filters.local,e);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&-1!==["value","checked"].indexOf(this.attr)?
this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",q(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=P(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(e=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==e?e:""));return this}),setLoop:u(function(e,d){switch(d){case "create":this.addPointer(e);break;case "delete":this.removePointer(e);break;case "set":this.reapplyPointer(e);
break;default:if("push"!==d)for(var c=0,g=this._data.getLayer(this.key).length;c<g;c++)this.reapplyPointer(c)}return this}),bindMaps:u([]),unsync:u(function(){this._data=this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this}),reset:u(function(){"for"===this.type?this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener).addDataMethodUpdateListener(this.extraListener):(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,
this.dataListener).addDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener).addAttrUpdateListener(this.listener,this.domListener))})});return p}var I="{{",B="}}",E="|",J={},q=/(<\/.*?>)/g;z().call();var M=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}),F={loopitem:[]};v.start=function(c){if(void 0===c)return I;I="string"===typeof c?c:I;return v};v.end=function(c){if(void 0===
c)return B;B="string"===typeof c?c:B;return v};v.pipe=function(c){if(void 0===c)return E;E="string"===typeof c?c:E;return v};v.getUnknown=function(c){var p=c.match(q).map(function(c){return c.replace(/[<\/>]/g,"")});p.filter(function(c,q){return document.createElement(c)instanceof HTMLUnknownElement&&-1===p.indexOf(c,q+1)&&void 0===J[c]});return p};v.isRegistered=function(c){return void 0!==J[c]};v.register=function(c,p){void 0===J[c]?(J[c]=p,v.getUnknown(p)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",
c);return this};v.addEventListener=function(c,p){void 0!==F[c]?F[c].push(p):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",c);return v};v.removeEventListener=function(c,p){if(void 0!==F[c])for(var t=0,q=F[c].length;t<q;t++)F[c][t].toString()===p.toString()&&F[c].splice(t,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",c);return v};Object.defineProperties(v.prototype,{register:u(v.register),isRegistered:u(v.isRegistered),
getUnknown:u(v.getUnknown),map:u(function(c){function q(t,u){for(var v=0,z=t.length;v<z;v++)if(void 0===t[v].kb_maps&&8!==t[v].nodeType){t[v].kb_mapper=c;t[v].kb_maps=u;if(3===t[v].nodeType){var l=t[v],m=u,e=l.textContent;if(e.match(p())){var d=N(e),h=Q();h.prototype.type=e.match(new RegExp("(\\"+I.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+B.split("").join("\\")+")","g"))?"for":"text";h.prototype.text=e;h.prototype.bindText=d;h.prototype.listener="textContent";h.prototype.attr="textContent";
h.prototype.localAttr="textContent";h.prototype.local=l;h.prototype.node=l.parentElement;h.prototype.binds=m;l=0;for(e=d.length;l<e;l++)if(0===d[l].indexOf(I)){var g="for"===h.prototype.type?R(d[l])[0]:D(d[l]),r=new h(d[l],g);void 0===m[g]&&(m[g]=[]);r.bindText[l]=r;r.bindMaps.push(r);r.id=m[g].length;m[g].push(r)}}}else for(m=t[v],d=u,h=Array.prototype.slice.call(m.attributes),l=m instanceof HTMLUnknownElement,e=0,g=h.length;e<g;e++)if(h[e].value.match(p())){var r=N(h[e].value),b=Q();b.prototype.type=
l?"component":"attribute";b.prototype.text=h[e].value;b.prototype.bindText=r;b.prototype.isEvent=-1!==M.indexOf(h[e].name);b.prototype.isInput="input"===m.tagName.toLowerCase();b.prototype.isRadio=b.prototype.isInput?-1!==["radio","checkbox"].indexOf(m.type):!1;b.prototype.listener=h[e].name;b.prototype.attr=h[e].name;b.prototype.localAttr="value";b.prototype.local=h[e];b.prototype.node=m;b.prototype.binds=d;b.prototype.isEvent&&m.removeAttribute(h[e].name);for(var f=0,n=r.length;f<n;f++)if(0===r[f].indexOf(I)){var k=
D(r[f]),C=new b(r[f],k);void 0===d[k]&&(d[k]=[]);C.bindText[f]=C;C.bindMaps.push(C);C.id=d[k].length;d[k].push(C)}}t[v].childNodes&&0!==t[v].childNodes.length&&(u=q(t[v].childNodes,u))}return u}return q(c.childNodes,{})}),insert:u(v.insert)});return v}}(V),Z=function(){return function(){function z(p){0===p.length&&(p=v);document.body.innerHTML="<"+p+"></"+p+">";u(p);return z}var v="",u=function(){};z.base=function(p){if(void 0===p)return v;v="string"===typeof p?p:v;return z};z.onChange=function(p){if(void 0===
p)return u;u="function"===typeof p?p:u;return z};z.watch=function(p){window.onhashchange=p?function(){z(window.location.hash.replace("#",""))}:null;return z};return z}}(),U=function(z,v,u,p,N){return function(u){function c(l,m,e,d){function h(b,c,d,e,f){for(var g=B({},b),h=0,k=Object.keys(e),l=k.length;h<l;h++)-1!==L.indexOf(k[h])?Object.defineProperty(g,k[h],H(e[k[h]],"filters"!==k[h])):e.pointers?void 0===e.pointers[k[h]]&&g.set(k[h],e[k[h]]):g.set(k[h],e[k[h]]);if(e.pointers)for(g.pointers||Object.defineProperty(g,
"pointers",H({},!1,!0)),h=0,k=Object.keys(e.pointers),l=k.length;h<l;h++)g.pointers[k[h]]=e.pointers[k[h]],g.addPointer(g.pointers[k[h]].point,g.pointers[k[h]].key,k[h]);c.apply(g,d);h=0;k=Object.keys(c.prototype);for(l=k.length;h<l;h++)Object.defineProperty(g,[k[h]],H(c.prototype[k[h]],!0));h=0;k=Object.keys(f);for(l=k.length;h<l;h++)-1!==L.indexOf(k[h])?Object.defineProperty(g,k[h],H(f[k[h]],"filters"!==k[h])):f.pointers?void 0===f.pointers[k[h]]&&g.set(k[h],f[k[h]]):g.set(k[h],f[k[h]]);if(f.pointers)for(g.pointers||
Object.defineProperty(g,"pointers",H({},!1,!0)),h=0,k=Object.keys(f.pointers),l=k.length;h<l;h++)g.pointers[k[h]]=f.pointers[k[h]],g.addPointer(g.pointers[k[h]].point,g.pointers[k[h]].key,k[h]);h=0;k=Object.keys(g.filters);for(l=k.length;h<l;h++)g.filters[k[h]]=g.filters[k[h]].bind(g);if(g.sessionStorage){if(c=sessionStorage.getItem(g.id||b))for(c=JSON.parse(c),h=0,k=Object.keys(c),l=k.length;h<l;h++)g.set(k[h],c[k[h]]);else sessionStorage.setItem(g.id||b,g.stringify());g.addChildDataUpdateListener("*",
function(){sessionStorage.setItem(g.id||b,g.stringify())})}if(g.localStorage){if(c=localStorage.getItem(g.id||b))for(c=JSON.parse(c),h=0,k=Object.keys(c),l=k.length;h<l;h++)g.set(k[h],c[k[h]]);else localStorage.setItem(g.id||b,g.stringify());g.addChildDataUpdateListener("*",function(){localStorage.setItem(g.id||b,g.stringify())})}g.store&&M.set(g.id||b,g);return g}function g(b,c,d){b.kb_viewmodel=d;var e=c.maps=c.map(c.wrapper);c.wrapper.kb_maps=e;Object.keys(e).forEach(function(b){e[b].forEach(function(b){switch(b.type){case "for":b.connect(d).createloop();
break;case "component":b.connect(d).unsync();break;default:b.connect(d)}})});c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,c.wrapper)}function p(b,d){f=new J(d,!0);f.wrapper.innerHTML=f.template;f.wrapper.kb_mapper=f.wrapper;Object.defineProperty(f.wrapper,"__kbcomponenttree",H(d.kb_mapper?d.kb_mapper.__kbcomponenttree.slice():[]));d.parentElement.replaceChild(f.fragment,d);m.unshift(f.wrapper);g(f.wrapper,f,h(b,F[b],m,k,q));if(-1===f.wrapper.__kbcomponenttree.indexOf(b)||f.wrapper.kb_viewmodel.multiple){f.wrapper.__kbcomponenttree.push(b);
f.wrapper.className+=" "+f.wrapper.kb_viewmodel.local;f.wrapper.className+=" "+f.wrapper.kb_viewmodel.id;f.wrapper.className+=f.wrapper.kb_viewmodel.loopid?" "+f.wrapper.kb_viewmodel.loopid:"";f.wrapper.kb_viewmodel.subscribeDeep("*",R).callAllSubscribers();f.wrapper.kb_viewmodel.kbnode=f.wrapper;for(var e=f.wrapper.querySelectorAll("*"),l=0,n=e.length;l<n;l++)e[l]instanceof HTMLUnknownElement&&c(e[l])}else console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",
b),console.error("Recursive Component %o on %o",f.wrapper,f.wrapper.parentElement),f.wrapper.parentElement.removeChild(f.wrapper)}var b=l.tagName.toLowerCase(),f,n=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}),k={},q={};void 0===m&&(m=[]);e&&T(e,k);Object.defineProperty(k,"local",H(k.local||"local_"+b+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(k,"id",H(k.id||"id_"+b+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(k,
"filters",H(k.filters||{},!1,!1,!0));"function"!==typeof k.onFinish&&(k.onFinish=function(){});Object.defineProperty(k,"onFinish",H(k.onFinish,!0,!1,!0));"function"!==typeof k.listen&&(k.listen=O);Object.defineProperty(k,"listen",H(k.listen,!0,!1,!0));"function"!==typeof k.unlisten&&(k.unlisten=P);Object.defineProperty(k,"unlisten",H(k.unlisten,!0,!1,!0));"function"!==typeof k.alert&&(k.alert=S);Object.defineProperty(k,"alert",H(k.alert,!0,!1,!0));"string"===typeof k.sessionStorage&&(k.sessionStorage=
"true"===k.sessionStorage);Object.defineProperty(k,"sessionStorage",H(void 0!==k.sessionStorage?k.sessionStorage:!1,!0,!1,!0));"string"===typeof k.localStorage&&(k.localStorage="true"===k.localStorage);Object.defineProperty(k,"localStorage",H(void 0!==k.localStorage?k.localStorage:!1,!0,!1,!0));"string"===typeof k.store&&(k.store="true"===k.store);Object.defineProperty(k,"store",H(void 0!==k.store?k.store:!1,!0,!1,!0));"string"===typeof k.multiple&&(k.multiple="true"===k.multiple);Object.defineProperty(k,
"multiple",H(void 0!==k.multiple?k.multiple:!1,!0,!1,!0));d&&T(d,q);q.innerHTML=Array.prototype.slice.call(l.childNodes);e=0;for(d=l.attributes.length;e<d;e++)q[l.attributes[e].name]=l.attributes[e].value;e=0;for(d=n.length;e<d;e++)l[n[e]]&&(q[n[e]]=l[n[e]]);l.k_post&&T(l.k_post,q);c.isRegistered(b)||l.kb_isLoading?c.isRegistered(b)&&p(b,l):(c.loadWaitList(b,function(c,d){p(b,l)}),c.loadWaitList(b).loading||(c.loadWaitList(b).loading=!0,I(b)))}function R(c){var m=this.__kbref.local,e=this.__kbref.id,
d=this.__kbref.loopid,h=this.__kbscopeString+(0!==this.__kbscopeString.length?".":"")+c.key;if(y[m]&&y[m][h])for(var g=0,p=y[m][h].length;g<p;g++)y[m][h][g](c);if(y[e]&&y[e][h])for(g=0,p=y[e][h].length;g<p;g++)y[e][h][g](c);if(y[d]&&y[d][h])for(g=0,p=y[d][h].length;g<p;g++)y[d][h][g](c)}function T(c,m){var e=Object.keys(c);m.pointers||Object.defineProperty(m,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var d=0,h=e.length;d<h;d++)if(B.prototype.isObservable(c,e[d]))m.pointers[e[d]]=
{key:c.__kbscopeString.split(".").pop(),point:c.__kbImmediateParent};else if(B.prototype.isMixed(c[e[d]]))m.pointers[e[d]]={key:c[e[d]].__kbscopeString.split(".").pop(),point:c[e[d]].__kbImmediateParent};else if(B.prototype.isObject(c[e[d]]))for(var g=0,p=Object.keys(c[e[d]]);g<h;g++)m[e[d]][p[g]]=c[e[d]][p[g]];else if(B.prototype.isArray(c[e[d]]))for(g=0;g<h;g++)m[e[d]][g]=c[e[d]][g];else m[e[d]]=c[e[d]]}function H(c,m,e,d){return{value:c,writable:!!m,enumerable:!!d,configurable:!!e}}function P(c,
m,e){if(2===arguments.length)if(e=m.bind(this),m=c,w[m])for(var d=0,h=w[m].length;d<h;d++)w[m][d].toString()===e.toString()&&w[m].splice(d,1);else console.error("no listeners exists by key %o",m);else if(e=e.bind(this),y[c]&&y[c][m])for(d=0,h=y[c][m].length;d<h;d++)y[c][m].toString()===e.toString()&&y[c][m].splice(d,1);return this}function O(c,m,e){if(2===arguments.length)e=m.bind(this),m=c,w[m]||(w[m]=[]),w[m].push(e);else if(e=e.bind(this),y[c]||(y[c]={}),y[c][m]||(y[c][m]=[]),y[c][m].push(e),document.querySelector("."+
c)){var d=y[c][m],h=document.querySelector("."+c).kb_mapper.kb_viewmodel,g=h.getLayer(m),p=m.split(".").pop(),b=g[p];d[d.length-1]({key:p,value:b,oldValue:b,local:g,kbref:h,onChange:!1,initial:!0})}return this}function S(c,m){if(w[c])for(var e=0,d=w[c].length;e<d;e++)w[c][e](m);return this}function Q(){if(!document.querySelector('meta[name="viewport"]')){var l=document.createElement("meta");l.name="viewport";l.content="width=device-width, initial-scale=1.0";document.head.appendChild(l)}c.device||
(c.device={});c.device.type=c.detectDevice();c.device.orientation=c.detectOrientation();c.device.browser=c.detectBrowser();c.device.screenSize=c.detectScreenSize();c.device.orientationSize=c.detectScreenOrientation();c.device.keyboard="desktop"!==c.device.type?window.innerHeight<screen.height-.4*screen.height:!1;document.body.className=c.device.type+" "+c.device.orientation+(c.device.keyboard?" keyboard":"")+" "+c.device.browser+" "+c.device.screenSize+" "+c.device.orientationSize}window.K_Components||
(window.K_Components={});var I=v().onLoad(function(l,m){var e="<style>"+unescape(m.prototype.k_css)+"</style>"+unescape(m.prototype.k_html);c.register(l,m,e,m.prototype.cms);c.loadWaitList(l).forEach(function(c){c(l,m)});c.loadWaitList(l,"clear")}),B=z(),E=u||{},J=p().addEventListener("loopitem",function(l){var m=l.node.tagName.toLowerCase();c.isRegistered(m)||l.node.kb_isLoading?c.isRegistered(m)&&c(l.node):(l.node.kb_isLoading=!0,c.loadWaitList(m,function(e,d){c(l.node)}),c.loadWaitList(m).loading||
(c.loadWaitList(m).loading=!0,I(m)))}),q=N().base(void 0!==E.base?E.base:"default").watch(!0).onChange(function(l){c(document.querySelector(l))}),M=B({},"Model"),F={},w={},y={},t=function(){return window.location.search.replace("?","").split("&").filter(function(c){return 0!==c.length}).reduce(function(c,m){c[m.split("=")[0]]=m.split("=")[1];return c},{})}(),L="id filters class sessionStorage localStorage store component multiple".split(" "),G={},K;c.detectDevice=function(){return navigator.userAgent.toLowerCase().match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|[^a-z]rim[^a-z]|sonyericsson|nokia|[^a-z]mib[^a-z])/)?
"mobile":navigator.userAgent.toLowerCase().match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?"tablet":"desktop"};c.detectBrowser=function(){var c=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),m="undefined"!==typeof InstallTrigger,e=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),d=!!document.documentMode,h=
!d&&!!window.StyleMedia,g=!!window.chrome&&!!window.chrome.webstore;return c?"opera":m?"firefox":e?"safari":g?"chrome":d?"ie":h?"edge":"unknown"};c.detectOrientation=function(){return screen.width>screen.height?"landscape":screen.height>screen.width?"portrait":"square"};c.detectScreenOrientation=function(){return window.innerWidth>window.innerHeight?"landscape-size":window.innerHeight>window.innerWidth?"portrait-size":"square-size"};c.detectScreenSize=function(){return 1280>("landscape"===this.detectOrientation()?
window.innerWidth:window.innerHeight)?750>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?"mobile-size":"tablet-size":"desktop-size"};window.addEventListener("resize",Q);document.body?Q():document.addEventListener("DOMContentLoaded",function(){Q()});c.register=function(l,m,e,d){J.register(l,e);F[l]=m;return c};c.isRegistered=function(c){return void 0!==F[c]&&J.isRegistered(c)};c.registered=function(){return Object.keys(F)};c.loadWaitList=function(l,m){if("undefined"===
typeof m&&l)return G[l];if(l){if(void 0===G[l]||"clear"===m){var e=void 0===G[l]?!1:!!G[l].loading;G[l]=[];G[l].loading=e}"function"===typeof m&&G[l].push(m)}return c};c.localRouting=function(l){l?(K=Node.prototype.appendChild,Node.prototype.appendChild=function(c){if("script"===c.nodeName.toLowerCase()){c.src=c.src.substring(0,-1!==c.src.indexOf("?")?c.src.indexOf("?"):c.src.length);var e=c.src.match(/(.*?component\/)/);e&&(t.env||(t.env="prod"),"dev"===t.env&&(t.env="qa"),e=c.src.replace(e[0],"").replace(/[\/\s]/g,
""),c.src=(void 0!==E.prefix?E.prefix:"")+"/components/"+e+"/build/"+t.env+"/"+e+(t.debug&&"prod"!==t.env?"":".min")+".js",arguments[0]=c)}return K.apply(this,arguments)}):K&&(Node.prototype.appendChild=K,K=null);return c};c.hashRouting=function(c){c&&(document.body?q(window.location.hash.replace("#","")):document.addEventListener("DOMContentLoaded",function(){q(window.location.hash.replace("#",""))}));return this};B.prototype._parse||(B.prototype._parse=B.prototype.parse);B.prototype.parse=function(){if(this.__kbref.kbnode){var c=
this.__kbref.kbnode.kb_mapper.kb_maps;this._parse.apply(this,arguments);this.unsubscribeDeep("*",R);this.subscribeDeep("*",R).callAllSubscribers();Object.keys(c).forEach(function(m){c[m].forEach(function(c){c.reset()})})}else return this._parse.apply(this,arguments)};return c}}(W,X,V,Y,Z);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return U}):"undefined"!==typeof module&&(module.exports=U);return U}();
