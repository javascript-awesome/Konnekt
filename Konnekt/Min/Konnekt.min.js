var Konnekt=function(){var X=function(){return function(E,p,t,n){function K(c,b,g,m){c=void 0===c?{}:c;var k={},z=window.Proxy?new Proxy(k,{set:L,deleteProperty:O}):k,f=Object.keys(c,"all");Object.defineProperties(k,{__kbname:e("string"===typeof b?b:"default",!0,!0),__kbref:e(g?g.__kbref||g:z,!0,!0),__kbscopeString:e(m||"",!0,!0),__kbImmediateParent:e(g||null,!0,!0),__kbsubscribers:e({}),__kbparentsubscribers:e({}),__kblisteners:e({}),__kbupdatelisteners:e({}),__kbparentlisteners:e({}),__kbparentupdatelisteners:e({}),
__kbcreatelisteners:e([]),__kbdeletelisteners:e([]),__kbparentcreatelisteners:e([]),__kbparentdeletelisteners:e([]),__kbmethodlisteners:e([]),__kbmethodupdatelisteners:e([]),__kbpointers:e({}),__kbevents:e(U),__kbsetindex:e(0,!0),__kbproto:e({}),length:e(0,!0),__kbnonproxy:e(k,!1,!0),__kbproxy:e(z,!1,!0),_stopChange:e(!1,!0)});k.__proto__=K.prototype;b=0;for(g=f.length;b<g;b++)z.set(f[b],c[f[b]]);k.__kbevents.addlistener=[];k.__kbevents.removelistener=[];k.addActionListener("addlistener",function(b){if("string"===
typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var g=b.local.__kbpointers[b.arguments[0]],c=g.point.getLayer(g.keys);if(void 0!==c[b.arguments[0]])c[b.arguments[2]](b.arguments[0],b.arguments[1]);else if(void 0!==c[g.keys.split(".").pop()])c[b.arguments[2]](g.keys.split(".").pop(),b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var g=b.local.__kbpointers[b.arguments[0]],c=g.point.getLayer(g.keys);
if(void 0!==c[b.arguments[0]])c[b.arguments[2]](b.arguments[0],b.arguments[1]);else if(void 0!==c[localPointerkeys.split(".").pop()])c[b.arguments[2]](g.keys.split(".").pop(),b.arguments[1])}});return z}function C(c,b,g,m,k,z,f,d){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=c;this.key=b;this.arguments=z;this.type=this.event=g;this.listener=f;this.name=c.__kbname;this.root=c.__kbref;this.scope=c.__kbscopeString;this.parent=
c.__kbImmediateParent;this.value=m;this.oldValue=k;this.stopChange=d}function e(c,b,g,m){return{value:c,writable:!!b,enumerable:!!m,configurable:!!g}}function P(c,b,g){return{get:function(){return c.call(this)},set:function(g){b&&(c=g)},enumerable:!1,configurable:!!g}}function S(c,b){var g=b,m=b;return{get:function(){return g},set:function(b){var z=new C(this,c,"set",b,g,arguments,"__kblisteners",this._stopChange);!0!==f(z)&&(m=g,g=b,z.stopChange||(z.listener="__kbupdatelisteners",z.type="postset",
f(z)),this.callSubscribers(this.__kbref,this,c,g,m,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function R(){var c=Array.prototype.slice.call(arguments),b=c.shift();return{get:function(){return c.reduce(function(b,c){return b[c]},b)},set:function(g){var m=c.slice(0,c.length-1).reduce(function(b,g){return b[g]},b);(this._stopChange?m.stopChange():m)[c[c.length-1]]=g;this._stopChange=!1},enumerable:!0,configurable:!0}}function F(c,b){for(var g=[{listener:"__kbparentlisteners",
action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],m=[],k,z=0,f=g.length;z<f;z++)if(k=c[g[z].listener],D.call(k))for(var m=Object.keys(k),d=0,h=m.length;d<h;d++)for(var l=0,e=k[m[d]].length;l<e;l++)b[g[z].method](m[d],k[m[d]][l]);else for(d=0,h=k.length;d<h;d++)b[g[z].method](k[d])}function L(c,b,g){if(I(c,b)||
"length"===b||"__kbsetindex"===b){if("length"===b)if(g>c.length&&void 0!==c[g-1])c.length=g;else{if(g<c.length){b=g;for(var m=c.length;b<m;b++)c[b]&&delete c[b];c.length=g}}else c[b]=g;return!0}c.set(b,g)}function O(c,b){c.del(b);return!0}function Q(c,b,g){var m=q(g),k=D(g),z=H(g);if(m&&g.__kbname!==c.__kbname)"default"===g.__kbname?c.merge(g,b):c.__kbpointers[b]||c.addPointer(g,b);else{var m=new C(this,b,"create",g,void 0,[],"__kbcreatelisteners",this._stopChange),d=f(m),h=parseInt(b,10);if(!0!==
d)if((k||z)&&0!==Object.keys(g,"all").length)for(Q.call(this,c,b,{}),k=0,z=Object.keys(g,"all"),m=z.length;k<m;k++)Q.call(this[b],c[b],z[k],g[z[k]]);else{if(k||z)g=new K(g,c.__kbname,c,c.__kbscopeString+(0!==c.__kbscopeString.length?".":"")+b),F(c,g);Object.defineProperty(c,b,S(b,g));!isNaN(h)&&c.length<=h&&(c.length=h+1);m.listener="__kbupdatelisteners";m.type="postcreate";f(m)}}}function M(c,b,g,m){var k=q(g),z=D(g),f=H(g);if(k&&g.__kbname!==c.__kbname)"default"===g.__kbname?c.merge(g,b):c.__kbpointers[b]||
c.addPointer(g,b);else if(void 0===c[b])-1===N.indexOf(b)?Q.call(this,c,b,g):(m?c.stopChange():c)[b]=g;else if(z||f)for(k=0,z=Object.keys(g,"all"),f=z.length;k<f;k++)M.call(this[b],c[b],z[k],g[z[k]],m);else(m?c.stopChange():c)[b]=g}function G(c){return l.call(c).replace(/(\[object\s|\])/g,"").toLowerCase()}function D(c){return"object"===G(void 0!==c?c:this)}function H(c){return"array"===G(void 0!==c?c:this)}function q(c){return"mixed"===G(void 0!==c?c:this)}function I(c,b){b="string"===typeof c?c:
b;var g=Object.getOwnPropertyDescriptor("string"===typeof c?this:c,b);return g?void 0===g.value:!1}function J(c,b){function g(b){var g=parseFloat(b,10),c="true"===b,m=b.indexOf('"'),k=b.lastIndexOf('"');if(isNaN(g)||g.toString().length!==b.length){if(c||"false"===b)return c;b=0===m&&0!==k?b.substring(1,b.length-1):b.substring(1,b.length)}else return g;return b}var m=this.__kbnonproxy;split=c.split(/({"|,"(?=(?:[^"]|"[^"]*")*$)|\[(?=(?:[^"]|"[^"]*")*$)|\](?=(?:[^"]|"[^"]*")*$)|":|"}|{(?=(?:[^"]|"[^"]*")*$)|,(?=(?:[^"]|"[^"]*")*$)|}(?=(?:[^"]|"[^"]*")*$))/).filter(Boolean);
UKeys=[];isValue=isKey=!1;n="";for(var k=1,z=split.length,f,d,h,l;k<z;k++)f=split[k],d=split[k-1],h=split[k+1],l=UKeys[UKeys.length-1],'":'===d&&'{"'===f||'":'===d&&"["===f?(n+=(0!==n.length?".":"")+l,m[l]||m.set(l,b?b(l,{},n,m):{}),m=m[l],UKeys.pop()):"["===d||","===d&&0!==m.length?"{"===f||'{"'===f?(n+=(0!==n.length?".":"")+m.__kbsetindex,"object"!==typeof m[m.__kbsetindex]&&m.set(m.__kbsetindex,b?b(m.length,{},n,m):{}),m.__kbsetindex+=1,m=m[m.__kbsetindex-1]):(m.set(m.__kbsetindex,b?b(m.length,
g(f),n,m):g(f)),m.__kbsetindex+=1):'":'===d?(m.set(l,b?b(l,g(f),n,m):g(f)),UKeys.pop()):'{"'===d||","===d&&'":'===h?UKeys[UKeys.length]=f.replace(/\"/g,""):"}"!==d&&"]"!==d||void 0===f||(n=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")-1):"",m=m.__kbImmediateParent);return this}function B(c,b){"number"===typeof c&&(c=c.toString());var g=-1!==c.indexOf(".")?this.__kbnonproxy.setLayer(c):this.__kbnonproxy;-1!==c.indexOf(".")&&(c=c.split(".").pop());var m=new C(this,c,"set",b,this[c],arguments,
"__kbmethodlisteners");!0!==f(m)&&(M.call(this,g,c,b,this._stopChange),this.stopChange=void 0,m.type="postset",m.listener="__kbmethodupdatelisteners",f(m));return this}function y(c){return c.split(".")}function r(c,b){return function(g,m){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var k=this[b],d=new C(this,b,"addlistener",k,void 0,arguments,"");"string"===typeof g&&1!==y(g).length&&(k=y(g),g=k.pop(),k=k.join("."),d.local=this.getLayer(k),k=d.local[b],d.value=k);!0!==f(d)&&
(D.call(k)?(void 0===k[g]&&(k[g]=[]),k[g].push(m),d.type="postaddlistener",f(d)):H.call(k)&&"function"===typeof g&&(k.push(g),d.type="postaddlistener",f(d)));return this}}function u(c,b){return function(g,m){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var k=this[b],d=new C(this,b,"removelistener",k,void 0,arguments,"");"string"===typeof g&&1!==y(g).length&&(k=y(g),k.pop(),k.join("."),d.local=this.getLayer(k),k=d.local[b],d.value=k,g=y(g).pop());if(!0!==f(d))if(D.call(k)){if(void 0!==
k[g])for(var h=0,l=k[g].length;h<l;h++)if(k[g][h].toString()===m.toString()){k[g].splice(h,1);d.type="postremovelistener";f(d);break}}else if(H.call(k)&&"function"===typeof g)for(h=0,l=k.length;h<l;h++)if(k[h].toString()===g.toString()){k.splice(h,1);d.type="postremovelistener";f(d);break}return this}}function A(c,b){function g(b,c,d){var f=Object.keys(this,"all").filter(function(b){return q.call(this[b])}.bind(this)),h=this,l=b;"string"===typeof b&&1!==y(b).length&&(h=y(b),l=h.pop(),h=h.join("."),
h=this.getLayer(h),void 0===h[d][l]&&(h[d][l]=[]),h[d][l].push(c));D.call(h[d])?(void 0===h[d][l]&&(h[d][l]=[]),h[d][l].push(c),h=h.__kbpointers[l],h=h.point.getLayer(h.keys),void 0!==h[l]&&(void 0===h[d][l]&&(h[d][l]=[]),h[d][l].push(_func))):h[d].push(c);l=0;for(h=f.length;l<h;l++)g.call(this[f[l]],b,c,d)}return function(m,k){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var d=new C(this,b,"addchildlistener",void 0,void 0,arguments,"");!0!==f(d)&&(g.call(this.__kbnonproxy,m,
k,b),d.type="postaddchildlistener",f(d));return this}}function w(c,b){function g(b,c,d){var f=Object.keys(this,"all").filter(function(b){return q.call(this[b])}.bind(this)),h=this,l=b;if("string"===typeof b&&1!==y(b).length){var e=y(b),l=e.pop();e.join(".");h=this.getLayer(e);if(void 0!==h[d][b])for(var e=0,r=h[d][b].length;e<r;e++)if(h[d][b][e].toString()===c.toString()){h[d][b].splice(e,1);break}}if(D.call(h[d])){if(void 0!==h[d][l]){e=0;for(r=h[d][l].length;e<r;e++)if(h[d][l][e].toString()===c.toString()){h[d][l].splice(e,
1);break}if(-1!==h.__kbpointers.indexOf(l)&&(e=h.__kbpointers[l],h=e.point.getLayer(e.keys),void 0!==h[d][l]))for(e=0,r=h[d][l].length;e<r;e++)if(h[d][l][e].toString()===c.toString()){h[d][l].splice(e,1);break}}}else for(e=0,r=h[d].length;e<r;e++)if(h[d][e].toString()===c.toString()){h[d].splice(e,1);break}e=0;for(r=f.length;e<r;e++)g.call(this[f[e]],b,c,d)}return function(m,k){arguments=Array.prototype.slice.call(arguments);arguments.push(c);var d=new C(this,b,"removechildlistener",void 0,void 0,
arguments,"");!0!==f(d)&&(g.call(this.__kbnonproxy,m,k,b),d.type="postremovechildlistener",f(d));return this}}var U={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],
postremovechildlistener:[]},N=["__proto__","_stopChange"],v=function(c,b){if(!b._stopPropogration&&c)for(var g=0,m=c.length;g!==m&&(c[g](b),!b._stopPropogration);g++);},f=function(c){if(c.listener){var b=c.local[c.listener],g=c.local[c.listener.replace("__kb","__kbparent")];D.call(b)?(v(b[c.key],c),v(b["*"],c)):v(b,c);D.call(g)?(v(g[c.key],c),v(g["*"],c)):v(g,c)}v(c.local.__kbref.__kbevents[c.type],c);return c._preventDefault},d=Array.prototype.sort,h=Array.prototype.slice,l;Object.prototype._toString||
(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof K?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(c,b){return Object._keys(c).filter(function(g){return b&&"object"!==b&&"o"!==b?"all"===b?!0:!isNaN(parseInt(g,10)):isNaN(parseInt(g,10))})};l={}.toString;Object.defineProperties(K.prototype,{"typeof":e(G,!1,!0),sizeof:e(function(c){function b(c){for(var k=
Object.keys(c,"all"),d=0,f=void 0,h=0,l=k.length;h<l;h++)f=c[k[h]],"object"===typeof f&&void 0!==f&&null!==f?-1===g.indexOf(f)&&(g.push(f),d+=b(f)):"string"===typeof f?d+=2*f.length:"number"===typeof f?d+=8:"boolean"===typeof f?d+=4:"function"===typeof f&&(d+=2*f.toString().length),d+=2*k[h].length;return d}var g=[];return b(c||this)+" Bytes (Rough estimate)"},!1,!0),isObject:e(D,!1,!0),isArray:e(H,!1,!0),isMixed:e(q,!1,!0),isObservable:e(I,!1,!0),stringify:e(function(c){var b=[];return JSON.stringify(c||
this,function(g,c){if(H(c)||D(c)){if(-1!==b.indexOf(c))return;b.push(c)}return c})},!1,!0),getKeys:e(function(c,b){b="string"===typeof c?c:b?b:"object";return Object.keys("string"===typeof c||void 0===c?this:c,b)},!1,!0),getIndexes:e(function(c){c=void 0!==c?"object"===typeof c?c:this[c]:this;for(var b=[],g=0,m=c.length;g<m;g++)void 0!==c[g]&&(b[b.length]=g);return b},!1,!0),keyCount:P(function(){return this.getKeys("object").length},!1,!0),indexCount:P(function(){return this.length},!1,!0),count:P(function(){return this.keyCount+
this.indexCount},!1,!0),concat:e(Array.prototype.concat),every:e(Array.prototype.every),filter:e(Array.prototype.filter),find:e(Array.prototype.find),findIndex:e(Array.prototype.findIndex),forEach:e(Array.prototype.forEach),includes:e(Array.prototype.includes),indexOf:e(Array.prototype.indexOf),join:e(Array.prototype.join),lastIndexOf:e(Array.prototype.lastIndexOf),map:e(Array.prototype.map),reduce:e(Array.prototype.reduce),reduceRight:e(Array.prototype.reduceRight),slice:e(Array.prototype.slice),
some:e(Array.prototype.some),entries:e(Array.prototype.entries),toLocaleString:e(Array.prototype.toLocaleString),parse:e(J,!0),parseReplace:e(function(c,b){return J.call(b||this,c)},!0),add:e(function(c,b){B.call(this,c,b);return this}),set:e(B),get:e(function(c){"number"===typeof c&&(c=c.toString());var b=-1!==c.indexOf(".")?this.getLayer(c):this;-1!==c.indexOf(".")&&(c=c.split(".").pop());if(b)return b[c];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,c)}),
del:e(function(c,b){var g="number"===typeof c||!isNaN(parseInt(c,10));g&&(c=c.toString());var m=-1!==c.indexOf(".")?this.getLayer(c):this,k=c.split(".").pop();if(m&&void 0!==m[k])if(g&&m.length>parseInt(c,10)&&!b)m=m.__kbnonproxy,m.splice(k,1);else{var d=new C(m,c,"delete",m[k],void 0,[],"__kbmethodlisteners"),h=f(d),l=new C(m,c,"delete",m[k],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==f(l)&&!0!==h&&(m=m.__kbnonproxy,Object.defineProperty(m,k,e(void 0,!0,!0,!1)),delete m[k],g&&m.length>
parseInt(c,10)&&b&&--m.length,d.type="postdelete",d.listener="__kbmethodupdatelisteners",f(d),l.listener="__kbupdatelisteners",l.type="postdelete",l.oldValue=l.value,l.value=void 0,f(l))}return this}),exists:e(function(c){var b=-1!==c.indexOf(".")?this.__kbnonproxy.getLayer(c):this.__kbnonproxy;-1!==c.indexOf(".")&&(c=c.split(".").pop());return b?void 0!==b[c]:!!b}),addPrototype:e(function(c,b){var g=-1!==c.indexOf(".")?this.__kbnonproxy.setLayer(c):this.__kbnonproxy;-1!==c.indexOf(".")&&(c=c.split(".").pop());
void 0===g[c]?Object.defineProperty(g.__proto__,c,e(b,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,g);return this}),addPointer:e(function(){var c=Array.prototype.slice.call(arguments),b=c.shift(),g=void 0!==b.get(c.join("."))?c[c.length-1]:c.pop();b instanceof K||(b=new K(b,b.__kbname));var m=new C(this,g,"create",b[g],void 0,[],"__kbcreatelisteners",this._stopChange),k=this.__kbnonproxy;m.root=b.__kbref.__kbproxy;if(!0!==f(m)){Object.defineProperty(k,
g,R.apply(k,[b].concat(c)));k.__kbpointers[g]={keys:c.join("."),point:b};var c=k,b=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],k=[],d;if(c[g].__kbImmediateParent)for(var h=0,l=b.length;h<l;h++){d=c[b[h].listener];for(var k=Object.keys(d),e=0,r=k.length;e<r;e++)if(g===k[h])for(var u=0,A=d[k[h]].length;u<A;u++)void 0===c[g].__kbImmediateParent[b[h].listener][g]&&(c[g].__kbImmediateParent[b[h].listener][g]=[]),c[g].__kbImmediateParent[b[h].listener][g].push(d[k[h]][u])}F(c,
c[g]);m.listener="__kbupdatelisteners";m.type="postcreate";f(m)}return this}),move:e(function(c,b){this.__kbnonproxy.set(b,c[b]);q(c)?c.del(b):(c[b]=null,delete c[b]);return this}),copy:e(function(c,b){var g=this.__kbnonproxy;q(c)?"default"===c.__kbname?g.merge(c[b],b):g.addPointer(c,b):g.set(b,c[b]);return this}),merge:e(function(c,b){function g(b,c){for(var d=q(b)?b.keys("object"):Object.keys(b),k,f=0,h=d.length;f<h;f++)k=b[d[f]],"object"===typeof k&&-1===m.indexOf(k)&&"undefined"!==c[d[f]]?g(k,
c):void 0===c[d[f]]&&c.set(d[f],"object"===typeof k?{}:k)}var m=[],d=this.__kbnonproxy;b&&void 0===d[b]&&d.set(b,{});g(c,b?d[b]:d);return this}),replace:e(function(c,b){function g(b,c){var d=q(b)?b.keys("object"):Object.keys(b),k;k=b[d[x]];"object"===typeof k&&-1===m.indexOf(k)&&"undefined"!==c[d[x]]?g(k,c):c.set(d[x],"object"===typeof k?{}:k)}var m=[],d=this.__kbnonproxy;b&&void 0===d[b]&&d.set(b,{});g(c,b?d[b]:d);return this}),copyWithin:e(function(c,b,g){b=b||0;g=g||0;var m=new C(this,c,"copyWithin",
this[c],void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;if(!0!==f(m)&&c<d.length){c=0>c?d.length-1:c;b=b<d.length?b:d.length-1;g=g<d.length?g:d.length-1;b=0>b?d.length-1:b;g=0>b?d.length-1:g;for(var h=b;h<=g;h++)d.set(c+(h-b),d[h]);m.type="postcopyWithin";m.listener="__kbmethodupdatelisteners";f(m)}return this}),fill:e(function(c,b,g){b=void 0!==b?Math.max(0,b):0;g=void 0!==g&&g<=this.length?Math.min(this.length,Math.max(0,g)):this.length;var m=new C(this,_start,"fill",this[_start],void 0,
arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;if(!0!==f(m)){for(var h=a.key;h<g;h++)d[h]=c;m.type="postfill";m.listener="__kbmethodupdatelisteners";f(m)}return this}),pop:e(function(){var c=new C(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==f(c)){var g=b[b.length-1];b.del(this.length-1);c.type="postpop";c.listener="__kbmethodupdatelisteners";f(c);return g}return null}),push:e(function(c){var b=new C(this,this.length,"push",
c,void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;!0!==f(b)&&(g.set(g.length,c),b.type="postpush",b.listener="__kbmethodupdatelisteners",f(b));return this.length}),reverse:e(function(){var c=new C(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==f(c)){for(var g=null,m=null,d=b.length,g=0;g<d/2;g+=1){var m=d-1-g,h=b[g];b[g]=b[m];b[m]=h}c.type="postreverse";c.listener="__kbmethodupdatelisteners";f(c)}return this}),shift:e(function(){var c=
new C(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==f(c)){for(var g=a.key,m=this.length-1;g<m;g++)b[g]=b[g+1];b.del(this.length-1);c.type="postshift";c.listener="__kbmethodupdatelisteners";f(c)}return null}),sort:e(function(){var c=new C(this,void 0,"sort",void 0,void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==f(c)){var g=h.call(b);d.apply(g,arguments);for(var m=0,k=g.length;m<k;m++)b[m]=g[m];c.type="postsort";c.listener="__kbmethodupdatelisteners";
f(c)}return this}),splice:e(function(c,b,g){c="string"===typeof c?parseInt(c,10):c;var m=new C(this,c,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;if(!0!==f(m)){var h=[],l=Array.prototype.slice.call(arguments,2),e=l.length-2,r=0;if(0!==b&&void 0!==d[c-1+b])for(var u=0,A=b;u<A;u++){h.push(d[c+u]);for(var q=c+u,w=this.length-1;q<w;q++)d[q]=d[q+1];d.del(d.length-1,!0)}if(0!==e)for(u=0,A=e;u<A;u++){r=c+Math.min(1,u);q=d.length;for(w=r;q>w;q--)d.set(q,d[q-1]);d.set(r,l[u])}m.type=
"postsplice";m.listener="__kbmethodupdatelisteners";f(m);return h}return[]}),unshift:e(function(){var c=new C(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),b=this.__kbnonproxy;if(!0!==f(c)){for(var g=Array.prototype.slice.call(arguments),d=b.length-1+g.length,k=g.length;-1!==d;d--)d<k?b.set(d,g[d]):b.set(d,b[d-g.length]);c.type="postunshift";c.listener="__kbmethodupdatelisteners";f(c)}return this.length}),getLayer:e(function(c){function b(g){var c=g[0];return void 0===this[c]&&
0!==g.length-1?null:q(this[c])?0!==g.length-1?(g.shift(),b.call(this[c],g)):this[c]:this}c=y(c);return b.call(this,c)}),setLayer:e(function(c){function b(g){var c=g[0];void 0===this[c]&&0!==g.length-1&&(this[c]=K({},this.__kbname,this,this.__kbscopeString+"."+c));return q(this[c])?0!==g.length-1?(g.shift(),b.call(this[c],g)):this[c]:this}c=y(c);return b.call(this,c)}),ignoreCreate:e(function(c){-1===N.indexOf(c)&&N.push(c);return this}),addActionListener:e(function(c,b){var g=this.__kbnonproxy;void 0!==
g.__kbref.__kbevents[c]&&g.__kbref.__kbevents[c].push(b);return this}),removeActionListener:e(function(c,b){var g=this.__kbnonproxy;if(void 0!==g.__kbref.__kbevents[c])for(var d=0,k=g.__kbref.__kbevents[c];d<k;d++)if(g.__kbref.__kbevents[c][d].toString()===b.toString()){g.__kbref.__kbevents[c].splice(d,1);break}return this}),subscribe:e(function(c,b){var g=c.split("."),d=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;void 0===g.__kbsubscribers[d]&&(g.__kbsubscribers[d]=
[]);g.__kbsubscribers[d].push(b);return this}),unsubscribe:e(function(c,b){var g=c.split("."),d=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;if(void 0!==g.__kbsubscribers[d])for(var k=0,h=g.__kbsubscribers[d].length;k<h;k++)if(g.__kbsubscribers[d][k].toString()===b.toString()){g.__kbsubscribers[d].splice(k,1);break}return this}),subscribeDeep:e(function(c,b){function g(c,d){var m=Object.keys(c,"all").filter(function(b){return q.call(c[b])}.bind(c));if(void 0!==
c[d]||"*"===d)void 0===c.__kbparentsubscribers[d]&&(c.__kbparentsubscribers[d]=[]),c.__kbparentsubscribers[d].push(b);for(var k=0,h=m.length;k<h;k++)g(c[m[k]],d)}var d=-1!==c.indexOf("*"),k=c.split(".");k.slice(0,k.indexOf("*"));var h=-1!==k.indexOf("*")?k.slice(k.indexOf("*"),k.length):[],f=1===h.length,l=k.pop(),k=0!==k.length?this.__kbnonproxy.getLayer(k.join(".")):this.__kbnonproxy;d?f?g(k,"*"):(h.shift(),k.subscribeDeep(h.join("."),b)):g(k,l);return this}),unsubscribeDeep:e(function(c,b){function g(c,
d){var m=Object.keys(c,"all").filter(function(b){return q.call(c[b])&&!(c[b]instanceof HTMLElement)}.bind(c));if((void 0!==c[d]||"*"===d)&&void 0!==c.__kbparentsubscribers[d])for(var k=0,h=c.__kbparentsubscribers[d].length;k<h;k++)c.__kbparentsubscribers[d][k].toString()===b.toString()&&c.__kbparentsubscribers[d].splice(k,1);k=0;for(h=m.length;k<h;k++)g(c[m[k]],d)}var d=-1!==c.indexOf("*"),k=c.split(".");k.slice(0,k.indexOf("*"));var h=-1!==k.indexOf("*")?k.slice(k.indexOf("*"),k.length):[],f=1===
h.length,l=k.pop(),k=0!==k.length?this.__kbnonproxy.getLayer(k.join(".")):this.__kbnonproxy;d?f?g(k,"*"):(h.shift(),k.unsubscribeDeep(h.join("."),b)):g(k,l);return this}),callSubscribers:e(function(c,b,g,d,k,h){var f=this.__kbnonproxy;if(void 0!==f.__kbsubscribers[g])for(var l=0,e=f.__kbsubscribers[g].length;l<e;l++)f.__kbsubscribers[g][l].call(this,{key:g,value:d,oldValue:k,stopChange:h,local:b,kbref:c});if(void 0!==f.__kbparentsubscribers[g])for(l=0,e=f.__kbparentsubscribers[g].length;l<e;l++)f.__kbparentsubscribers[g][l].call(this,
{key:g,value:d,oldValue:k,stopChange:h,local:b,kbref:c});if(void 0!==f.__kbsubscribers["*"])for(l=0,e=f.__kbsubscribers["*"].length;l<e;l++)f.__kbsubscribers["*"][l].call(this,{key:g,value:d,oldValue:k,stopChange:h,local:b,kbref:c});if(void 0!==f.__kbparentsubscribers["*"])for(l=0,e=f.__kbparentsubscribers["*"].length;l<e;l++)f.__kbparentsubscribers["*"][l].call(this,{key:g,value:d,oldValue:k,stopChange:h,local:b,kbref:c});return this}),callAllSubscribers:e(function(){function c(b,c,d){for(var k=
0,h=c.length;k<h;k++)c[k].call(b,{key:d,value:b[d],oldValue:b[d],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(b){for(var g=Object.keys(b.__kbsubscribers),d=Object.keys(b.__kbparentsubscribers),k=0,h=g.length;k<h;k++)if(0!==b.__kbsubscribers[g[k]].length)if("*"===g[k])for(var f=0,l=Object.keys(b),e=l.length;f<e;f++)c(b,b.__kbsubscribers[g[k]],l[f]);else c(b,b.__kbsubscribers[g[k]],g[k]);k=0;for(h=d.length;k<h;k++)if(0!==b.__kbparentsubscribers[d[k]].length)if("*"===d[k])for(f=0,l=Object.keys(b),
e=l.length;f<e;f++)c(b,b.__kbparentsubscribers[d[k]],l[f]);else c(b,b.__kbparentsubscribers[d[k]],d[k])})(this.__kbnonproxy);return this}),stopChange:e(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(K.prototype,{addDataListener:e(r("addDataListener","__kblisteners")),removeDataListener:e(u("removeDataListener","__kblisteners")),addDataUpdateListener:e(r("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:e(u("removeDataUpdateListener","__kbupdatelisteners")),
addDataCreateListener:e(r("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:e(u("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:e(r("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:e(u("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:e(r("addDataMethodListener","__kbmethodlisteners")),removeDataMethodListener:e(u("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:e(r("addDataMethodUpdateListener",
"__kbmethodupdatelisteners")),removeDataMethodUpdateListener:e(u("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:e(A("addChildDataListener","__kbparentlisteners")),removeChildDataListener:e(w("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:e(A("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:e(w("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:e(A("addChildDataCreateListener",
"__kbparentcreatelisteners")),removeChildDataCreateListener:e(w("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:e(A("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:e(w("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return K}}(),Y=function(){return function(){function E(n){if("object"===typeof n)for(var t=0,C=n.length;t<C;t++)K_Components[n[t]]?p(n[t],K_Components[n[t]],document.getElementById("script_"+
n[t])):E.load(n[t],"component/"+n[t]+"/"+location.search,p);else"string"===typeof n&&(K_Components[n[t]]?p(n,K_Components[n],document.getElementById("script_"+n)):E.load(n,"component/"+n+"/"+location.search,p))}var p=function(){},t=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});E.getUnknowns=function(n){var p=n.match(t);return p.map(function(n){return n.replace(/[<\/>]/g,"")}).filter(function(n,e){return document.createElement(n)instanceof HTMLUnknownElement&&-1===p.indexOf(n,e+1)&&!K_Components[n]})};
E.load=function(n,p,t){document.head.appendChild(function(e,n,p){var t=document.createElement("script");t.type="text/javascript";t.charset="utf-8";t.async=!0;t.src=n;t.id="script_"+e;t.onload=function(){p(e,K_Components[e],this)};return t}(n,p,t));return E};E.onLoad=function(n){if(void 0===n)return p;p="function"===typeof n?n:p;return E};return E}}(),W=function(){function E(){function p(f,d){var h=f.length,l;for(l=0;l<h&&(f[l](d),void 0===d._stopPropogation);l++);}function t(f,d){var h=f.length,l;
for(l=0;l<h&&(d.child=d.target,d.target=f[l].parent,f[l].func(d),void 0===d._stopPropogation);l++);}function n(f,d){for(var h=f.length;0<h;U++)if(f[U].toString()===d.toString())return!0;return!1}function E(f,d,h,l,c,b,g,m){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=h;this.oldValue=l;this.target=f;this.attr=d;this.arguments=c;this.action=b;this.child=void 0;this.type=g;this.stopChange=m}function C(){this._attrListeners=
{};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function e(f,d,h,l){var c=f.get,b=f.set,g;return function(m){g=c.call(this);h(this,d,m,g,void 0,this._stopChange)&&b.call(this,m);this._stopChange||l(this,d,m,g);this._stopChange=void 0}}function P(f,d,h,l){var c;return function(b){c=f.value;h(this,d,b,c,arguments,
this._stopChange)&&(f.value=b);this._stopChange||l(this,d,b,c,arguments);this._stopChange=void 0}}function S(f,d,h,l){var c=f.value,b;return function(){h(this,d,null,null,arguments,this._stopChange)&&(b=c.apply(this,arguments));this._stopChange||l(this,d,null,null,arguments,b);this._stopChange=void 0;return b}}function R(f,d,h,l,c){var b=c.style,g=d.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),m,k;return{get:function(){return k},set:function(f){m=k;h(c,d,f,m,void 0,this._stopChange)&&(k=
f,b.setProperty(g,f));this._stopChange||l(c,d,f,m);this._stopChange=void 0},enumerable:!0,configurable:!0}}function F(f,d,h,l){if("function"!==typeof d)return q;var c=-1!==["value","checked"].indexOf(f),b=-1!==A.indexOf(f),g;if(this.toString()!==q.toString())if(h){var m=this.querySelectorAll("*");h=m.length;for(var k,e=0;e<h;e++){k=m[e].attrListeners();if(c||"*"===f)void 0!==m[e].addInputBinding&&m[e].addInputBinding(),void 0!==m[e].addInputBoxBinding&&m[e].addInputBoxBinding();if(b)q.injectStyleProperty(m[e],
f),g=l?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===f){g=l?"_parentStyleUpdateListeners":"_parentStyleListeners";h=A.length;for(var r=0;r<h;r++)q.injectStyleProperty(m[e],A[r]);void 0===k[g]["*"]&&(k[g]["*"]=[]);k[g]["*"].push({parent:this,func:d})}g=l?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===k[g][f]&&(k[g][f]=[]);k[g][f].push({parent:this,func:d})}}else{k=this.attrListeners();if(b)g=l?"_styleUpdateListeners":"_styleListeners",q.injectStyleProperty(this,
f);else{if(c||"*"===f)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===f){g=l?"_styleUpdateListeners":"_styleListeners";h=A.length;for(e=0;e<h;e++)q.injectStyleProperty(this,A[e]);void 0===k[g][f]&&(k[g][f]=[]);k[g][f].push(d)}g=l?"_attrUpdateListeners":"_attrListeners"}void 0===k[g][f]&&(k[g][f]=[]);k[g][f].push(d)}else{if(c||"*"===f)for(r=document.querySelectorAll("input, textarea"),h=r.length,e=0;e<h;e++)void 0!==r[e].addInputBinding&&
r[e].addInputBinding(),void 0!==r[e].addInputBoxBinding&&r[e].addInputBoxBinding();if(b){b=Array.prototype.slice.call(document.body.querySelectorAll("*"));h=b.length+1;b.unshift(document.body);for(e=0;e<h;e++)q.injectStyleProperty(b[e],f);g=l?y:B}else{if("*"===f){b=Array.prototype.slice.call(document.body.querySelectorAll("*"));h=b.length+1;c=A.length;b.unshift(document.body);for(e=0;e<h;e++)for(r=0;r<c;r++)q.injectStyleProperty(b[e],A[r]);g=l?y:B;void 0===g[f]&&(g[f]=[]);g[f].push(d)}g=l?J:I}void 0===
g[f]&&(g[f]=[]);g[f].push(d)}}function L(f,d,h,l){function c(b,c){var m=c[b],k=m.length;for(g=0;g<k;g++)m[g].toString()===d.toString()&&m.splice(g,1)}if("function"!==typeof d)return q;["value","checked"].indexOf(f);var b=-1!==A.indexOf(f),g;if(this.toString()!==q.toString())if(h){h=this.querySelectorAll("*");var m=h.length;b?(b=l?"_childStyleUpdateListeners":"_childStyleListeners",c(f,this.attrListeners()[b]),b=l?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===f&&(b=l?"_childStyleUpdateListeners":
"_childStyleListeners",c(f,this.attrListeners()[b])),b=l?"_childAttrUpdateListeners":"_childAttrListeners",c(f,this.attrListeners()[b]),b=l?"_parentAttrUpdateListeners":"_parentAttrListeners");for(g=0;g<m;g++){for(var k=h[g].attrListeners()[b][f],e=k.length,r=0;r<e;r++)k[r].isEqualNode(this)&&k.slice(r,1);if("*"===f)for(listenersStyle=l?"_parentStyleUpdateListeners":"_parentStyleListeners",k=h[g].attrListeners()[b][f],e=k.length,r=0;r<e;r++)k[r].isEqualNode(this)&&k.slice(r,1)}}else b?b=l?"_styleUpdateListeners":
"_styleListeners":("*"===f&&(b=l?"_styleUpdateListeners":"_styleListeners",c(f,this.attrListeners()[b])),b=l?"_attrUpdateListeners":"_attrListeners"),c(f,this.attrListeners()[b]);else b?b=l?y:B:("*"===f&&(b=l?y:B,c(f,b)),b=l?J:I),c(f,b)}function O(f,d){q.addAttrListener.call(this,f,d,!0);return this}function Q(f,d){q.addAttrUpdateListener.call(this,f,d,!0);return this}function M(f,d){q.removeAttrListener.call(this,f,d,!0);return this}function G(f,d){q.removeAttrUpdateListener.call(this,f,d,!0);return this}
function D(f,d,h){var l=this.attrListeners();"html"===d&&(d="innerHTML");"events"===d&&(d="onclick");switch(f){case "attr":if(n(l._attrListeners[d],h))return!0;break;case "attrupdate":if(n(l._attrUpdateListeners[d],h))return!0}return!1}function H(){this._stopChange=!0;return this}function q(){function f(b,c){var g,d=c.length;for(g=0;g<d;g++)-1===b.indexOf(c[g])&&b.push(c[g]);return b}function d(b,c){for(var g=Object.keys(b),d,f,h=0,l=g.length;h<l;h++)if(d=g[h],void 0===c[d])c[d]=b[d].slice();else for(var e=
0,r=b[d].length;e<r;e++)f=b[d][e],c[d].push(f)}function h(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var c=b.target.attrListeners(),g,h=["value","checked"],l=c._attrListeners,e=c._attrUpdateListeners,r=c._parentAttrListeners;g=c._parentAttrUpdateListeners;var u=!1;if(void 0!==I["*"]||void 0!==J["*"])u=!0;if(!0!==u&&void 0!==l["*"]||void 0!==e["*"]||void 0!==r["*"]||void 0!==g["*"])u=!0;if(!0!==u)for(var w=0;w<h.length;w++)if(void 0!==I[h[w]]||void 0!==J[h[w]]||void 0!==l[h[w]]||void 0!==
e[h[w]]||void 0!==r[h[w]]||void 0!==g[h[w]]){u=!0;break}g=u;h=Object.keys(B);l=Object.keys(y);Object.keys(c._styleListeners);Object.keys(c._styleUpdateListeners);e=Object.keys(c._parentStyleListeners);c=Object.keys(c._parentStyleUpdateListeners);r=[];if(0!==h.length||0!==l.length)r=f(r,h),r=f(r,l);if(0!==r.length&&0!==e.length||0!==c.length)r=f(r,e),r=f(r,c);-1!==r.indexOf("*")&&(r=A);var c=r,h=c.length,n,p,l=[],v,e="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,r=b.target;void 0!==e&&(b.attr=
"appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(g){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?(l=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||l.unshift(b.arguments[0])):l=Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));v=l.length;for(var t=0;t<v;t++)void 0!==l[t].addInputBinding&&l[t].addInputBinding(),void 0!==
l[t].addInputBoxBinding&&l[t].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(l=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),l.unshift(b.arguments[0])):l=Array.prototype.slice.call(b.target.querySelectorAll("*"));g=b.target.__kb._parentAttrListeners;u=b.target.__kb._parentAttrUpdateListeners;w=b.target.__kb._parentStyleListeners;n=b.target.__kb._parentStyleUpdateListeners;v=l.length;for(t=0;t<v;t++){if(0!==h)for(p=
0;p<h;p++)q.injectStyleProperty(l[t],c[p]);p=l[t].attrListeners();d(g,p._parentAttrListeners);d(u,p._parentAttrUpdateListeners);d(w,p._parentStyleListeners);d(n,p._parentStyleUpdateListeners)}void 0!==e&&(b.attr=e,b.target=r,b.arguments=[])}}function l(c){var g=c.target.attributes[c.arguments[0]],d="setAttribute"===c.attr?c.arguments[1]:"";b(c.target,c.arguments[0],d,void 0!==g?g.value:"",[d])||c.preventDefault()}function c(b){var c=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:
"";g(b.target,b.arguments[0],d,void 0!==c?c.value:"",[d])}q.injectPrototypes(Node,"Node");q.injectPrototypes(Element,"Element");q.injectPrototypes(HTMLElement,"HTMLElement");q.injectPrototypes(HTMLInputElement,"HTMLInputElement");q.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");q.injectPrototypes(Document,"Document");var b=N,g=v;q.addAttrUpdateListener("appendChild",h);q.addAttrUpdateListener("removeChild",h);q.addAttrUpdateListener("innerHTML",h);q.addAttrUpdateListener("outerHTML",
h);q.addAttrUpdateListener("innerText",h);q.addAttrUpdateListener("outerText",h);q.addAttrUpdateListener("textContent",h);q.addAttrListener("setAttribute",l);q.addAttrListener("removeAttribute",l);q.addAttrUpdateListener("setAttribute",c);q.addAttrUpdateListener("removeAttribute",c);return q}var I={},J={},B={},y={},r={},u="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),A=Object.getOwnPropertyNames(document.documentElement.style),
w=Object.keys(HTMLElement.prototype).filter(function(f){return 0===f.indexOf("on")}).concat(["addEventListener","removeEventListener"]),U,N=function(f,d,h,l,c,b){h=new E(f,d,h,l,c,void 0,"set",b);void 0!==f.__kb&&(l=f.__kb._attrListeners,c=f.__kb._styleListeners,b=f.__kb._parentAttrListeners,f=f.__kb._parentStyleListeners,void 0!==l[d]&&p(l[d],h),void 0===h._stopPropogation&&void 0!==c[d]&&p(c[d],h),void 0===h._stopPropogation&&void 0!==l["*"]&&(p(l["*"],h),void 0===h._stopPropogation&&p(c["*"],h)),
void 0===h._stopPropogation&&void 0!==b[d]&&t(b[d],h),void 0===h._stopPropogation&&void 0!==f[d]&&t(f[d],h),void 0===h._stopPropogation&&void 0!==b["*"]&&(t(b["*"],h),void 0===h._stopPropogation&&t(f["*"],h)));void 0===h._stopPropogation&&void 0!==I[d]&&p(I[d],h);void 0===h._stopPropogation&&void 0!==B[d]&&p(B[d],h);void 0===h._stopPropogation&&void 0!==I["*"]&&(p(I["*"],h),void 0===h._stopPropogation&&p(B["*"],h));return void 0!==h._preventDefault?!1:!0},v=function(f,d,h,l,c,b){h=new E(f,d,h,l,c,
b,"update");void 0!==f.__kb&&(l=f.__kb._attrUpdateListeners,c=f.__kb._styleUpdateListeners,b=f.__kb._parentAttrUpdateListeners,f=f.__kb._parentStyleUpdateListeners,void 0!==l[d]&&p(l[d],h),void 0===h._stopPropogation&&void 0!==c[d]&&p(c[d],h),void 0===h._stopPropogation&&void 0!==l["*"]&&(p(l["*"],h),void 0===h._stopPropogation&&p(c["*"],h)),void 0===h._stopPropogation&&void 0!==b[d]&&t(b[d],h),void 0===h._stopPropogation&&void 0!==f[d]&&t(f[d],h),void 0===h._stopPropogation&&void 0!==b["*"]&&(t(b["*"],
h),void 0===h._stopPropogation&&t(f["*"],h)));void 0===h._stopPropogation&&void 0!==J[d]&&p(J[d],h);void 0===h._stopPropogation&&void 0!==y[d]&&p(y[d],h);void 0===h._stopPropogation&&void 0!==J["*"]&&(p(J["*"],h),void 0===h._stopPropogation&&p(y["*"],h));return void 0!==h._preventDefault?!1:!0};q.injectPrototypeProperty=function(f,d,h,l,c){var b=f.prototype,g=Object.getOwnPropertyDescriptor(b,d);h=h||f.toString().split(/\s+/)[1].split("{")[0].replace("()","");var m=r[h];l=l||N;c=c||v;void 0===b.attrListeners&&
(b={},b.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);return this.__kb}.bind(b),b.addAttrListener=q.addAttrListener,b.addAttrUpdateListener=q.addAttrUpdateListener,b.addChildAttrListener=O,b.addChildAttrUpdateListener=Q,b.hasListener=D,b.removeAttrListener=q.removeAttrListener,b.removeAttrUpdateListener=q.removeAttrUpdateListener,b.removeChildAttrListener=M,b.removeChildAttrUpdateListener=G,b.stopChange=H);void 0===m&&(r[h]={obj:f,proto:b,descriptors:{},set:void 0,update:void 0},
m=r[h],m.set=l,m.update=c);void 0===m.descriptors[d]&&(m.descriptors[d]=g);g.configurable&&(void 0!==g.set?Object.defineProperty(b,d,{get:g.get,set:e(g,d,l,c),enumerable:!0,configurable:!0}):"function"===typeof g.value?Object.defineProperty(b,d,{value:S(g,d,l,c),writable:!0,enumerable:!0,configurable:!0}):void 0!==g.value&&Object.defineProperty(b,d,{get:function(){return g.value},set:P(g,d,l,c),enumerable:!0,configurable:!0}));return q};q.injectStyleProperty=function(f,d,h,l){var c=f.style,b=Object.getOwnPropertyDescriptor(c,
d),g=f.attrListeners().injectedStyle;h=h||N;l=l||v;void 0===g&&(f.attrListeners().injectedStyle={obj:f,proto:c,descriptors:{},set:void 0,update:void 0},f.attrListeners().injectedStyle.set=h,f.attrListeners().injectedStyle.update=l,g=f.attrListeners().injectedStyle);void 0===g.descriptors[d]&&(g.descriptors[d]=b);b.configurable&&Object.defineProperty(c,d,R(b,d,h,l,f));return q};q.injectPrototypes=function(f,d,h,l){var c=f.prototype;d=d||f.toString().split(/\s+/)[1].split("{")[0].replace("()","");var b=
r[d],g=Object.getOwnPropertyNames(c);h=h||N;l=l||v;var m;void 0===c.attrListeners&&(c.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);return this.__kb},c.addAttrListener=q.addAttrListener,c.addAttrUpdateListener=q.addAttrUpdateListener,c.addChildAttrListener=O,c.addChildAttrUpdateListener=Q,c.removeAttrListener=q.removeAttrListener,c.removeAttrUpdateListener=q.removeAttrUpdateListener,c.removeChildAttrListener=M,c.removeChildAttrUpdateListener=G,c.hasListener=D,c.stopChange=H);void 0===
b&&(r[d]={obj:f,proto:c,descriptors:{},set:void 0,update:void 0},b=r[d],b.set=h,b.update=l);m=r[d].descriptors;for(l=0;l<g.length;l+=1)void 0===m[g[l]]&&q.injectPrototypeProperty(f,g[l],d,h,v);if(-1!==g.indexOf("value")){var k=function(c){var g,d,h;if("checkbox"===this.type||"radio"===this.type)g=!0;d=g?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){h=g?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;g&&(b.set(this,
"checked",this.checked,d)?b.update(this,"checked",this.checked,d):m.checked.set.call(this,d));this.value!==h&&(this.value=h);b.set(this,"value",this.value,d)?b.update(this,"value",this.value,d):m.value.set.call(this,d)}.bind(this),0)};c.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",k)};c.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",k)};c.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=
void 0;this.removeEventListener("mouseup",k)};c.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",k)}}return q};q.addAttrListener=function(f,d,h){if("html"===f){f=0;for(var l=u.length;f<l;f++)F.call(this,u[f],d,h,!1)}else if("events"===f)for(f=0,l=w.length;f<l;f++)F.call(this,w[f],d,h,!1);else F.call(this,f,d,h,!1);return this};q.addAttrUpdateListener=function(f,d,h){if("html"===f){f=0;for(var l=u.length;f<l;f++)F.call(this,u[f],d,h,!0)}else if("events"===
f)for(f=0,l=w.length;f<l;f++)F.call(this,w[f],d,h,!0);else F.call(this,f,d,h,!0);return this};q.removeAttrListener=function(f,d,h){if("html"===f){f=0;for(var l=u.length;f<l;f++)L.call(this,u[f],d,h,!1)}else if("events"===f)for(f=0,l=w.length;f<l;f++)L.call(this,w[f],d,h,!1);else L.call(this,f,d,h,!1);return this};q.removeAttrUpdateListener=function(f,d,h){if("html"===f){f=0;for(var l=u.length;f<l;f++)L.call(this,u[f],d,h,!0)}else if("events"===f)for(f=0,l=w.length;f<l;f++)L.call(this,w[f],d,h,!0);
else L.call(this,f,d,h,!0);return this};q.hasListener=function(f,d,h){"html"===d&&(d="innerHTML");"events"===d&&(d="onclick");switch(f){case "attr":if(n(I[d],h))return!0;break;case "attrupdate":if(n(J[d],h))return!0}return!1};q.injectedPrototypes=function(){return r};return q}"function"===typeof define&&define.amd&&define("KB",E);return E}(),Z=function(E){return function(){function p(r){document.createDocumentFragment();this.name=r.tagName.toLowerCase();this.template=q[this.name]||'<div class="missing_component">Unknown Component</div>';
this.node=r;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name;if(this.template.match(K())){var u=this.template;r=K();for(var u=u.split(r).filter(Boolean),A={},w=0,n,p,t=u.length;w<t;w++)u[w].match(r)&&(n=e(u[w].substring(u[w].indexOf("<"),u[w].indexOf("}}"))+"}").replace(/[<>]/g,""),0===n.indexOf("/")&&A[n.replace("/","")]?(n=n.replace("/",""),p=Object.keys(A[n],"array"),0!==p.length&&
(p=p[p.length-1],u[p]="\x3c!--"+u[p],A[n].splice(parseInt(p,10),1),u[w]+="--\x3e",p=Object.keys(A[n],"array"),0===p.length&&(A[n]=null,delete A[n]))):(A[n]||(A[n]=[]),A[n][w]=u[w]));w=0;p=Object.keys(A);for(t=p.length;w<t;w++)for(r=Object.keys(A[p[w]],"array");w<t;w++)u[r[0]]="\x3c!--"+u[r[0]]+"--\x3e";this.template=u.join("")}}function t(e,u,A,n){return{value:e,writable:!!u,enumerable:!!n,configurable:!!A}}function n(){return new RegExp("(\\"+G.split("").join("\\")+")(.*?)(\\"+D.split("").join("\\")+
")","g")}function K(){return new RegExp("(<\\"+G.split("").join("\\")+".*?\\"+D.split("").join("\\")+".*?>|<\\/\\"+G.split("").join("\\")+".*?\\"+D.split("").join("\\")+">)")}function C(e){return e.split(new RegExp("("+G.split("").join("\\")+")(.*?)("+D.split("").join("\\")+")","g")).map(function(e,r,n){return n[r-1]===G?G+e+D:e}).filter(function(e,r,n){return 0!==e.length&&e!==G&&e!==D&&0!==e.length})}function e(e){return e.replace(new RegExp("["+G+D+"]","g"),"").replace(new RegExp("(\\"+H.split("").join("\\")+
"(.*?)+)","g"),"").replace(/\s/g,"")}function P(e){return e.reduce(function(e,r){r.match(/(\()(.*?)(\))/)?e.vmFilters[e.vmFilters.length]=r.replace(/[\(\)]/g,""):r.match(/(\[)(.*?)(\])/)?-1!==r.indexOf("~")?e.model[e.model.length]=r.replace(/[\[\]\~]/g,""):-1!==r.indexOf("+")?e.local[e.local.length]=r.replace(/[\[\]\+]/g,""):e.session[e.session.length]=r.replace(/[\[\]\-]/g,""):e.filters[e.filters.length]=r;return e},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function S(e){return-1!==
e.indexOf("for")?e.replace(new RegExp("["+G+D+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(e){return 0!==e.length}):[]}function R(e){if(2>e.split("==").length&&2>e.split("<=").length&&2>e.split(">=").length&&-1!==e.indexOf("="))return e.substring(e.indexOf("=")+1,e.length)}function F(e){var u=e.match(/^(\s*)(>)((.*?)+)/),n=e.match(/^(\s*)(<)((.*?)+)/);e=e.replace(/(^<|^>)((.*?)+)/,"$2");var q=R(e),p=e.match(/((==|<=|>=|<|>)((.*?)+))/g),t=e.match(/(([\+\*-\/])((.*?)+))/g);
return{type:u?"insert":n?"outsert":void 0,set:q!==e?q:void 0,filters:p||t?{boolFilter:p?eval("(function(){ return function(v){ return (v"+p[0]+");};}())"):void 0,mathFilter:t?eval("(function(){ return function(v){ return (v"+t[0]+");};}())"):void 0}:void 0}}function L(e){if(0!==e.length){for(var u="",n=0,q=e.length;n<q;n++)if("string"===typeof e[n])u+=e[n];else if(void 0===e[n]._data)u+=e[n].text;else var p=e[n]._data.get(e[n].key),u=u+O(void 0!==p?p:"",e[n].filters.filters,e[n]._data.filters);return u}return O(e[0]._data.get(e[0].key)||
"",e[0].filters.filters,e[0]._data.filters)}function O(e,n,q){for(var p=0,t=n.length;p<t;p++)q[n[p]]&&(e=q[n[p]](e));return e}function Q(e,n,q,p){for(var t=0,y=n.length;t<y;t++)if(q[n[t]])q[n[t]](e,p);return e}function M(){function e(d,h){var f=F(h);this.text=d;this.key=h.replace(/(^>|^<*)(.*?)([=*+-\/<>]+)((.*?)+)/g,"$2").replace(/\s/g,"");this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var c;c=-1!==d.indexOf(H)?d.replace(new RegExp("["+D+"]","g"),"").replace(new RegExp("(.*?)(\\"+
H.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[];this.filters=P(c);this.component="for"===this.type?S(d)[1]:void 0;this.id=0;this.subType=f.subtype;this.set=f.set;this.inlineFilters=f.filters;this.isBase=!1}function n(d,h){for(var e=0,c=h.length;e<c;e++)d.stopChange().appendChild(h[e])}function q(d){if(d&&window.model)return window.model.get(d[0])}function p(d,e){if(e&&0!==e.length&&window.model)for(var f=0,c=e.length;f<c;f++)window.model.set(e[f],d)}function B(d){if(d&&window.localStorage)return localStorage.getItem(d[0])}
function C(d,e){if(d&&0!==d.length&&window.localStorage)for(var f=0,c=d.length;f<c;f++)localStorage.setItem(d[f],e)}function v(d){if(d&&window.sessionStorage)return sessionStorage.getItem(d[0])}function f(d,e){if(d&&0!==d.length&&window.sessionStorage)for(var f=0,c=d.length;f<c;f++)sessionStorage.setItem(d[f],e)}Object.defineProperties(e.prototype,{addPointer:t(function(d){for(var e=document.createElement(this.component),f=Q(this._data.getLayer(this.key),this.filters.filters,this._data.filters,d)[d],
c=0,b=Object.keys(f,"all"),g=b.length;c<g;c++)e.k_post||(e.k_post={}),e.k_post[b[c]]=f,e.k_post.x=d,e.k_post.loopid=this.component+"_"+d;d>=this.node.children.length?this.node.stopChange().appendChild(e):this.node.stopChange().insertBefore(e,this.node.children[d]);y({event:"loopitem",node:e,parent:this.node,map:this});return this}),removePointer:t(function(d){for(var e=this.node.children[d].kb_maps,f=0,c=Object.keys(this.node.children[d].kb_viewmodel.pointers),b=c.length;f<b;f++){var g=e[c[f]];if(g)for(var m=
0,k=g.length;m<k;m++)g[m].unsync(),g[m]=null,delete g[m]}this.node.stopChange().removeChild(this.node.children[d]);f=0;for(b=this.node.children.length;f<b;f++)this.node.children[f].kb_viewmodel.x=f,d=this.node.children[f].kb_viewmodel.loopid,this.node.children[f].kb_viewmodel.loopid=d.substring(0,d.lastIndexOf("_")+1)+f;return this}),reapplyPointer:t(function(d){for(var e=this.node.children[d].kb_maps,f=this.node.children[d].kb_viewmodel.loopid,c=0,b=Object.keys(this.node.children[d].kb_viewmodel.pointers),
g=b.length;c<g;c++){var m=e[b[c]];if(void 0!==m)for(var k=0,r=m.length;k<r;k++)m[k].reconnect()}this.node.children[d].kb_viewmodel.x=d;this.node.children[d].kb_viewmodel.loopid=f.substring(0,f.lastIndexOf("_")+1)+d;return this}),connect:t(function(d){var e=this;this._data=d;if("for"!==this.type){if(void 0!==this._data.pointers[this.key]&&void 0!==this._data.pointers[this.key].filters)for(var f=this._data.pointers[this.key].filters.dataFilters,c=0,b=Object.keys(this._data.pointers[this.key].filters.stringFilters),
g=b.length;c<g;c++)for(var m=this._data.pointers[this.key].filters.stringFilters[b[c]],k=0,r=m.length;k<r;k++)-1===this.filters[b[c]].indexOf(m[k])&&(this.filters[b[c]].push(m[k]),-1!==["vmfilters","filters"].indexOf(b[c])&&void 0!==f[m[k]]&&void 0===this._data.filters[m[k]]&&(this._data.filters[m[k]]=f[m[k]]));if(this.insert){this.setDom(this._data.get(this.key));this.unsync();return}this.set&&(f=!isNaN(parseInt(this.set,10))&&parseInt(this.set,10).toString().length===this.set.length,c="true"===
this.set.replace(/\s/g,"")||"false"===this.set.replace(/\s/g,""),b=-1!==this.set.indexOf('"')||-1!==this.set.indexOf("'"),(this.set=f?parseInt(this.set,10):c?"true"===this.set.replace(/\s/g,""):b?this.set.replace(/((\s*\"|\')(.*?)(\"|\'))/g,"$3"):void 0)&&this._data.set(this.key,this.set));if(this.outsert){this.setDom("");this.unsync();return}this.inlineFilters&&(this.inlineFilters.boolFilter?(this.filters.filters.unshift("boolFilter"),this._data.filters.boolFilter=this.inlineFilters.boolFilter):
(this.filters.filters.unshift("mathFilter"),this._data.filters.mathFilter=this.inlineFilters.mathFilter));if("component"===this.type)return this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,q(this.filters.model)):this.filters.session&&0!==this.filters.session.length?this._data.stopChange().set(this.key,v(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,B(this.filters.local)),this.node.k_post||(this.node.k_post=
{}),this.node.k_post[this.attr]={filters:{dataFilters:this._data.filters,stringFilters:this.filters},pointer:this._data.getLayer(this.key),key:this.key.split(".").pop()},this;if("node"===this.type)return this.isBase&&(this.dataListener=function(b){"delete"===b.event?e.unsync():e.replaceNode()},d.getLayer(this.key).addDataUpdateListener(this.localKey,this.dataListener)),this;this.dataListener=function(b){"delete"===b.event?e.unsync():e.setDom(b.value)};this.isEvent||d.getLayer(this.key).addDataUpdateListener(this.localKey,
this.dataListener);1!==this.bindText.length||this.isEvent||(this.domListener=function(b){e.setData(b.value)},this.node.__kbhtmllistener=!0,this.node.addAttrUpdateListener(this.listener,this.domListener))}else this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");e.setLoop(b.key,b.event)},d.getLayer(this.key).addDataMethodUpdateListener(this.dataListener);"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,
q(this.filters.model)):this.filters.session&&0!==this.filters.session.length?this._data.stopChange().set(this.key,v(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,B(this.filters.local)),this.isEvent?(this.eventChange=function(b){e.node.stopChange().removeEventListener(e.attr.replace("on",""),b.oldValue);e.node.stopChange().addEventListener(e.attr.replace("on",""),b.value)},this._data.addDataListener(this.key,this.eventChange),this.node.stopChange().addEventListener(this.attr.replace("on",
""),this._data.get(this.key))):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",n(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=L(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(d=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==d?d:"")));return this}),reconnect:t(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,
this.domListener)):this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:t(function(){this.node.stopChange().innerHTML="";for(var d=0,e=Q(this._data.get(this.key),this.filters.filters,this._data.filters).length;d<e;d++)this.setLoop(d,"create");return this}),setData:t(function(d){d=O(d,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,d);p(this.filters.model,d);f(this.filters.session,d);C(this.filters.local,
d);return this}),setDom:t(function(d){p(this.filters.model,d);f(this.filters.session,d);C(this.filters.local,d);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",n(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=L(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&
(d=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==d?d:""));return this}),setLoop:t(function(d,e){switch(e){case "create":this.addPointer(d);break;case "delete":this.removePointer(d);break;case "set":this.reapplyPointer(d);break;default:if("push"!==e)for(var f=0,c=this._data.getLayer(this.key).length;f<c;f++)this.reapplyPointer(f)}return this}),bindMaps:t([]),unsync:t(function(){this._data=this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=
null;delete this.binds;return this}),reset:t(function(){"for"===this.type?this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener).addDataMethodUpdateListener(this.extraListener):this.dataListener&&(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener).addDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener).addAttrUpdateListener(this.listener,this.domListener))}),
replaceNode:t(function(){var d=document.createDocumentFragment(),e=d.appendChild(document.createElement("div")),f,c=!1,b=this;e.innerHTML=this.bindText.map(function(g,d){if("object"===typeof g){if(void 0===g._data)return c=!0,"";if(g.key===b.bindText[1].key){var e=O(g._data.get(g.key),g.filters,g._data.filters)||"unknown";"unkown"===e&&1===d&&console.error("You attempted to bind a node to %o, which does not exist on %o, with bindText: %o",g.key,g._data,g.base);return e}return O(g._data.get(g.key),
g.filters,g._data.filters)}return g}).join("");c||(f=e.children[0],d.replaceChild(f,e),this.base.local.parentElement.stopChange().replaceChild(d,this.base.local),this.base.local=f,y({event:"replaceNode",node:this.base.local,parent:this.node,map:this.base}))})});return e}var G="{{",D="}}",H="|",q={},I=/(<\/.*?>)/g;E().call();var J=Object.keys(HTMLElement.prototype).filter(function(e){return 0===e.indexOf("on")}).concat(["ontouchstart","ontouchend","ontouchmove"]),B={loopitem:[],replaceNode:[]},y=function(e){for(var n=
B[e.event],q=0,p=n.length;q<p;q++)n[q](e)};p.start=function(e){if(void 0===e)return G;G="string"===typeof e?e:G;return p};p.end=function(e){if(void 0===e)return D;D="string"===typeof e?e:D;return p};p.pipe=function(e){if(void 0===e)return H;H="string"===typeof e?e:H;return p};p.getUnknown=function(e){var n=e.match(I).map(function(e){return e.replace(/[<\/>]/g,"")});n.filter(function(e,r){return 0!==e.indexOf(G)&&document.createElement(e)instanceof HTMLUnknownElement&&-1===n.indexOf(e,r+1)&&void 0===
q[e]});return n};p.isRegistered=function(e){return void 0!==q[e]};p.register=function(e,n){void 0===q[e]?(q[e]=n,p.getUnknown(n)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",e);return this};p.addEventListener=function(e,n){void 0!==B[e]?B[e].push(n):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",e);return p};p.removeEventListener=function(e,n){if(void 0!==B[e])for(var q=0,t=B[e].length;q<t;q++)B[e][q].toString()===
n.toString()&&B[e].splice(q,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",e);return p};Object.defineProperties(p.prototype,{register:t(p.register),isRegistered:t(p.isRegistered),getUnknown:t(p.getUnknown),map:t(function(r){function q(p,t){for(var y=0,B=p.length;y<B;y++)if(void 0===p[y].kb_maps&&8!==p[y].nodeType){p[y].kb_mapper=r;p[y].kb_maps=t;if(3===p[y].nodeType){var v=p[y],f=t,d=v.textContent;if(d.match(n())){var h=C(d),l=M();l.prototype.type=
d.match(new RegExp("(\\"+G.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+D.split("").join("\\")+")","g"))?"for":"text";l.prototype.text=d;l.prototype.bindText=h;l.prototype.listener="textContent";l.prototype.attr="textContent";l.prototype.localAttr="textContent";l.prototype.local=v;l.prototype.node=v.parentElement;l.prototype.binds=f;v=0;for(d=h.length;v<d;v++)if(0===h[v].indexOf(G)){var c="for"===l.prototype.type?S(h[v])[0]:e(h[v]),b=new l(h[v],c);void 0===f[c]&&(f[c]=[]);b.bindText[v]=b;
b.bindMaps.push(b);b.id=f[c].length;f[c].push(b)}}}else for(f=p[y],h=t,l=Array.prototype.slice.call(f.attributes),v=f instanceof HTMLUnknownElement,d=0,c=l.length;d<c;d++)if(l[d].value.match(n())){var b=C(l[d].value),g=M();g.prototype.type=v?"component":"attribute";g.prototype.text=l[d].value;g.prototype.bindText=b;g.prototype.isEvent=-1!==J.indexOf(l[d].name);g.prototype.isInput="input"===f.tagName.toLowerCase();g.prototype.isRadio=g.prototype.isInput?-1!==["radio","checkbox"].indexOf(f.type):!1;
g.prototype.listener=l[d].name;g.prototype.attr=l[d].name;g.prototype.localAttr="value";g.prototype.local=l[d];g.prototype.node=f;g.prototype.binds=h;g.prototype.isEvent&&f.removeAttribute(l[d].name);for(var m=0,k=b.length;m<k;m++)if(0===b[m].indexOf(G)){var z=e(b[m]),T=new g(b[m],z);void 0===h[z]&&(h[z]=[]);T.bindText[m]=T;T.bindMaps.push(T);T.id=h[z].length;h[z].push(T)}}p[y].childNodes&&0!==p[y].childNodes.length&&(t=q(p[y].childNodes,t))}else if(8===p[y].nodeType&&(v=p[y],f=t,d=v.textContent,
d.match(K())))for(h=C(d),l=M(),l.prototype.type="node",l.prototype.text=d,l.prototype.bindText=h,l.prototype.base=h[1],l.prototype.listener="textContent",l.prototype.attr="textContent",l.prototype.localAttr="textContent",l.prototype.local=v,l.prototype.node=v.parentElement,l.prototype.binds=f,l.prototype.replacement=void 0,v=0,d=h.length;v<d;v++)0===h[v].indexOf(G)&&(c=e(h[v]),b=new l(h[v],c),void 0===f[c]&&(f[c]=[]),b.bindText[v]=b,b.bindMaps.push(b),b.id=f[c].length,1===v&&(l.prototype.base=b,b.isBase=
!0),f[c].push(b));return t}return q(r.childNodes,{})})});return p}}(W),aa=function(){return function(){function E(n){0===n.length&&(n=p);document.body.innerHTML="<"+n+"></"+n+">";t(n);return E}var p="",t=function(){};E.base=function(n){if(void 0===n)return p;p="string"===typeof n?n:p;return E};E.onChange=function(n){if(void 0===n)return t;t="function"===typeof n?n:t;return E};E.watch=function(n){window.onhashchange=n?function(){E(window.location.hash.replace("#",""))}:null;return E};return E}}(),
V=function(E,p,t,n,K){return function(t){function e(b,c,d,f,l){function n(b,c,g,d,e){for(var f=B({},b),k=0,m=Object.keys(d),l=m.length;k<l;k++)-1!==h.indexOf(m[k])?Object.defineProperty(f,m[k],F(d[m[k]],"filters"!==m[k])):d.pointers?void 0===d.pointers[m[k]]&&f.set(m[k],d[m[k]]):f.set(m[k],d[m[k]]);if(d.pointers)for(f.pointers||Object.defineProperty(f,"pointers",F({},!1,!0)),k=0,m=Object.keys(d.pointers),l=m.length;k<l;k++)f.pointers[m[k]]=d.pointers[m[k]],f.addPointer(f.pointers[m[k]].point,f.pointers[m[k]].key,
m[k]);k=0;m=Object.keys(c.prototype);for(l=m.length;k<l;k++)Object.defineProperty(f,[m[k]],F(c.prototype[m[k]],!0));c.apply(f,g);k=0;m=Object.keys(e);for(l=m.length;k<l;k++)-1!==h.indexOf(m[k])?Object.defineProperty(f,m[k],F(e[m[k]],"filters"!==m[k])):e.pointers?void 0===e.pointers[m[k]]&&f.set(m[k],e[m[k]]):f.set(m[k],e[m[k]]);if(e.pointers)for(f.pointers||Object.defineProperty(f,"pointers",F({},!1,!0)),k=0,m=Object.keys(e.pointers),l=m.length;k<l;k++)f.pointers[m[k]]=e.pointers[m[k]],f.addPointer(f.pointers[m[k]].point,
f.pointers[m[k]].key,m[k]);k=0;m=Object.keys(f.filters);for(l=m.length;k<l;k++)f.filters[m[k]]=f.filters[m[k]].bind(f);if(f.sessionStorage){if(c=sessionStorage.getItem(f.id||b))for(c=JSON.parse(c),k=0,m=Object.keys(c),l=m.length;k<l;k++)f.set(m[k],c[m[k]]);else sessionStorage.setItem(f.id||b,f.stringify());f.addChildDataUpdateListener("*",function(){sessionStorage.setItem(f.id||b,f.stringify())})}if(f.localStorage){if(c=localStorage.getItem(f.id||b))for(c=JSON.parse(c),k=0,m=Object.keys(c),l=m.length;k<
l;k++)f.set(m[k],c[m[k]]);else localStorage.setItem(f.id||b,f.stringify());f.addChildDataUpdateListener("*",function(){localStorage.setItem(f.id||b,f.stringify())})}f.store&&U.set(f.id||b,f);return f}function p(b,c,g){b.kb_viewmodel=g;var d=c.maps=c.map(c.wrapper);c.wrapper.kb_maps=d;Object.keys(d).forEach(function(b){d[b].forEach(function(b){switch(b.type){case "for":b.connect(g).createloop();break;case "component":b.connect(g).unsync();break;case "node":b.connect(g).replaceNode();break;default:b.connect(g)}})});
c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,c.wrapper);c.wrapper.kb_viewmodel.onGlobalFinish&&c.wrapper.kb_viewmodel.onGlobalFinish.call(c.wrapper.kb_viewmodel,c.wrapper);c.wrapper.kb_viewmodel.onNodeFinish&&c.wrapper.kb_viewmodel.onNodeFinish.call(c.wrapper.kb_viewmodel,c.wrapper)}function q(b){b=b.querySelectorAll("*");for(var c=0,g=b.length;c<g;c++)b[c]instanceof HTMLUnknownElement&&e(b[c])}function r(b,d){u=new A(d,!0);u.wrapper.innerHTML=u.template;u.wrapper.kb_mapper=u.wrapper;
Object.defineProperty(u.wrapper,"__kbcomponenttree",F(d.kb_mapper?d.kb_mapper.__kbcomponenttree.slice():[]));d.parentElement.stopChange().replaceChild(u.fragment,d);c.unshift(u.wrapper);p(u.wrapper,u,n(b,N[b],c,v,w));-1===u.wrapper.__kbcomponenttree.indexOf(b)||u.wrapper.kb_viewmodel.multiple?(u.wrapper.__kbcomponenttree.push(b),u.wrapper.className+=" "+u.wrapper.kb_viewmodel.local,u.wrapper.className+=" "+u.wrapper.kb_viewmodel.id,u.wrapper.className+=u.wrapper.kb_viewmodel.loopid?" "+u.wrapper.kb_viewmodel.loopid:
"",u.wrapper.kb_viewmodel.subscribeDeep("*",P).callAllSubscribers(),u.wrapper.kb_viewmodel.kbnode=u.wrapper,u.wrapper.addChildAttrListener("html",function(b){if(!b.stopChange){if(-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&(b.arguments[0]instanceof HTMLUnknownElement||b.arguments[0]instanceof HTMLScriptElement)||-1!==["innerHTML","textContent"].indexOf(b.attr)&&b.target.__kbhtmllistener)return!0;b.preventDefault();b.stopPropagation()}}),u.wrapper.addChildAttrUpdateListener("html",
function(b){-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&b.arguments[0]instanceof HTMLUnknownElement&&e(b.arguments[0])}),q(u.wrapper)):(console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",b),console.error("Recursive Component %o on %o",
u.wrapper,u.wrapper.parentElement))}var t=b.tagName.toLowerCase(),u;l=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")});var v=R(y,{}),w={};void 0===c&&(c=[]);d&&R(d,v);Object.defineProperty(v,"local",F(v.local||"local_"+t+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(v,"id",F(v.id||"id_"+t+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(v,"filters",F(v.filters||{},!1,!1,!0));"function"!==typeof v.onFinish&&
(v.onFinish=function(){});Object.defineProperty(v,"onGlobalFinish",F(v.onFinish,!0,!1,!0));v.listen=O;Object.defineProperty(v,"listen",F(v.listen,!0,!1,!0));v.unlisten=L;Object.defineProperty(v,"unlisten",F(v.unlisten,!0,!1,!0));v.alert=Q;Object.defineProperty(v,"alert",F(v.alert,!0,!1,!0));Object.defineProperty(v,"sessionStorage",F(!1,!0,!1,!0));Object.defineProperty(v,"localStorage",F(!1,!0,!1,!0));Object.defineProperty(v,"store",F(!1,!0,!1,!0));Object.defineProperty(v,"multiple",F(!1,!0,!1,!0));
f&&R(f,w);w.innerHTML=Array.prototype.slice.call(b.childNodes);d=0;for(f=b.attributes.length;d<f;d++)w[b.attributes[d].name]=b.attributes[d].value;d=0;for(f=l.length;d<f;d++)b[l[d]]&&(w[l[d]]=b[l[d]]);b.k_post&&R(b.k_post,w);e.isRegistered(t)||b.kb_isLoading?e.isRegistered(t)&&r(t,b):(e.loadWaitList(t,function(c,g){r(t,b)}),e.loadWaitList(t).loading||(e.loadWaitList(t).loading=!0,J(t)))}function P(b){var c=this.__kbref.local,d=this.__kbref.id,e=this.__kbref.loopid,h=this.__kbscopeString+(0!==this.__kbscopeString.length?
".":"")+b.key;if(f[c]&&f[c][h])for(var l=0,n=f[c][h].length;l<n;l++)f[c][h][l](b);if(f[d]&&f[d][h])for(l=0,n=f[d][h].length;l<n;l++)f[d][h][l](b);if(f[e]&&f[e][h])for(l=0,n=f[e][h].length;l<n;l++)f[e][h][l](b)}function S(b){var c=b.node.tagName.toLowerCase();e.isRegistered(c)||b.node.kb_isLoading?e.isRegistered(c)&&("replaceNode"===b.event?e(b.node,[],{onNodeFinish:function(c){b.map.local=c}}):e(b.node)):(b.node.kb_isLoading=!0,e.loadWaitList(c,function(c,d){"replaceNode"===b.event?e(b.node,[],{onNodeFinish:function(c){b.map.local=
c}}):e(b.node)}),e.loadWaitList(c).loading||(e.loadWaitList(c).loading=!0,J(c)))}function R(b,c){var d=Object.keys(b);c.pointers||Object.defineProperty(c,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var e=0,f=d.length;e<f;e++)if(B.prototype.isObservable(b,d[e]))c.pointers[d[e]]={key:b.__kbscopeString.split(".").pop(),point:b.__kbImmediateParent};else if(B.prototype.isMixed(b[d[e]]))c.pointers[d[e]]={key:b[d[e]].__kbscopeString.split(".").pop(),point:b[d[e]].__kbImmediateParent};
else if(B.prototype.isObject(b[d[e]])&&b[d[e]].pointer)c.pointers[d[e]]={filters:b[d[e]].filters,key:b[d[e]].key,point:b[d[e]].pointer};else if(B.prototype.isObject(b[d[e]])){void 0===c[d[e]]&&(c[d[e]]={});for(var h=0,l=Object.keys(b[d[e]]);h<f;h++)c[d[e]][l[h]]=b[d[e]][l[h]]}else if(B.prototype.isArray(b[d[e]]))for(h=0;h<f;h++)c[d[e]][h]=b[d[e]][h];else c[d[e]]=b[d[e]];return c}function F(b,c,d,e){return{value:b,writable:!!c,enumerable:!!e,configurable:!!d}}function L(b,c,d){if(2===arguments.length)if(d=
c.bind(this),c=b,v[c])for(var e=0,h=v[c].length;e<h;e++)v[c][e].toString()===d.toString()&&v[c].splice(e,1);else console.error("no listeners exists by key %o",c);else if(d=d.bind(this),f[b]&&f[b][c])for(e=0,h=f[b][c].length;e<h;e++)f[b][c].toString()===d.toString()&&f[b][c].splice(e,1);return this}function O(b,c,d){if(2===arguments.length)d=c.bind(this),c=b,v[c]||(v[c]=[]),v[c].push(d);else if(d=d.bind(this),f[b]||(f[b]={}),f[b][c]||(f[b][c]=[]),f[b][c].push(d),document.querySelector("."+b)){var e=
f[b][c],h=document.querySelector("."+b).kb_mapper.kb_viewmodel,l=h.getLayer(c),n=c.split(".").pop(),p=l[n];e[e.length-1]({key:n,value:p,oldValue:p,local:l,kbref:h,onChange:!1,initial:!0})}return this}function Q(b,c){if(v[b])for(var d=0,e=v[b].length;d<e;d++)v[b][d](c);return this}function M(){if(!document.querySelector('meta[name="viewport"]')){var b=document.createElement("meta");b.name="viewport";b.content="width=device-width, initial-scale=1.0";document.head.stopChange().appendChild(b)}e.device||
(e.device={});e.device.type=e.detectDevice();e.device.orientation=e.detectOrientation();e.device.browser=e.detectBrowser();e.device.screenSize=e.detectScreenSize();e.device.orientationSize=e.detectScreenOrientation();e.device.keyboard="desktop"!==e.device.type?window.innerHeight<screen.height-.4*screen.height:!1;document.body.className=e.device.type+" "+e.device.orientation+(e.device.keyboard?" keyboard":"")+" "+e.device.browser+" "+e.device.screenSize+" "+e.device.orientationSize}function G(b,c){var d=
document.createElement("script");d.src=b;d.onerror=function(){c(null,!0)};d.onload=function(){c(y)};document.head.stopChange().appendChild(d)}function D(b){G((void 0!==y.prefix?y.prefix:"")+"/node_modules/konnekt/config/config.js",b)}function H(b){G((void 0!==y.prefix?y.prefix:"")+"/bower_components/konnekt/config/config.js",b)}function q(b){G((void 0!==y.prefix?y.prefix:"")+"/config/config.js",b)}function I(){for(var b=0,c=u.length;b<c;b++)u[b]()}window.K_Components||(window.K_Components={});var J=
p().onLoad(function(b,c){var d="<style>"+unescape(c.prototype.k_css)+"</style>"+unescape(c.prototype.k_html);e.register(b,c,d,c.prototype.cms);r?(e.loadWaitList(b).forEach(function(d){d(b,c)}),e.loadWaitList(b,"clear")):u.push(function(){e.loadWaitList(b).forEach(function(d){d(b,c)});e.loadWaitList(b,"clear")})}),B=E(),y=t||{},r=!1,u=[],A=n().addEventListener("loopitem",S).addEventListener("replaceNode",S),w=K().base(void 0!==y.base?y.base:"default").watch(!0).onChange(function(b){e(document.querySelector(b))}),
U=B({},"Model"),N={},v={},f={},d=function(){return window.location.search.replace("?","").split("&").filter(function(b){return 0!==b.length}).reduce(function(b,c){b[c.split("=")[0]]=c.split("=")[1];return b},{})}(),h="id filters class sessionStorage localStorage store component multiple".split(" "),l={},c;e.detectDevice=function(){return navigator.userAgent.toLowerCase().match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|[^a-z]rim[^a-z]|sonyericsson|nokia|[^a-z]mib[^a-z])/)?
"mobile":navigator.userAgent.toLowerCase().match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?"tablet":"desktop"};e.detectBrowser=function(){var b=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),c="undefined"!==typeof InstallTrigger,d=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),e=!!document.documentMode,f=
!e&&!!window.StyleMedia,h=!!window.chrome&&!!window.chrome.webstore;return b?"opera":c?"firefox":d?"safari":h?"chrome":e?"ie":f?"edge":"unknown"};e.detectOrientation=function(){return screen.width>screen.height?"landscape":screen.height>screen.width?"portrait":"square"};e.detectScreenOrientation=function(){return window.innerWidth>window.innerHeight?"landscape-size":window.innerHeight>window.innerWidth?"portrait-size":"square-size"};e.detectScreenSize=function(){return 1280>("landscape"===this.detectOrientation()?
window.innerWidth:window.innerHeight)?750>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?"mobile-size":"tablet-size":"desktop-size"};e.config=function(b){function c(b,d){for(var e=0,f=Object.keys(b),h=f.length;e<h;e++)"object"===typeof b[f[e]]?(void 0===d[f[e]]&&(d[f[e]]={}),c(b[f[e]],d[f[e]])):"object"!==d[f[e]]&&(d[f[e]]=b[f[e]])}c(b,y);return e};window.addEventListener("resize",M);document.body?M():document.addEventListener("DOMContentLoaded",function(){M()});e.register=
function(b,c,d,f){A.register(b,d);N[b]=c;return e};e.isRegistered=function(b){return void 0!==N[b]&&A.isRegistered(b)};e.registered=function(){return Object.keys(N)};e.loadWaitList=function(b,c){if("undefined"===typeof c&&b)return l[b];if(b){if(void 0===l[b]||"clear"===c){var d=void 0===l[b]?!1:!!l[b].loading;l[b]=[];l[b].loading=d}"function"===typeof c&&l[b].push(c)}return e};e.localRouting=function(b){b?(c=Node.prototype.appendChild,Node.prototype.appendChild=function(b){if("script"===b.nodeName.toLowerCase()){b.src=
b.src.substring(0,-1!==b.src.indexOf("?")?b.src.indexOf("?"):b.src.length);var e=b.src.match(/(.*?component\/)/);e&&(d.env||(d.env="prod"),"dev"===d.env&&(d.env="qa"),e=b.src.replace(e[0],"").replace(/[\/\s]/g,""),b.src=(void 0!==y.prefix?y.prefix:"")+"/components/"+e+"/build/"+d.env+"/"+e+(d.debug&&"prod"!==d.env?"":".min")+".js",arguments[0]=b)}return c.apply(this,arguments)}):c&&(Node.prototype.appendChild=c,c=null);return e};e.hashRouting=function(b){b&&(document.body?r?w(window.location.hash.replace("#",
"")):u.push(function(){w(window.location.hash.replace("#",""))}):document.addEventListener("DOMContentLoaded",function(){r?w(window.location.hash.replace("#","")):u.push(function(){w(window.location.hash.replace("#",""))})}));return this};e.addHashRouter=function(b){w.addHashListener(b);return e};e.removeHashRouter=function(b){w.removeHashListener(b);return e};B.prototype._parse||(B.prototype._parse=B.prototype.parse);B.prototype.parse=function(){if(this.__kbref.kbnode){var b=this.__kbref.kbnode.kb_mapper.kb_maps;
this._parse.apply(this,arguments);this.unsubscribeDeep("*",P);this.subscribeDeep("*",P).callAllSubscribers();Object.keys(b).forEach(function(c){b[c].forEach(function(b){b.reset()})})}else return this._parse.apply(this,arguments)};(function(){D(function(b,c){c?H(function(b,c){c&&console.error("the Konnekt local config was not found, this issue happens when You do not have Konnekt isntalled via th standard node_modules or bower_components module directories");q(function(b,c){r=!0;I()})}):q(function(b,
c){r=!0;I()})})})();return window.Konnekt=e}}(X,Y,W,Z,aa);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return V}):"undefined"!==typeof module&&(module.exports=V);return V}();
