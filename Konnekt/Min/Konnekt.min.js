var Konnekt=function(){var X=function(){return function(A,p,q,n){function N(b,f,g,h){b=void 0===b?{}:b;var m={},d=window.Proxy?new Proxy(m,{set:O,deleteProperty:S}):m,k=Object.keys(b,"all");Object.defineProperties(m,{__kbname:c("string"===typeof f?f:"default",!0,!0),__kbref:c(g?g.__kbref||g:d,!0,!0),__kbscopeString:c(h||"",!0,!0),__kbImmediateParent:c(g||null,!0,!0),__kbsubscribers:c({}),__kbparentsubscribers:c({}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),
__kbcreatelisteners:c([]),__kbdeletelisteners:c([]),__kbparentcreatelisteners:c([]),__kbparentdeletelisteners:c([]),__kbmethodlisteners:c([]),__kbmethodupdatelisteners:c([]),__kbpointers:c({}),__kbevents:c(T),__kbsetindex:c(0,!0),__kbproto:c({}),length:c(0,!0),__kbnonproxy:c(m,!1,!0),__kbproxy:c(d,!1,!0),_stopChange:c(!1,!0)});m.__proto__=N.prototype;f=0;for(g=k.length;f<g;f++)d.set(k[f],b[k[f]]);m.__kbevents.addlistener=[];m.__kbevents.removelistener=[];m.addActionListener("addlistener",function(b){if("string"===
typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var f=b.local.__kbpointers[b.arguments[0]],f=f.point.getLayer(f.keys);if(void 0!==f[b.arguments[0]])f[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var f=b.local.__kbpointers[b.arguments[0]],f=f.point.getLayer(f.keys);if(void 0!==f[b.arguments[0]])f[b.arguments[2]](b.arguments[0],b.arguments[1])}});
return d}function D(b,f,g,h,m,d,k,e){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=f;this.arguments=d;this.type=this.event=g;this.listener=k;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=h;this.oldValue=m;this.stopChange=e}function c(b,f,g,h){return{value:b,writable:!!f,enumerable:!!h,configurable:!!g}}function R(b,f,g){return{get:function(){return b.call(this)},
set:function(g){f&&(b=g)},enumerable:!1,configurable:!!g}}function U(b,f){var g=f,h=f;return{get:function(){return g},set:function(f){var B=new D(this,b,"set",f,g,arguments,"__kblisteners",this._stopChange);!0!==d(B)&&(h=g,g=f,B.stopChange||(B.listener="__kbupdatelisteners",B.type="postset",d(B)),this.callSubscribers(this.__kbref,this,b,g,h,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function F(){var b=Array.prototype.slice.call(arguments),f=b.shift();return{get:function(){return b.reduce(function(b,
f){return b[f]},f)},set:function(g){var h=b.slice(0,b.length-1).reduce(function(b,f){return b[f]},f);(this._stopChange?h.stopChange():h)[b[b.length-1]]=g;this._stopChange=!1},enumerable:!0,configurable:!0}}function P(b,f){for(var g=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
h=[],m,d=0,k=g.length;d<k;d++)if(m=b[g[d].listener],G.call(m))for(var h=Object.keys(m),e=0,c=h.length;e<c;e++)for(var l=0,v=m[h[e]].length;l<v;l++)f[g[d].method](h[e],m[h[e]][l]);else for(e=0,c=m.length;e<c;e++)f[g[d].method](m[e])}function O(b,f,g){if(K(b,f)||"length"===f||"__kbsetindex"===f){if("length"===f)if(g>b.length&&void 0!==b[g-1])b.length=g;else{if(g<b.length){f=g;for(var h=b.length;f<h;f++)b[f]&&delete b[f];b.length=g}}else b[f]=g;return!0}b.set(f,g)}function S(b,f){b.del(f);return!0}function Q(b,
f,g){var h=t(g),m=G(g),B=J(g);if(h&&g.__kbname!==b.__kbname)"default"===g.__kbname?b.merge(g,f):b.__kbpointers[f]||b.addPointer(g,f);else{var h=new D(this,f,"create",g,void 0,[],"__kbcreatelisteners",this._stopChange),k=d(h),e=parseInt(f,10);if(!0!==k)if((m||B)&&0!==Object.keys(g,"all").length)for(Q.call(this,b,f,{}),m=0,B=Object.keys(g,"all"),h=B.length;m<h;m++)Q.call(this[f],b[f],B[m],g[B[m]]);else{if(m||B)g=new N(g,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+f),P(b,g);
Object.defineProperty(b,f,U(f,g));!isNaN(e)&&b.length<=e&&(b.length=e+1);h.listener="__kbupdatelisteners";h.type="postcreate";d(h)}}}function H(b,f,g,h){var m=t(g),d=G(g),k=J(g);if(m&&g.__kbname!==b.__kbname)"default"===g.__kbname?b.merge(g,f):b.__kbpointers[f]||b.addPointer(g,f);else if(void 0===b[f])-1===y.indexOf(f)?Q.call(this,b,f,g):(h?b.stopChange():b)[f]=g;else if(d||k)for(m=0,d=Object.keys(g,"all"),k=d.length;m<k;m++)H.call(this[f],b[f],d[m],g[d[m]],h);else(h?b.stopChange():b)[f]=g}function I(b){return v.call(b).replace(/(\[object\s|\])/g,
"").toLowerCase()}function G(b){return"object"===I(void 0!==b?b:this)}function J(b){return"array"===I(void 0!==b?b:this)}function t(b){return"mixed"===I(void 0!==b?b:this)}function K(b,f){f="string"===typeof b?b:f;var g=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,f);return g?void 0===g.value:!1}function z(b,f){function g(b){var f=parseFloat(b,10),g="true"===b,h=b.indexOf('"'),m=b.lastIndexOf('"');if(isNaN(f)||f.toString().length!==b.length){if(g||"false"===b)return g;b=0===h&&0!==m?
b.substring(1,b.length-1):b.substring(1,b.length)}else return f;return b}var h=this.__kbnonproxy;split=b.split(/({"|,"(?=(?:[^"]|"[^"]*")*$)|\[(?=(?:[^"]|"[^"]*")*$)|\](?=(?:[^"]|"[^"]*")*$)|":|"}|{(?=(?:[^"]|"[^"]*")*$)|,(?=(?:[^"]|"[^"]*")*$)|}(?=(?:[^"]|"[^"]*")*$))/).filter(Boolean);UKeys=[];isValue=isKey=!1;n="";for(var m=1,d=split.length,k,e,c,l;m<d;m++)k=split[m],e=split[m-1],c=split[m+1],l=UKeys[UKeys.length-1],'":'===e&&'{"'===k||'":'===e&&"["===k?(n+=(0!==n.length?".":"")+l,h[l]||h.set(l,
f?f(l,{},n,h):{}),h=h[l],UKeys.pop()):"["===e||","===e&&0!==h.length?"{"===k||'{"'===k?(n+=(0!==n.length?".":"")+h.__kbsetindex,"object"!==typeof h[h.__kbsetindex]&&h.set(h.__kbsetindex,f?f(h.length,{},n,h):{}),h.__kbsetindex+=1,h=h[h.__kbsetindex-1]):(h.set(h.__kbsetindex,f?f(h.length,g(k),n,h):g(k)),h.__kbsetindex+=1):'":'===e?(h.set(l,f?f(l,g(k),n,h):g(k)),UKeys.pop()):'{"'===e||","===e&&'":'===c?UKeys[UKeys.length]=k.replace(/\"/g,""):"}"!==e&&"]"!==e||void 0===k||(n=-1!==n.indexOf(".")?n.substring(0,
n.lastIndexOf(".")-1):"",h=h.__kbImmediateParent);return this}function u(b,f){"number"===typeof b&&(b=b.toString());var g=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var h=new D(this,b,"set",f,this[b],arguments,"__kbmethodlisteners");!0!==d(h)&&(H.call(this,g,b,f,this._stopChange),this.stopChange=void 0,h.type="postset",h.listener="__kbmethodupdatelisteners",d(h));return this}function C(b){return b.split(".")}function r(b,f){return function(g,
h){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var m=this[f],B=new D(this,f,"addlistener",m,void 0,arguments,"");"string"===typeof g&&1!==C(g).length&&(m=C(g),g=m.pop(),m=m.join("."),B.local=this.getLayer(m),m=B.local[f],B.value=m);!0!==d(B)&&(G.call(m)?(void 0===m[g]&&(m[g]=[]),m[g].push(h),B.type="postaddlistener",d(B)):J.call(m)&&"function"===typeof g&&(m.push(g),B.type="postaddlistener",d(B)));return this}}function E(b,f){return function(g,h){arguments=Array.prototype.slice.call(arguments);
arguments.push(b);var m=this[f],B=new D(this,f,"removelistener",m,void 0,arguments,"");"string"===typeof g&&1!==C(g).length&&(m=C(g),m.pop(),m.join("."),B.local=this.getLayer(m),m=B.local[f],B.value=m,g=C(g).pop());if(!0!==d(B))if(G.call(m)){if(void 0!==m[g])for(var k=0,e=m[g].length;k<e;k++)if(m[g][k].toString()===h.toString()){m[g].splice(k,1);B.type="postremovelistener";d(B);break}}else if(J.call(m)&&"function"===typeof g)for(k=0,e=m.length;k<e;k++)if(m[k].toString()===g.toString()){m.splice(k,
1);B.type="postremovelistener";d(B);break}return this}}function L(b,f){function g(b,f,d){var k=Object.keys(this,"all").filter(function(b){return t.call(this[b])}.bind(this)),e=this,c=b;"string"===typeof b&&1!==C(b).length&&(e=C(b),c=e.pop(),e=e.join("."),e=this.getLayer(e),void 0===e[d][c]&&(e[d][c]=[]),e[d][c].push(f));G.call(e[d])?(void 0===e[d][c]&&(e[d][c]=[]),e[d][c].push(f),e=e.__kbpointers[c],e=e.point.getLayer(e.keys),void 0!==e[c]&&(void 0===e[d][c]&&(e[d][c]=[]),e[d][c].push(_func))):e[d].push(f);
c=0;for(e=k.length;c<e;c++)g.call(this[k[c]],b,f,d)}return function(h,m){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var k=new D(this,f,"addchildlistener",void 0,void 0,arguments,"");!0!==d(k)&&(g.call(this.__kbnonproxy,h,m,f),k.type="postaddchildlistener",d(k));return this}}function M(b,f){function g(b,f,d){var k=Object.keys(this,"all").filter(function(b){return t.call(this[b])}.bind(this)),e=this,c=b;if("string"===typeof b&&1!==C(b).length){var l=C(b),c=l.pop();l.join(".");
e=this.getLayer(l);if(void 0!==e[d][b])for(var l=0,v=e[d][b].length;l<v;l++)if(e[d][b][l].toString()===f.toString()){e[d][b].splice(l,1);break}}if(G.call(e[d])){if(void 0!==e[d][c]){l=0;for(v=e[d][c].length;l<v;l++)if(e[d][c][l].toString()===f.toString()){e[d][c].splice(l,1);break}if(-1!==e.__kbpointers.indexOf(c)&&(l=e.__kbpointers[c],e=l.point.getLayer(l.keys),void 0!==e[d][c]))for(l=0,v=e[d][c].length;l<v;l++)if(e[d][c][l].toString()===f.toString()){e[d][c].splice(l,1);break}}}else for(l=0,v=e[d].length;l<
v;l++)if(e[d][l].toString()===f.toString()){e[d].splice(l,1);break}l=0;for(v=k.length;l<v;l++)g.call(this[k[l]],b,f,d)}return function(h,m){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var e=new D(this,f,"removechildlistener",void 0,void 0,arguments,"");!0!==d(e)&&(g.call(this.__kbnonproxy,h,m,f),e.type="postremovechildlistener",d(e));return this}}var T={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],
shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},y=["__proto__","_stopChange"],l=function(b,f){if(!f._stopPropogration&&b)for(var g=0,h=b.length;g!==h&&(b[g](f),!f._stopPropogration);g++);},d=function(b){if(b.listener){var f=b.local[b.listener],g=b.local[b.listener.replace("__kb",
"__kbparent")];G.call(f)?(l(f[b.key],b),l(f["*"],b)):l(f,b);G.call(g)?(l(g[b.key],b),l(g["*"],b)):l(g,b)}l(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},k=Array.prototype.sort,e=Array.prototype.slice,v;Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof N?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,f){return Object._keys(b).filter(function(b){return f&&
"object"!==f&&"o"!==f?"all"===f?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};v={}.toString;Object.defineProperties(N.prototype,{"typeof":c(I,!1,!0),sizeof:c(function(b){function f(b){for(var d=Object.keys(b,"all"),e=0,k=void 0,c=0,l=d.length;c<l;c++)k=b[d[c]],"object"===typeof k&&void 0!==k&&null!==k?-1===g.indexOf(k)&&(g.push(k),e+=f(k)):"string"===typeof k?e+=2*k.length:"number"===typeof k?e+=8:"boolean"===typeof k?e+=4:"function"===typeof k&&(e+=2*k.toString().length),e+=2*d[c].length;return e}
var g=[];return f(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:c(G,!1,!0),isArray:c(J,!1,!0),isMixed:c(t,!1,!0),isObservable:c(K,!1,!0),stringify:c(function(b){var f=[];return JSON.stringify(b||this,function(b,h){if(J(h)||G(h)){if(-1!==f.indexOf(h))return;f.push(h)}return h})},!1,!0),getKeys:c(function(b,f){f="string"===typeof b?b:f?f:"object";return Object.keys("string"===typeof b||void 0===b?this:b,f)},!1,!0),getIndexes:c(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var f=
[],g=0,h=b.length;g<h;g++)void 0!==b[g]&&(f[f.length]=g);return f},!1,!0),keyCount:R(function(){return this.getKeys("object").length},!1,!0),indexCount:R(function(){return this.length},!1,!0),count:R(function(){return this.keyCount+this.indexCount},!1,!0),concat:c(Array.prototype.concat),every:c(Array.prototype.every),filter:c(Array.prototype.filter),find:c(Array.prototype.find),findIndex:c(Array.prototype.findIndex),forEach:c(Array.prototype.forEach),includes:c(Array.prototype.includes),indexOf:c(Array.prototype.indexOf),
join:c(Array.prototype.join),lastIndexOf:c(Array.prototype.lastIndexOf),map:c(Array.prototype.map),reduce:c(Array.prototype.reduce),reduceRight:c(Array.prototype.reduceRight),slice:c(Array.prototype.slice),some:c(Array.prototype.some),entries:c(Array.prototype.entries),toLocaleString:c(Array.prototype.toLocaleString),parse:c(z,!0),parseReplace:c(function(b,f){return z.call(f||this,b)},!0),add:c(function(b,f){u.call(this,b,f);return this}),set:c(u),get:c(function(b){"number"===typeof b&&(b=b.toString());
var f=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(f)return f[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),del:c(function(b,f){var g="number"===typeof b||!isNaN(parseInt(b,10));g&&(b=b.toString());var h=-1!==b.indexOf(".")?this.getLayer(b):this,m=b.split(".").pop();if(h&&void 0!==h[m])if(g&&h.length>parseInt(b,10)&&!f)h=h.__kbnonproxy,h.splice(m,1);else{var e=new D(h,b,"delete",h[m],void 0,[],"__kbmethodlisteners"),
k=d(e),l=new D(h,b,"delete",h[m],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==d(l)&&!0!==k&&(h=h.__kbnonproxy,Object.defineProperty(h,m,c(void 0,!0,!0,!1)),delete h[m],g&&h.length>parseInt(b,10)&&f&&--h.length,e.type="postdelete",e.listener="__kbmethodupdatelisteners",d(e),l.listener="__kbupdatelisteners",l.type="postdelete",l.oldValue=l.value,l.value=void 0,d(l))}return this}),exists:c(function(b){var f=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&
(b=b.split(".").pop());return f?void 0!==f[b]:!!f}),addPrototype:c(function(b,f){var g=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===g[b]?Object.defineProperty(g.__proto__,b,c(f,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,g);return this}),addPointer:c(function(){var b=Array.prototype.slice.call(arguments),f=b.shift(),g=b[b.length-1];f instanceof N||(f=new N(f,
f.__kbname));var h=new D(this,g,"create",f[g],void 0,[],"__kbcreatelisteners",this._stopChange),m=this.__kbnonproxy;h.root=f.__kbref.__kbproxy;if(!0!==d(h)){Object.defineProperty(m,g,F.apply(m,arguments));m.__kbpointers[g]={keys:b.join("."),point:f};var b=m,f=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],m=[],e;if(b[g].__kbImmediateParent)for(var k=0,c=f.length;k<c;k++){e=b[f[k].listener];for(var m=Object.keys(e),l=0,v=m.length;l<
v;l++)if(g===m[k])for(var u=0,C=e[m[k]].length;u<C;u++)void 0===b[g].__kbImmediateParent[f[k].listener][g]&&(b[g].__kbImmediateParent[f[k].listener][g]=[]),b[g].__kbImmediateParent[f[k].listener][g].push(e[m[k]][u])}P(b,b[g]);h.listener="__kbupdatelisteners";h.type="postcreate";d(h)}return this}),move:c(function(b,f){this.__kbnonproxy.set(f,b[f]);t(b)?b.del(f):(b[f]=null,delete b[f]);return this}),copy:c(function(b,f){var g=this.__kbnonproxy;t(b)?"default"===b.__kbname?g.merge(b[f],f):g.addPointer(b,
f):g.set(f,b[f]);return this}),merge:c(function(b,f){function g(b,f){for(var d=t(b)?b.keys("object"):Object.keys(b),m,e=0,k=d.length;e<k;e++)m=b[d[e]],"object"===typeof m&&-1===h.indexOf(m)&&"undefined"!==f[d[e]]?g(m,f):void 0===f[d[e]]&&f.set(d[e],"object"===typeof m?{}:m)}var h=[],d=this.__kbnonproxy;f&&void 0===d[f]&&d.set(f,{});g(b,f?d[f]:d);return this}),replace:c(function(b,f){function g(b,f){var d=t(b)?b.keys("object"):Object.keys(b),m;m=b[d[x]];"object"===typeof m&&-1===h.indexOf(m)&&"undefined"!==
f[d[x]]?g(m,f):f.set(d[x],"object"===typeof m?{}:m)}var h=[],d=this.__kbnonproxy;f&&void 0===d[f]&&d.set(f,{});g(b,f?d[f]:d);return this}),copyWithin:c(function(b,f,g){f=f||0;g=g||0;var h=new D(this,b,"copyWithin",this[b],void 0,arguments,"__kbmethodlisteners"),m=this.__kbnonproxy;if(!0!==d(h)&&b<m.length){b=0>b?m.length-1:b;f=f<m.length?f:m.length-1;g=g<m.length?g:m.length-1;f=0>f?m.length-1:f;g=0>f?m.length-1:g;for(var e=f;e<=g;e++)m.set(b+(e-f),m[e]);h.type="postcopyWithin";h.listener="__kbmethodupdatelisteners";
d(h)}return this}),fill:c(function(b,f,g){f=void 0!==f?Math.max(0,f):0;g=void 0!==g&&g<=this.length?Math.min(this.length,Math.max(0,g)):this.length;var h=new D(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),m=this.__kbnonproxy;if(!0!==d(h)){for(var e=a.key;e<g;e++)m[e]=b;h.type="postfill";h.listener="__kbmethodupdatelisteners";d(h)}return this}),pop:c(function(){var b=new D(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;
if(!0!==d(b)){var g=f[f.length-1];f.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";d(b);return g}return null}),push:c(function(b){var f=new D(this,this.length,"push",b,void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;!0!==d(f)&&(g.set(g.length,b),f.type="postpush",f.listener="__kbmethodupdatelisteners",d(f));return this.length}),reverse:c(function(){var b=new D(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var g=
null,h=null,m=f.length,g=0;g<m/2;g+=1){var h=m-1-g,e=f[g];f[g]=f[h];f[h]=e}b.type="postreverse";b.listener="__kbmethodupdatelisteners";d(b)}return this}),shift:c(function(){var b=new D(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var g=a.key,h=this.length-1;g<h;g++)f[g]=f[g+1];f.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";d(b)}return null}),sort:c(function(){var b=new D(this,void 0,"sort",void 0,void 0,arguments,
"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){var g=e.call(f);k.apply(g,arguments);for(var h=0,m=g.length;h<m;h++)f[h]=g[h];b.type="postsort";b.listener="__kbmethodupdatelisteners";d(b)}return this}),splice:c(function(b,f,g){b="string"===typeof b?parseInt(b,10):b;var h=new D(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==d(h)){var k=[],c=Array.prototype.slice.call(arguments,2),l=c.length-2,v=0;if(0!==f&&void 0!==e[b-1+f])for(var u=0,C=f;u<C;u++){k.push(e[b+
u]);for(var w=b+u,r=this.length-1;w<r;w++)e[w]=e[w+1];e.del(e.length-1,!0)}if(0!==l)for(u=0,C=l;u<C;u++){v=b+Math.min(1,u);w=e.length;for(r=v;w>r;w--)e.set(w,e[w-1]);e.set(v,c[u])}h.type="postsplice";h.listener="__kbmethodupdatelisteners";d(h);return k}return[]}),unshift:c(function(){var b=new D(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(b)){for(var g=Array.prototype.slice.call(arguments),h=f.length-1+g.length,e=g.length;-1!==h;h--)h<e?f.set(h,g[h]):
f.set(h,f[h-g.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";d(b)}return this.length}),getLayer:c(function(b){function f(b){var h=b[0];return void 0===this[h]&&0!==b.length-1?null:t(this[h])?0!==b.length-1?(b.shift(),f.call(this[h],b)):this[h]:this}b=C(b);return f.call(this,b)}),setLayer:c(function(b){function f(b){var h=b[0];void 0===this[h]&&0!==b.length-1&&(this[h]=N({},this.__kbname,this,this.__kbscopeString+"."+h));return t(this[h])?0!==b.length-1?(b.shift(),f.call(this[h],
b)):this[h]:this}b=C(b);return f.call(this,b)}),ignoreCreate:c(function(b){-1===y.indexOf(b)&&y.push(b);return this}),addActionListener:c(function(b,f){var g=this.__kbnonproxy;void 0!==g.__kbref.__kbevents[b]&&g.__kbref.__kbevents[b].push(f);return this}),removeActionListener:c(function(b,f){var g=this.__kbnonproxy;if(void 0!==g.__kbref.__kbevents[b])for(var h=0,d=g.__kbref.__kbevents[b];h<d;h++)if(g.__kbref.__kbevents[b][h].toString()===f.toString()){g.__kbref.__kbevents[b].splice(h,1);break}return this}),
subscribe:c(function(b,f){var g=b.split("."),h=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;void 0===g.__kbsubscribers[h]&&(g.__kbsubscribers[h]=[]);g.__kbsubscribers[h].push(f);return this}),unsubscribe:c(function(b,f){var g=b.split("."),h=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;if(void 0!==g.__kbsubscribers[h])for(var d=0,e=g.__kbsubscribers[h].length;d<e;d++)if(g.__kbsubscribers[h][d].toString()===f.toString()){g.__kbsubscribers[h].splice(d,
1);break}return this}),subscribeDeep:c(function(b,f){function g(b,d){var h=Object.keys(b,"all").filter(function(f){return t.call(b[f])}.bind(b));if(void 0!==b[d]||"*"===d)void 0===b.__kbparentsubscribers[d]&&(b.__kbparentsubscribers[d]=[]),b.__kbparentsubscribers[d].push(f);for(var e=0,k=h.length;e<k;e++)g(b[h[e]],d)}var h=-1!==b.indexOf("*"),d=b.split(".");d.slice(0,d.indexOf("*"));var e=-1!==d.indexOf("*")?d.slice(d.indexOf("*"),d.length):[],k=1===e.length,c=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):
this.__kbnonproxy;h?k?g(d,"*"):(e.shift(),d.subscribeDeep(e.join("."),f)):g(d,c);return this}),unsubscribeDeep:c(function(b,f){function g(b,d){var h=Object.keys(b,"all").filter(function(f){return t.call(b[f])&&!(b[f]instanceof HTMLElement)}.bind(b));if((void 0!==b[d]||"*"===d)&&void 0!==b.__kbparentsubscribers[d])for(var e=0,k=b.__kbparentsubscribers[d].length;e<k;e++)b.__kbparentsubscribers[d][e].toString()===f.toString()&&b.__kbparentsubscribers[d].splice(e,1);e=0;for(k=h.length;e<k;e++)g(b[h[e]],
d)}var d=-1!==b.indexOf("*"),e=b.split(".");e.slice(0,e.indexOf("*"));var k=-1!==e.indexOf("*")?e.slice(e.indexOf("*"),e.length):[],c=1===k.length,l=e.pop(),e=0!==e.length?this.__kbnonproxy.getLayer(e.join(".")):this.__kbnonproxy;d?c?g(e,"*"):(k.shift(),e.unsubscribeDeep(k.join("."),f)):g(e,l);return this}),callSubscribers:c(function(b,f,g,d,e,k){var c=this.__kbnonproxy;if(void 0!==c.__kbsubscribers[g])for(var l=0,v=c.__kbsubscribers[g].length;l<v;l++)c.__kbsubscribers[g][l].call(this,{key:g,value:d,
oldValue:e,stopChange:k,local:f,kbref:b});if(void 0!==c.__kbparentsubscribers[g])for(l=0,v=c.__kbparentsubscribers[g].length;l<v;l++)c.__kbparentsubscribers[g][l].call(this,{key:g,value:d,oldValue:e,stopChange:k,local:f,kbref:b});if(void 0!==c.__kbsubscribers["*"])for(l=0,v=c.__kbsubscribers["*"].length;l<v;l++)c.__kbsubscribers["*"][l].call(this,{key:g,value:d,oldValue:e,stopChange:k,local:f,kbref:b});if(void 0!==c.__kbparentsubscribers["*"])for(l=0,v=c.__kbparentsubscribers["*"].length;l<v;l++)c.__kbparentsubscribers["*"][l].call(this,
{key:g,value:d,oldValue:e,stopChange:k,local:f,kbref:b});return this}),callAllSubscribers:c(function(){function b(b,g,d){for(var e=0,k=g.length;e<k;e++)g[e].call(b,{key:d,value:b[d],oldValue:b[d],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(f){for(var g=Object.keys(f.__kbsubscribers),d=Object.keys(f.__kbparentsubscribers),e=0,k=g.length;e<k;e++)if(0!==f.__kbsubscribers[g[e]].length)if("*"===g[e])for(var c=0,l=Object.keys(f),v=l.length;c<v;c++)b(f,f.__kbsubscribers[g[e]],l[c]);else b(f,
f.__kbsubscribers[g[e]],g[e]);e=0;for(k=d.length;e<k;e++)if(0!==f.__kbparentsubscribers[d[e]].length)if("*"===d[e])for(c=0,l=Object.keys(f),v=l.length;c<v;c++)b(f,f.__kbparentsubscribers[d[e]],l[c]);else b(f,f.__kbparentsubscribers[d[e]],d[e])})(this.__kbnonproxy);return this}),stopChange:c(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(N.prototype,{addDataListener:c(r("addDataListener","__kblisteners")),removeDataListener:c(E("removeDataListener","__kblisteners")),
addDataUpdateListener:c(r("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:c(E("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:c(r("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:c(E("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:c(r("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:c(E("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:c(r("addDataMethodListener",
"__kbmethodlisteners")),removeDataMethodListener:c(E("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:c(r("addDataMethodUpdateListener","__kbmethodupdatelisteners")),removeDataMethodUpdateListener:c(E("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:c(L("addChildDataListener","__kbparentlisteners")),removeChildDataListener:c(M("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:c(L("addChildDataUpdateListener",
"__kbparentupdatelisteners")),removeChildDataUpdateListener:c(M("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:c(L("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:c(M("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:c(L("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:c(M("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return N}}(),
Y=function(){return function(){function A(n){if("object"===typeof n)for(var q=0,D=n.length;q<D;q++)K_Components[n[q]]?p(n[q],K_Components[n[q]],document.getElementById("script_"+n[q])):A.load(n[q],"component/"+n[q]+"/"+location.search,p);else"string"===typeof n&&(K_Components[n[q]]?p(n,K_Components[n],document.getElementById("script_"+n)):A.load(n,"component/"+n+"/"+location.search,p))}var p=function(){},q=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});A.getUnknowns=function(n){var p=
n.match(q);return p.map(function(n){return n.replace(/[<\/>]/g,"")}).filter(function(n,c){return document.createElement(n)instanceof HTMLUnknownElement&&-1===p.indexOf(n,c+1)&&!K_Components[n]})};A.load=function(n,p,q){document.head.appendChild(function(c,n,p){var q=document.createElement("script");q.type="text/javascript";q.charset="utf-8";q.async=!0;q.src=n;q.id="script_"+c;q.onload=function(){p(c,K_Components[c],this)};return q}(n,p,q));return A};A.onLoad=function(n){if(void 0===n)return p;p="function"===
typeof n?n:p;return A};return A}}(),W=function(){function A(){function p(d,k){var e=d.length,c;for(c=0;c<e&&(d[c](k),void 0===k._stopPropogation);c++);}function q(d,k){var e=d.length,c;for(c=0;c<e&&(k.child=k.target,k.target=d[c].parent,d[c].func(k),void 0===k._stopPropogation);c++);}function n(d,k){for(var e=d.length;0<e;T++)if(d[T].toString()===k.toString())return!0;return!1}function A(d,k,e,c,b,f,g,h){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=
!0};this.value=e;this.oldValue=c;this.target=d;this.attr=k;this.arguments=b;this.action=f;this.child=void 0;this.type=g;this.stopChange=h}function D(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function c(d,k,e,c){var b=d.get,f=d.set,g;return function(d){g=b.call(this);e(this,k,d,g,void 0,
this._stopChange)&&f.call(this,d);this._stopChange||c(this,k,d,g);this._stopChange=void 0}}function R(d,k,e,c){var b;return function(f){b=d.value;e(this,k,f,b,arguments,this._stopChange)&&(d.value=f);this._stopChange||c(this,k,f,b,arguments);this._stopChange=void 0}}function U(d,k,e,c){var b=d.value,f;return function(){e(this,k,null,null,arguments,this._stopChange)&&(f=b.apply(this,arguments));this._stopChange||c(this,k,null,null,arguments,f);this._stopChange=void 0;return f}}function F(d,k,e,c,b){var f=
b.style,g=k.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),h,m;return{get:function(){return m},set:function(d){h=m;e(b,k,d,h,void 0,this._stopChange)&&(m=d,f.setProperty(g,d));this._stopChange||c(b,k,d,h);this._stopChange=void 0},enumerable:!0,configurable:!0}}function P(d,k,e,c){if("function"!==typeof k)return t;var b=-1!==["value","checked"].indexOf(d),f=-1!==L.indexOf(d),g;if(this.toString()!==t.toString())if(e){var h=this.querySelectorAll("*");e=h.length;for(var m,l=0;l<e;l++){m=h[l].attrListeners();
if(b||"*"===d)void 0!==h[l].addInputBinding&&h[l].addInputBinding(),void 0!==h[l].addInputBoxBinding&&h[l].addInputBoxBinding();if(f)t.injectStyleProperty(h[l],d),g=c?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===d){g=c?"_parentStyleUpdateListeners":"_parentStyleListeners";e=L.length;for(var r=0;r<e;r++)t.injectStyleProperty(h[l],L[r]);void 0===m[g]["*"]&&(m[g]["*"]=[]);m[g]["*"].push({parent:this,func:k})}g=c?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===m[g][d]&&
(m[g][d]=[]);m[g][d].push({parent:this,func:k})}}else{m=this.attrListeners();if(f)g=c?"_styleUpdateListeners":"_styleListeners",t.injectStyleProperty(this,d);else{if(b||"*"===d)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===d){g=c?"_styleUpdateListeners":"_styleListeners";e=L.length;for(l=0;l<e;l++)t.injectStyleProperty(this,L[l]);void 0===m[g][d]&&(m[g][d]=[]);m[g][d].push(k)}g=c?"_attrUpdateListeners":"_attrListeners"}void 0===
m[g][d]&&(m[g][d]=[]);m[g][d].push(k)}else{if(b||"*"===d)for(r=document.querySelectorAll("input, textarea"),e=r.length,l=0;l<e;l++)void 0!==r[l].addInputBinding&&r[l].addInputBinding(),void 0!==r[l].addInputBoxBinding&&r[l].addInputBoxBinding();if(f){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));e=f.length+1;f.unshift(document.body);for(l=0;l<e;l++)t.injectStyleProperty(f[l],d);g=c?C:u}else{if("*"===d){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));e=f.length+
1;b=L.length;f.unshift(document.body);for(l=0;l<e;l++)for(r=0;r<b;r++)t.injectStyleProperty(f[l],L[r]);g=c?C:u;void 0===g[d]&&(g[d]=[]);g[d].push(k)}g=c?z:K}void 0===g[d]&&(g[d]=[]);g[d].push(k)}}function O(d,k,e,c){function b(b,f){var d=f[b],e=d.length;for(g=0;g<e;g++)d[g].toString()===k.toString()&&d.splice(g,1)}if("function"!==typeof k)return t;["value","checked"].indexOf(d);var f=-1!==L.indexOf(d),g;if(this.toString()!==t.toString())if(e){e=this.querySelectorAll("*");var h=e.length;f?(f=c?"_childStyleUpdateListeners":
"_childStyleListeners",b(d,this.attrListeners()[f]),f=c?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===d&&(f=c?"_childStyleUpdateListeners":"_childStyleListeners",b(d,this.attrListeners()[f])),f=c?"_childAttrUpdateListeners":"_childAttrListeners",b(d,this.attrListeners()[f]),f=c?"_parentAttrUpdateListeners":"_parentAttrListeners");for(g=0;g<h;g++){for(var l=e[g].attrListeners()[f][d],B=l.length,r=0;r<B;r++)l[r].isEqualNode(this)&&l.slice(r,1);if("*"===d)for(listenersStyle=c?"_parentStyleUpdateListeners":
"_parentStyleListeners",l=e[g].attrListeners()[f][d],B=l.length,r=0;r<B;r++)l[r].isEqualNode(this)&&l.slice(r,1)}}else f?f=c?"_styleUpdateListeners":"_styleListeners":("*"===d&&(f=c?"_styleUpdateListeners":"_styleListeners",b(d,this.attrListeners()[f])),f=c?"_attrUpdateListeners":"_attrListeners"),b(d,this.attrListeners()[f]);else f?f=c?C:u:("*"===d&&(f=c?C:u,b(d,f)),f=c?z:K),b(d,f)}function S(d,k){t.addAttrListener.call(this,d,k,!0);return this}function Q(d,k){t.addAttrUpdateListener.call(this,d,
k,!0);return this}function H(d,k){t.removeAttrListener.call(this,d,k,!0);return this}function I(d,k){t.removeAttrUpdateListener.call(this,d,k,!0);return this}function G(d,k,e){var c=this.attrListeners();"html"===k&&(k="innerHTML");"events"===k&&(k="onclick");switch(d){case "attr":if(n(c._attrListeners[k],e))return!0;break;case "attrupdate":if(n(c._attrUpdateListeners[k],e))return!0}return!1}function J(){this._stopChange=!0;return this}function t(){function d(b,f){var d,g=f.length;for(d=0;d<g;d++)-1===
b.indexOf(f[d])&&b.push(f[d]);return b}function k(b,f){for(var d=Object.keys(b),g,e,k=0,c=d.length;k<c;k++)if(g=d[k],void 0===f[g])f[g]=b[g].slice();else for(var l=0,u=b[g].length;l<u;l++)e=b[g][l],f[g].push(e)}function e(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var f=b.target.attrListeners(),g,e=["value","checked"],c=f._attrListeners,l=f._attrUpdateListeners,v=f._parentAttrListeners;g=f._parentAttrUpdateListeners;var r=!1;if(void 0!==K["*"]||void 0!==z["*"])r=!0;if(!0!==r&&void 0!==c["*"]||
void 0!==l["*"]||void 0!==v["*"]||void 0!==g["*"])r=!0;if(!0!==r)for(var n=0;n<e.length;n++)if(void 0!==K[e[n]]||void 0!==z[e[n]]||void 0!==c[e[n]]||void 0!==l[e[n]]||void 0!==v[e[n]]||void 0!==g[e[n]]){r=!0;break}g=r;e=Object.keys(u);c=Object.keys(C);Object.keys(f._styleListeners);Object.keys(f._styleUpdateListeners);l=Object.keys(f._parentStyleListeners);f=Object.keys(f._parentStyleUpdateListeners);v=[];if(0!==e.length||0!==c.length)v=d(v,e),v=d(v,c);if(0!==v.length&&0!==l.length||0!==f.length)v=
d(v,l),v=d(v,f);-1!==v.indexOf("*")&&(v=L);var f=v,e=f.length,p,q,c=[],E,l="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,v=b.target;void 0!==l&&(b.attr="appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(g){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?(c=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||c.unshift(b.arguments[0])):c=
Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));E=c.length;for(var y=0;y<E;y++)void 0!==c[y].addInputBinding&&c[y].addInputBinding(),void 0!==c[y].addInputBoxBinding&&c[y].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(c=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),c.unshift(b.arguments[0])):c=Array.prototype.slice.call(b.target.querySelectorAll("*"));g=b.target.__kb._parentAttrListeners;
r=b.target.__kb._parentAttrUpdateListeners;n=b.target.__kb._parentStyleListeners;p=b.target.__kb._parentStyleUpdateListeners;E=c.length;for(y=0;y<E;y++){if(0!==e)for(q=0;q<e;q++)t.injectStyleProperty(c[y],f[q]);q=c[y].attrListeners();k(g,q._parentAttrListeners);k(r,q._parentAttrUpdateListeners);k(n,q._parentStyleListeners);k(p,q._parentStyleUpdateListeners)}void 0!==l&&(b.attr=l,b.target=v,b.arguments=[])}}function c(b){var g=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:
"";f(b.target,b.arguments[0],d,void 0!==g?g.value:"",[d])||b.preventDefault()}function b(b){var f=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:"";g(b.target,b.arguments[0],d,void 0!==f?f.value:"",[d])}t.injectPrototypes(Node,"Node");t.injectPrototypes(Element,"Element");t.injectPrototypes(HTMLElement,"HTMLElement");t.injectPrototypes(HTMLInputElement,"HTMLInputElement");t.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");t.injectPrototypes(Document,"Document");
var f=y,g=l;t.addAttrUpdateListener("appendChild",e);t.addAttrUpdateListener("removeChild",e);t.addAttrUpdateListener("innerHTML",e);t.addAttrUpdateListener("outerHTML",e);t.addAttrUpdateListener("innerText",e);t.addAttrUpdateListener("outerText",e);t.addAttrUpdateListener("textContent",e);t.addAttrListener("setAttribute",c);t.addAttrListener("removeAttribute",c);t.addAttrUpdateListener("setAttribute",b);t.addAttrUpdateListener("removeAttribute",b);return t}var K={},z={},u={},C={},r={},E="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
L=Object.getOwnPropertyNames(document.documentElement.style),M=Object.keys(HTMLElement.prototype).filter(function(d){return 0===d.indexOf("on")}).concat(["addEventListener","removeEventListener"]),T,y=function(d,c,e,l,b,f){e=new A(d,c,e,l,b,void 0,"set",f);void 0!==d.__kb&&(l=d.__kb._attrListeners,b=d.__kb._styleListeners,f=d.__kb._parentAttrListeners,d=d.__kb._parentStyleListeners,void 0!==l[c]&&p(l[c],e),void 0===e._stopPropogation&&void 0!==b[c]&&p(b[c],e),void 0===e._stopPropogation&&void 0!==
l["*"]&&(p(l["*"],e),void 0===e._stopPropogation&&p(b["*"],e)),void 0===e._stopPropogation&&void 0!==f[c]&&q(f[c],e),void 0===e._stopPropogation&&void 0!==d[c]&&q(d[c],e),void 0===e._stopPropogation&&void 0!==f["*"]&&(q(f["*"],e),void 0===e._stopPropogation&&q(d["*"],e)));void 0===e._stopPropogation&&void 0!==K[c]&&p(K[c],e);void 0===e._stopPropogation&&void 0!==u[c]&&p(u[c],e);void 0===e._stopPropogation&&void 0!==K["*"]&&(p(K["*"],e),void 0===e._stopPropogation&&p(u["*"],e));return void 0!==e._preventDefault?
!1:!0},l=function(d,c,e,l,b,f){e=new A(d,c,e,l,b,f,"update");void 0!==d.__kb&&(l=d.__kb._attrUpdateListeners,b=d.__kb._styleUpdateListeners,f=d.__kb._parentAttrUpdateListeners,d=d.__kb._parentStyleUpdateListeners,void 0!==l[c]&&p(l[c],e),void 0===e._stopPropogation&&void 0!==b[c]&&p(b[c],e),void 0===e._stopPropogation&&void 0!==l["*"]&&(p(l["*"],e),void 0===e._stopPropogation&&p(b["*"],e)),void 0===e._stopPropogation&&void 0!==f[c]&&q(f[c],e),void 0===e._stopPropogation&&void 0!==d[c]&&q(d[c],e),
void 0===e._stopPropogation&&void 0!==f["*"]&&(q(f["*"],e),void 0===e._stopPropogation&&q(d["*"],e)));void 0===e._stopPropogation&&void 0!==z[c]&&p(z[c],e);void 0===e._stopPropogation&&void 0!==C[c]&&p(C[c],e);void 0===e._stopPropogation&&void 0!==z["*"]&&(p(z["*"],e),void 0===e._stopPropogation&&p(C["*"],e));return void 0!==e._preventDefault?!1:!0};t.injectPrototypeProperty=function(d,k,e,u,b){var f=d.prototype,g=Object.getOwnPropertyDescriptor(f,k);e=e||d.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var h=r[e];u=u||y;b=b||l;void 0===f.attrListeners&&(f={},f.attrListeners=function(){void 0===this.__kb&&(this.__kb=new D);return this.__kb}.bind(f),f.addAttrListener=t.addAttrListener,f.addAttrUpdateListener=t.addAttrUpdateListener,f.addChildAttrListener=S,f.addChildAttrUpdateListener=Q,f.hasListener=G,f.removeAttrListener=t.removeAttrListener,f.removeAttrUpdateListener=t.removeAttrUpdateListener,f.removeChildAttrListener=H,f.removeChildAttrUpdateListener=I,f.stopChange=J);void 0===h&&(r[e]={obj:d,
proto:f,descriptors:{},set:void 0,update:void 0},h=r[e],h.set=u,h.update=b);void 0===h.descriptors[k]&&(h.descriptors[k]=g);g.configurable&&(void 0!==g.set?Object.defineProperty(f,k,{get:g.get,set:c(g,k,u,b),enumerable:!0,configurable:!0}):"function"===typeof g.value?Object.defineProperty(f,k,{value:U(g,k,u,b),writable:!0,enumerable:!0,configurable:!0}):void 0!==g.value&&Object.defineProperty(f,k,{get:function(){return g.value},set:R(g,k,u,b),enumerable:!0,configurable:!0}));return t};t.injectStyleProperty=
function(d,c,e,u){var b=d.style,f=Object.getOwnPropertyDescriptor(b,c),g=d.attrListeners().injectedStyle;e=e||y;u=u||l;void 0===g&&(d.attrListeners().injectedStyle={obj:d,proto:b,descriptors:{},set:void 0,update:void 0},d.attrListeners().injectedStyle.set=e,d.attrListeners().injectedStyle.update=u,g=d.attrListeners().injectedStyle);void 0===g.descriptors[c]&&(g.descriptors[c]=f);f.configurable&&Object.defineProperty(b,c,F(f,c,e,u,d));return t};t.injectPrototypes=function(d,c,e,u){var b=d.prototype;
c=c||d.toString().split(/\s+/)[1].split("{")[0].replace("()","");var f=r[c],g=Object.getOwnPropertyNames(b);e=e||y;u=u||l;var h;void 0===b.attrListeners&&(b.attrListeners=function(){void 0===this.__kb&&(this.__kb=new D);return this.__kb},b.addAttrListener=t.addAttrListener,b.addAttrUpdateListener=t.addAttrUpdateListener,b.addChildAttrListener=S,b.addChildAttrUpdateListener=Q,b.removeAttrListener=t.removeAttrListener,b.removeAttrUpdateListener=t.removeAttrUpdateListener,b.removeChildAttrListener=H,
b.removeChildAttrUpdateListener=I,b.hasListener=G,b.stopChange=J);void 0===f&&(r[c]={obj:d,proto:b,descriptors:{},set:void 0,update:void 0},f=r[c],f.set=e,f.update=u);h=r[c].descriptors;for(u=0;u<g.length;u+=1)void 0===h[g[u]]&&t.injectPrototypeProperty(d,g[u],c,e,l);if(-1!==g.indexOf("value")){var m=function(b){var g,d,e;if("checkbox"===this.type||"radio"===this.type)g=!0;d=g?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){e=g?"string"===typeof this.checked?
this.checked:this.checked?"true":"false":this.value;g&&(f.set(this,"checked",this.checked,d)?f.update(this,"checked",this.checked,d):h.checked.set.call(this,d));this.value!==e&&(this.value=e);f.set(this,"value",this.value,d)?f.update(this,"value",this.value,d):h.value.set.call(this,d)}.bind(this),0)};b.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",m)};b.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",
m)};b.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",m)};b.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",m)}}return t};t.addAttrListener=function(d,c,e){if("html"===d){d=0;for(var l=E.length;d<l;d++)P.call(this,E[d],c,e,!1)}else if("events"===d)for(d=0,l=M.length;d<l;d++)P.call(this,M[d],c,e,!1);else P.call(this,d,c,e,!1);return this};t.addAttrUpdateListener=function(d,c,e){if("html"===
d){d=0;for(var l=E.length;d<l;d++)P.call(this,E[d],c,e,!0)}else if("events"===d)for(d=0,l=M.length;d<l;d++)P.call(this,M[d],c,e,!0);else P.call(this,d,c,e,!0);return this};t.removeAttrListener=function(d,c,e){if("html"===d){d=0;for(var l=E.length;d<l;d++)O.call(this,E[d],c,e,!1)}else if("events"===d)for(d=0,l=M.length;d<l;d++)O.call(this,M[d],c,e,!1);else O.call(this,d,c,e,!1);return this};t.removeAttrUpdateListener=function(d,c,e){if("html"===d){d=0;for(var l=E.length;d<l;d++)O.call(this,E[d],c,
e,!0)}else if("events"===d)for(d=0,l=M.length;d<l;d++)O.call(this,M[d],c,e,!0);else O.call(this,d,c,e,!0);return this};t.hasListener=function(d,c,e){"html"===c&&(c="innerHTML");"events"===c&&(c="onclick");switch(d){case "attr":if(n(K[c],e))return!0;break;case "attrupdate":if(n(z[c],e))return!0}return!1};t.injectedPrototypes=function(){return r};return t}"function"===typeof define&&define.amd&&define("KB",A);return A}(),Z=function(A){return function(){function p(c){document.createDocumentFragment();
this.name=c.tagName.toLowerCase();this.template=J[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=c;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name}function q(c,C,r,n){return{value:c,writable:!!C,enumerable:!!n,configurable:!!r}}function n(){return new RegExp("(\\"+H.split("").join("\\")+")(.*?)(\\"+I.split("").join("\\")+")","g")}function N(c){return c.split(new RegExp("("+
H.split("").join("\\")+")(.*?)("+I.split("").join("\\")+")","g")).map(function(c,u,n){return n[u-1]===H?H+c+I:c}).filter(function(c,u,n){return 0!==c.length&&c!==H&&c!==I&&0!==c.length})}function D(c){return c.replace(new RegExp("["+H+I+"]","g"),"").replace(new RegExp("(\\"+G.split("").join("\\")+"(.*?)+)","g"),"").replace(/\s/g,"")}function c(c){return c.reduce(function(c,u){u.match(/(\()(.*?)(\))/)?c.vmFilters[c.vmFilters.length]=u.replace(/[\(\)]/g,""):u.match(/(\[)(.*?)(\])/)?-1!==u.indexOf("~")?
c.model[c.model.length]=u.replace(/[\[\]\~]/g,""):-1!==u.indexOf("+")?c.local[c.local.length]=u.replace(/[\[\]\+]/g,""):c.session[c.session.length]=u.replace(/[\[\]\-]/g,""):c.filters[c.filters.length]=u;return c},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function R(c){return-1!==c.indexOf("for")?c.replace(new RegExp("["+H+I+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(c){return 0!==c.length}):[]}function U(c){if(2>c.split("==").length&&2>
c.split("<=").length&&2>c.split(">=").length&&-1!==c.indexOf("="))return c.substring(c.indexOf("=")+1,c.length)}function F(c){var n=c.match(/^(\s*)(>)((.*?)+)/),r=c.match(/^(\s*)(<)((.*?)+)/);c=c.replace(/(^<|^>)((.*?)+)/,"$2");var t=U(c),q=c.match(/((==|<=|>=|<|>)((.*?)+))/g),p=c.match(/(([\+\*-\/])((.*?)+))/g);return{type:n?"insert":r?"outsert":void 0,set:t!==c?t:void 0,filters:q||p?{boolFilter:q?eval("(function(){ return function(v){ return (v"+q[0]+");};}())"):void 0,mathFilter:p?eval("(function(){ return function(v){ return (v"+
p[0]+");};}())"):void 0}:void 0}}function P(c){if(0!==c.length){for(var n="",r=0,t=c.length;r<t;r++)if("string"===typeof c[r])n+=c[r];else if(void 0===c[r]._data)n+=c[r].text;else var q=c[r]._data.get(c[r].key),n=n+O(void 0!==q?q:"",c[r].filters.filters,c[r]._data.filters);return n}return O(c[0]._data.get(c[0].key)||"",c[0].filters.filters,c[0]._data.filters)}function O(c,n,r){for(var t=0,q=n.length;t<q;t++)r[n[t]]&&(c=r[n[t]](c));return c}function S(c,n,r,t){for(var q=0,p=n.length;q<p;q++)if(r[n[q]])r[n[q]](c,
t);return c}function Q(){function u(l,d){var k=F(d);this.text=l;this.key=d.replace(/(^>|^<*)(.*?)([=*+-\/<>]+)((.*?)+)/g,"$2").replace(/\s/g,"");this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var e;e=-1!==l.indexOf(G)?l.replace(new RegExp("["+I+"]","g"),"").replace(new RegExp("(.*?)(\\"+G.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[];this.filters=c(e);this.component="for"===this.type?R(l)[1]:void 0;this.id=0;this.subType=k.subtype;this.set=k.set;
this.inlineFilters=k.filters}function n(c,d){for(var k=0,e=d.length;k<e;k++)c.stopChange().appendChild(d[k])}function r(c){if(c&&window.model)return window.model.get(c[0])}function t(c,d){if(d&&0!==d.length&&window.model)for(var k=0,e=d.length;k<e;k++)window.model.set(d[k],c)}function p(c){if(c&&window.localStorage)return localStorage.getItem(c[0])}function A(c,d){if(c&&0!==c.length&&window.localStorage)for(var k=0,e=c.length;k<e;k++)localStorage.setItem(c[k],d)}function D(c){if(c&&window.sessionStorage)return sessionStorage.getItem(c[0])}
function y(c,d){if(c&&0!==c.length&&window.sessionStorage)for(var k=0,e=c.length;k<e;k++)sessionStorage.setItem(c[k],d)}Object.defineProperties(u.prototype,{addPointer:q(function(c){for(var d=document.createElement(this.component),k=S(this._data.getLayer(this.key),this.filters.filters,this._data.filters,c)[c],e=0,n=Object.keys(k,"all"),b=n.length;e<b;e++)d.k_post||(d.k_post={}),d.k_post[n[e]]=k,d.k_post.x=c,d.k_post.loopid=this.component+"_"+c;c>=this.node.children.length?this.node.stopChange().appendChild(d):
this.node.stopChange().insertBefore(d,this.node.children[c]);c={event:"loopitem",node:d,parent:this.node};d=z[c.event];k=0;for(e=d.length;k<e;k++)d[k](c);return this}),removePointer:q(function(c){for(var d=this.node.children[c].kb_maps,k=0,e=Object.keys(this.node.children[c].kb_viewmodel.pointers),n=e.length;k<n;k++){var b=d[e[k]];if(b)for(var f=0,g=b.length;f<g;f++)b[f].unsync(),b[f]=null,delete b[f]}this.node.stopChange().removeChild(this.node.children[c]);k=0;for(n=this.node.children.length;k<
n;k++)this.node.children[k].kb_viewmodel.x=k,c=this.node.children[k].kb_viewmodel.loopid,this.node.children[k].kb_viewmodel.loopid=c.substring(0,c.lastIndexOf("_")+1)+k;return this}),reapplyPointer:q(function(c){for(var d=this.node.children[c].kb_maps,k=this.node.children[c].kb_viewmodel.loopid,e=0,n=Object.keys(this.node.children[c].kb_viewmodel.pointers),b=n.length;e<b;e++){var f=d[n[e]];if(void 0!==f)for(var g=0,h=f.length;g<h;g++)f[g].reconnect()}this.node.children[c].kb_viewmodel.x=c;this.node.children[c].kb_viewmodel.loopid=
k.substring(0,k.lastIndexOf("_")+1)+c;return this}),connect:q(function(c){var d=this;this._data=c;if("for"!==this.type){if(this.insert){this.setDom(this._data.get(this.key));this.unsync();return}if(this.set){var k=!isNaN(parseInt(this.set,10))&&parseInt(this.set,10).toString().length===this.set.length,e="true"===this.set.replace(/\s/g,"")||"false"===this.set.replace(/\s/g,""),u=-1!==this.set.indexOf('"')||-1!==this.set.indexOf("'");(this.set=k?parseInt(this.set,10):e?"true"===this.set.replace(/\s/g,
""):u?this.set.replace(/((\s*\"|\')(.*?)(\"|\'))/g,"$3"):void 0)&&this._data.set(this.key,this.set)}if(this.outsert){this.setDom("");this.unsync();return}this.inlineFilters&&(this.inlineFilters.boolFilter?(this.filters.filters.unshift("boolFilter"),this._data.filters.boolFilter=this.inlineFilters.boolFilter):(this.filters.filters.unshift("mathFilter"),this._data.filters.mathFilter=this.inlineFilters.mathFilter));this.dataListener=function(b){"delete"===b.event?d.unsync():d.setDom(b.value)};c.getLayer(this.key).addDataUpdateListener(this.localKey,
this.dataListener);1===this.bindText.length&&(this.domListener=function(b){d.setData(b.value)},this.node.__kbhtmllistener=!0,this.node.addAttrUpdateListener(this.listener,this.domListener))}else this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");d.setLoop(b.key,b.event)},c.getLayer(this.key).addDataMethodUpdateListener(this.dataListener);"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,r(this.filters.model)):
this.filters.session&&0!==this.filters.session.length?this._data.stopChange().set(this.key,D(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,p(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",n(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=P(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&
(c=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==c?c:"")));return this}),reconnect:q(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:q(function(){this.node.stopChange().innerHTML="";for(var c=
0,d=S(this._data.get(this.key),this.filters.filters,this._data.filters).length;c<d;c++)this.setLoop(c,"create");return this}),setData:q(function(c){c=O(c,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,c);t(this.filters.model,c);y(this.filters.session,c);A(this.filters.local,c);return this}),setDom:q(function(c){t(this.filters.model,c);y(this.filters.session,c);A(this.filters.local,c);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&
-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",n(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=P(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(c=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==c?c:""));return this}),setLoop:q(function(c,d){switch(d){case "create":this.addPointer(c);break;case "delete":this.removePointer(c);
break;case "set":this.reapplyPointer(c);break;default:if("push"!==d)for(var k=0,e=this._data.getLayer(this.key).length;k<e;k++)this.reapplyPointer(k)}return this}),bindMaps:q([]),unsync:q(function(){this._data=this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this}),reset:q(function(){"for"===this.type?this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener).addDataMethodUpdateListener(this.extraListener):
(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener).addDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener).addAttrUpdateListener(this.listener,this.domListener))})});return u}var H="{{",I="}}",G="|",J={},t=/(<\/.*?>)/g;A().call();var K=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}),z={loopitem:[]};p.start=function(c){if(void 0===c)return H;
H="string"===typeof c?c:H;return p};p.end=function(c){if(void 0===c)return I;I="string"===typeof c?c:I;return p};p.pipe=function(c){if(void 0===c)return G;G="string"===typeof c?c:G;return p};p.getUnknown=function(c){var n=c.match(t).map(function(c){return c.replace(/[<\/>]/g,"")});n.filter(function(c,u){return document.createElement(c)instanceof HTMLUnknownElement&&-1===n.indexOf(c,u+1)&&void 0===J[c]});return n};p.isRegistered=function(c){return void 0!==J[c]};p.register=function(c,n){void 0===J[c]?
(J[c]=n,p.getUnknown(n)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",c);return this};p.addEventListener=function(c,n){void 0!==z[c]?z[c].push(n):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",c);return p};p.removeEventListener=function(c,n){if(void 0!==z[c])for(var r=0,t=z[c].length;r<t;r++)z[c][r].toString()===n.toString()&&z[c].splice(r,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",
c);return p};Object.defineProperties(p.prototype,{register:q(p.register),isRegistered:q(p.isRegistered),getUnknown:q(p.getUnknown),map:q(function(c){function t(r,q){for(var p=0,A=r.length;p<A;p++)if(void 0===r[p].kb_maps&&8!==r[p].nodeType){r[p].kb_mapper=c;r[p].kb_maps=q;if(3===r[p].nodeType){var z=r[p],y=q,l=z.textContent;if(l.match(n())){var d=N(l),k=Q();k.prototype.type=l.match(new RegExp("(\\"+H.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+I.split("").join("\\")+")","g"))?"for":"text";
k.prototype.text=l;k.prototype.bindText=d;k.prototype.listener="textContent";k.prototype.attr="textContent";k.prototype.localAttr="textContent";k.prototype.local=z;k.prototype.node=z.parentElement;k.prototype.binds=y;z=0;for(l=d.length;z<l;z++)if(0===d[z].indexOf(H)){var e="for"===k.prototype.type?R(d[z])[0]:D(d[z]),v=new k(d[z],e);void 0===y[e]&&(y[e]=[]);v.bindText[z]=v;v.bindMaps.push(v);v.id=y[e].length;y[e].push(v)}}}else for(y=r[p],d=q,k=Array.prototype.slice.call(y.attributes),z=y instanceof
HTMLUnknownElement,l=0,e=k.length;l<e;l++)if(k[l].value.match(n())){var v=N(k[l].value),b=Q();b.prototype.type=z?"component":"attribute";b.prototype.text=k[l].value;b.prototype.bindText=v;b.prototype.isEvent=-1!==K.indexOf(k[l].name);b.prototype.isInput="input"===y.tagName.toLowerCase();b.prototype.isRadio=b.prototype.isInput?-1!==["radio","checkbox"].indexOf(y.type):!1;b.prototype.listener=k[l].name;b.prototype.attr=k[l].name;b.prototype.localAttr="value";b.prototype.local=k[l];b.prototype.node=
y;b.prototype.binds=d;b.prototype.isEvent&&y.removeAttribute(k[l].name);for(var f=0,g=v.length;f<g;f++)if(0===v[f].indexOf(H)){var h=D(v[f]),m=new b(v[f],h);void 0===d[h]&&(d[h]=[]);m.bindText[f]=m;m.bindMaps.push(m);m.id=d[h].length;d[h].push(m)}}r[p].childNodes&&0!==r[p].childNodes.length&&(q=t(r[p].childNodes,q))}return q}return t(c.childNodes,{})}),insert:q(p.insert)});return p}}(W),aa=function(){return function(){function A(n){0===n.length&&(n=p);document.body.innerHTML="<"+n+"></"+n+">";q(n);
return A}var p="",q=function(){};A.base=function(n){if(void 0===n)return p;p="string"===typeof n?n:p;return A};A.onChange=function(n){if(void 0===n)return q;q="function"===typeof n?n:q;return A};A.watch=function(n){window.onhashchange=n?function(){A(window.location.hash.replace("#",""))}:null;return A};return A}}(),V=function(A,p,q,n,N){return function(q){function c(b,f,d,e){function l(b,c,f,d,g){for(var e=z({},b),h=0,m=Object.keys(d),n=m.length;h<n;h++)-1!==k.indexOf(m[h])?Object.defineProperty(e,
m[h],F(d[m[h]],"filters"!==m[h])):d.pointers?void 0===d.pointers[m[h]]&&e.set(m[h],d[m[h]]):e.set(m[h],d[m[h]]);if(d.pointers)for(e.pointers||Object.defineProperty(e,"pointers",F({},!1,!0)),h=0,m=Object.keys(d.pointers),n=m.length;h<n;h++)e.pointers[m[h]]=d.pointers[m[h]],e.addPointer(e.pointers[m[h]].point,e.pointers[m[h]].key,m[h]);c.apply(e,f);h=0;m=Object.keys(c.prototype);for(n=m.length;h<n;h++)Object.defineProperty(e,[m[h]],F(c.prototype[m[h]],!0));h=0;m=Object.keys(g);for(n=m.length;h<n;h++)-1!==
k.indexOf(m[h])?Object.defineProperty(e,m[h],F(g[m[h]],"filters"!==m[h])):g.pointers?void 0===g.pointers[m[h]]&&e.set(m[h],g[m[h]]):e.set(m[h],g[m[h]]);if(g.pointers)for(e.pointers||Object.defineProperty(e,"pointers",F({},!1,!0)),h=0,m=Object.keys(g.pointers),n=m.length;h<n;h++)e.pointers[m[h]]=g.pointers[m[h]],e.addPointer(e.pointers[m[h]].point,e.pointers[m[h]].key,m[h]);h=0;m=Object.keys(e.filters);for(n=m.length;h<n;h++)e.filters[m[h]]=e.filters[m[h]].bind(e);if(e.sessionStorage){if(c=sessionStorage.getItem(e.id||
b))for(c=JSON.parse(c),h=0,m=Object.keys(c),n=m.length;h<n;h++)e.set(m[h],c[m[h]]);else sessionStorage.setItem(e.id||b,e.stringify());e.addChildDataUpdateListener("*",function(){sessionStorage.setItem(e.id||b,e.stringify())})}if(e.localStorage){if(c=localStorage.getItem(e.id||b))for(c=JSON.parse(c),h=0,m=Object.keys(c),n=m.length;h<n;h++)e.set(m[h],c[m[h]]);else localStorage.setItem(e.id||b,e.stringify());e.addChildDataUpdateListener("*",function(){localStorage.setItem(e.id||b,e.stringify())})}e.store&&
M.set(e.id||b,e);return e}function n(b,c,f){b.kb_viewmodel=f;var d=c.maps=c.map(c.wrapper);c.wrapper.kb_maps=d;Object.keys(d).forEach(function(b){d[b].forEach(function(b){switch(b.type){case "for":b.connect(f).createloop();break;case "component":b.connect(f).unsync();break;default:b.connect(f)}})});c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,c.wrapper)}function r(b){b=b.querySelectorAll("*");for(var f=0,d=b.length;f<d;f++)b[f]instanceof HTMLUnknownElement&&c(b[f])}function t(b,d){p=
new E(d,!0);p.wrapper.innerHTML=p.template;p.wrapper.kb_mapper=p.wrapper;Object.defineProperty(p.wrapper,"__kbcomponenttree",F(d.kb_mapper?d.kb_mapper.__kbcomponenttree.slice():[]));d.parentElement.stopChange().replaceChild(p.fragment,d);f.unshift(p.wrapper);n(p.wrapper,p,l(b,T[b],f,w,y));-1===p.wrapper.__kbcomponenttree.indexOf(b)||p.wrapper.kb_viewmodel.multiple?(p.wrapper.__kbcomponenttree.push(b),p.wrapper.className+=" "+p.wrapper.kb_viewmodel.local,p.wrapper.className+=" "+p.wrapper.kb_viewmodel.id,
p.wrapper.className+=p.wrapper.kb_viewmodel.loopid?" "+p.wrapper.kb_viewmodel.loopid:"",p.wrapper.kb_viewmodel.subscribeDeep("*",R).callAllSubscribers(),p.wrapper.kb_viewmodel.kbnode=p.wrapper,p.wrapper.addChildAttrListener("html",function(b){if(!b.stopChange){if(-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&(b.arguments[0]instanceof HTMLUnknownElement||b.arguments[0]instanceof HTMLScriptElement)||-1!==["innerHTML","textContent"].indexOf(b.attr)&&b.target.__kbhtmllistener)return!0;
b.preventDefault();b.stopPropagation()}}),p.wrapper.addChildAttrUpdateListener("html",function(b){-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&b.arguments[0]instanceof HTMLUnknownElement&&c(b.arguments[0])}),r(p.wrapper)):(console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",
b),console.error("Recursive Component %o on %o",p.wrapper,p.wrapper.parentElement))}var q=b.tagName.toLowerCase(),p,v=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}),w=u||{},y={};void 0===f&&(f=[]);d&&U(d,w);Object.defineProperty(w,"local",F(w.local||"local_"+q+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(w,"id",F(w.id||"id_"+q+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(w,"filters",F(w.filters||
{},!1,!1,!0));"function"!==typeof w.onFinish&&(w.onFinish=function(){});Object.defineProperty(w,"onFinish",F(w.onFinish,!0,!1,!0));w.listen=O;Object.defineProperty(w,"listen",F(w.listen,!0,!1,!0));w.unlisten=P;Object.defineProperty(w,"unlisten",F(w.unlisten,!0,!1,!0));w.alert=S;Object.defineProperty(w,"alert",F(w.alert,!0,!1,!0));"string"===typeof w.sessionStorage&&(w.sessionStorage="true"===w.sessionStorage);Object.defineProperty(w,"sessionStorage",F(void 0!==w.sessionStorage?w.sessionStorage:!1,
!0,!1,!0));"string"===typeof w.localStorage&&(w.localStorage="true"===w.localStorage);Object.defineProperty(w,"localStorage",F(void 0!==w.localStorage?w.localStorage:!1,!0,!1,!0));"string"===typeof w.store&&(w.store="true"===w.store);Object.defineProperty(w,"store",F(void 0!==w.store?w.store:!1,!0,!1,!0));"string"===typeof w.multiple&&(w.multiple="true"===w.multiple);Object.defineProperty(w,"multiple",F(void 0!==w.multiple?w.multiple:!1,!0,!1,!0));e&&U(e,y);y.innerHTML=Array.prototype.slice.call(b.childNodes);
d=0;for(e=b.attributes.length;d<e;d++)y[b.attributes[d].name]=b.attributes[d].value;d=0;for(e=v.length;d<e;d++)b[v[d]]&&(y[v[d]]=b[v[d]]);b.k_post&&U(b.k_post,y);c.isRegistered(q)||b.kb_isLoading?c.isRegistered(q)&&t(q,b):(c.loadWaitList(q,function(c,f){t(q,b)}),c.loadWaitList(q).loading||(c.loadWaitList(q).loading=!0,K(q)))}function R(b){var c=this.__kbref.local,d=this.__kbref.id,e=this.__kbref.loopid,k=this.__kbscopeString+(0!==this.__kbscopeString.length?".":"")+b.key;if(l[c]&&l[c][k])for(var n=
0,p=l[c][k].length;n<p;n++)l[c][k][n](b);if(l[d]&&l[d][k])for(n=0,p=l[d][k].length;n<p;n++)l[d][k][n](b);if(l[e]&&l[e][k])for(n=0,p=l[e][k].length;n<p;n++)l[e][k][n](b)}function U(b,c){var d=Object.keys(b);c.pointers||Object.defineProperty(c,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var e=0,k=d.length;e<k;e++)if(z.prototype.isObservable(b,d[e]))c.pointers[d[e]]={key:b.__kbscopeString.split(".").pop(),point:b.__kbImmediateParent};else if(z.prototype.isMixed(b[d[e]]))c.pointers[d[e]]=
{key:b[d[e]].__kbscopeString.split(".").pop(),point:b[d[e]].__kbImmediateParent};else if(z.prototype.isObject(b[d[e]]))for(var l=0,n=Object.keys(b[d[e]]);l<k;l++)c[d[e]][n[l]]=b[d[e]][n[l]];else if(z.prototype.isArray(b[d[e]]))for(l=0;l<k;l++)c[d[e]][l]=b[d[e]][l];else c[d[e]]=b[d[e]]}function F(b,c,d,e){return{value:b,writable:!!c,enumerable:!!e,configurable:!!d}}function P(b,c,d){if(2===arguments.length)if(d=c.bind(this),c=b,y[c])for(var e=0,k=y[c].length;e<k;e++)y[c][e].toString()===d.toString()&&
y[c].splice(e,1);else console.error("no listeners exists by key %o",c);else if(d=d.bind(this),l[b]&&l[b][c])for(e=0,k=l[b][c].length;e<k;e++)l[b][c].toString()===d.toString()&&l[b][c].splice(e,1);return this}function O(b,c,d){if(2===arguments.length)d=c.bind(this),c=b,y[c]||(y[c]=[]),y[c].push(d);else if(d=d.bind(this),l[b]||(l[b]={}),l[b][c]||(l[b][c]=[]),l[b][c].push(d),document.querySelector("."+b)){var e=l[b][c],k=document.querySelector("."+b).kb_mapper.kb_viewmodel,n=k.getLayer(c),p=c.split(".").pop(),
q=n[p];e[e.length-1]({key:p,value:q,oldValue:q,local:n,kbref:k,onChange:!1,initial:!0})}return this}function S(b,c){if(y[b])for(var d=0,e=y[b].length;d<e;d++)y[b][d](c);return this}function Q(){if(!document.querySelector('meta[name="viewport"]')){var b=document.createElement("meta");b.name="viewport";b.content="width=device-width, initial-scale=1.0";document.head.stopChange().appendChild(b)}c.device||(c.device={});c.device.type=c.detectDevice();c.device.orientation=c.detectOrientation();c.device.browser=
c.detectBrowser();c.device.screenSize=c.detectScreenSize();c.device.orientationSize=c.detectScreenOrientation();c.device.keyboard="desktop"!==c.device.type?window.innerHeight<screen.height-.4*screen.height:!1;document.body.className=c.device.type+" "+c.device.orientation+(c.device.keyboard?" keyboard":"")+" "+c.device.browser+" "+c.device.screenSize+" "+c.device.orientationSize}function H(b,c){var d=document.createElement("script");d.src=b;d.onerror=function(){c(null,!0)};d.onload=function(){c(u)};
document.head.stopChange().appendChild(d)}function I(b){H("/node_modules/Konnekt/configs/config.js",b)}function G(b){H("/bower_components/Konnekt/configs/config.js",b)}function J(b){H("/configs/config.js",b)}function t(){for(var b=0,c=r.length;b<c;b++)r[b]()}window.K_Components||(window.K_Components={});var K=p().onLoad(function(b,d){var e="<style>"+unescape(d.prototype.k_css)+"</style>"+unescape(d.prototype.k_html);c.register(b,d,e,d.prototype.cms);C?(c.loadWaitList(b).forEach(function(c){c(b,d)}),
c.loadWaitList(b,"clear")):r.push(function(){c.loadWaitList(b).forEach(function(c){c(b,d)});c.loadWaitList(b,"clear")})}),z=A(),u=q||{},C=!1,r=[],E=n().addEventListener("loopitem",function(b){var d=b.node.tagName.toLowerCase();c.isRegistered(d)||b.node.kb_isLoading?c.isRegistered(d)&&c(b.node):(b.node.kb_isLoading=!0,c.loadWaitList(d,function(d,f){c(b.node)}),c.loadWaitList(d).loading||(c.loadWaitList(d).loading=!0,K(d)))}),L=N().base(void 0!==u.base?u.base:"default").watch(!0).onChange(function(b){c(document.querySelector(b))}),
M=z({},"Model"),T={},y={},l={},d=function(){return window.location.search.replace("?","").split("&").filter(function(b){return 0!==b.length}).reduce(function(b,c){b[c.split("=")[0]]=c.split("=")[1];return b},{})}(),k="id filters class sessionStorage localStorage store component multiple".split(" "),e={},v;c.detectDevice=function(){return navigator.userAgent.toLowerCase().match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|[^a-z]rim[^a-z]|sonyericsson|nokia|[^a-z]mib[^a-z])/)?
"mobile":navigator.userAgent.toLowerCase().match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?"tablet":"desktop"};c.detectBrowser=function(){var b=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),c="undefined"!==typeof InstallTrigger,d=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),e=!!document.documentMode,k=
!e&&!!window.StyleMedia,l=!!window.chrome&&!!window.chrome.webstore;return b?"opera":c?"firefox":d?"safari":l?"chrome":e?"ie":k?"edge":"unknown"};c.detectOrientation=function(){return screen.width>screen.height?"landscape":screen.height>screen.width?"portrait":"square"};c.detectScreenOrientation=function(){return window.innerWidth>window.innerHeight?"landscape-size":window.innerHeight>window.innerWidth?"portrait-size":"square-size"};c.detectScreenSize=function(){return 1280>("landscape"===this.detectOrientation()?
window.innerWidth:window.innerHeight)?750>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?"mobile-size":"tablet-size":"desktop-size"};c.config=function(b){function d(b,c){for(var e=0,k=Object.keys(b),l=k.length;e<l;e++)"object"===typeof b[k[e]]?(void 0===c[k[e]]&&(c[k[e]]={}),d(b[k[e]],c[k[e]])):"object"!==c[k[e]]&&(c[k[e]]=b[k[e]])}d(b,u);return c};window.addEventListener("resize",Q);document.body?Q():document.addEventListener("DOMContentLoaded",function(){Q()});c.register=
function(b,d,e,h){E.register(b,e);T[b]=d;return c};c.isRegistered=function(b){return void 0!==T[b]&&E.isRegistered(b)};c.registered=function(){return Object.keys(T)};c.loadWaitList=function(b,d){if("undefined"===typeof d&&b)return e[b];if(b){if(void 0===e[b]||"clear"===d){var g=void 0===e[b]?!1:!!e[b].loading;e[b]=[];e[b].loading=g}"function"===typeof d&&e[b].push(d)}return c};c.localRouting=function(b){b?(v=Node.prototype.appendChild,Node.prototype.appendChild=function(b){if("script"===b.nodeName.toLowerCase()){b.src=
b.src.substring(0,-1!==b.src.indexOf("?")?b.src.indexOf("?"):b.src.length);var c=b.src.match(/(.*?component\/)/);c&&(d.env||(d.env="prod"),"dev"===d.env&&(d.env="qa"),c=b.src.replace(c[0],"").replace(/[\/\s]/g,""),b.src=(void 0!==u.prefix?u.prefix:"")+"/components/"+c+"/build/"+d.env+"/"+c+(d.debug&&"prod"!==d.env?"":".min")+".js",arguments[0]=b)}return v.apply(this,arguments)}):v&&(Node.prototype.appendChild=v,v=null);return c};c.hashRouting=function(b){b&&(document.body?L(window.location.hash.replace("#",
"")):document.addEventListener("DOMContentLoaded",function(){L(window.location.hash.replace("#",""))}));return this};z.prototype._parse||(z.prototype._parse=z.prototype.parse);z.prototype.parse=function(){if(this.__kbref.kbnode){var b=this.__kbref.kbnode.kb_mapper.kb_maps;this._parse.apply(this,arguments);this.unsubscribeDeep("*",R);this.subscribeDeep("*",R).callAllSubscribers();Object.keys(b).forEach(function(c){b[c].forEach(function(b){b.reset()})})}else return this._parse.apply(this,arguments)};
(function(){I(function(b,c){c?G(function(b,c){c&&console.error("the Konnekt local config was not found, this issue happens when You do not have Konnekt isntalled via th standard node_modules or bower_components module directories");J(function(b,c){C=!0;t()})}):J(function(b,c){C=!0;t()})})})();return c}}(X,Y,W,Z,aa);"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return V}):"undefined"!==typeof module&&(module.exports=V);return V}();
