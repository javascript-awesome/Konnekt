var Konnekt=function(){var W=function(){return function(z,u,p,n){function M(b,e,g,l){b=void 0===b?{}:b;var m={},d=window.Proxy?new Proxy(m,{set:N,deleteProperty:S}):m,k=Object.keys(b,"all");Object.defineProperties(m,{__kbname:c("string"===typeof e?e:"default",!0,!0),__kbref:c(g?g.__kbref||g:d,!0,!0),__kbscopeString:c(l||"",!0,!0),__kbImmediateParent:c(g||null,!0,!0),__kbsubscribers:c({}),__kbparentsubscribers:c({}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),
__kbcreatelisteners:c([]),__kbdeletelisteners:c([]),__kbparentcreatelisteners:c([]),__kbparentdeletelisteners:c([]),__kbmethodlisteners:c([]),__kbmethodupdatelisteners:c([]),__kbpointers:c({}),__kbevents:c(T),__kbsetindex:c(0,!0),__kbproto:c({}),length:c(0,!0),__kbnonproxy:c(m,!1,!0),__kbproxy:c(d,!1,!0),_stopChange:c(!1,!0)});m.__proto__=M.prototype;e=0;for(g=k.length;e<g;e++)d.set(k[e],b[k[e]]);m.__kbevents.addlistener=[];m.__kbevents.removelistener=[];m.addActionListener("addlistener",function(b){if("string"===
typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var e=b.local.__kbpointers[b.arguments[0]],e=e.point.getLayer(e.keys);if(void 0!==e[b.arguments[0]])e[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var e=b.local.__kbpointers[b.arguments[0]],e=e.point.getLayer(e.keys);if(void 0!==e[b.arguments[0]])e[b.arguments[2]](b.arguments[0],b.arguments[1])}});
return d}function C(b,e,g,l,m,d,k,f){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=e;this.arguments=d;this.type=this.event=g;this.listener=k;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=l;this.oldValue=m;this.stopChange=f}function c(b,e,g,l){return{value:b,writable:!!e,enumerable:!!l,configurable:!!g}}function Q(b,e,g){return{get:function(){return b.call(this)},
set:function(g){e&&(b=g)},enumerable:!1,configurable:!!g}}function R(b,e){var g=e,l=e;return{get:function(){return g},set:function(e){var B=new C(this,b,"set",e,g,arguments,"__kblisteners",this._stopChange);!0!==d(B)&&(l=g,g=e,B.stopChange||(B.listener="__kbupdatelisteners",B.type="postset",d(B)),this.callSubscribers(this.__kbref,this,b,g,l,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function E(){var b=Array.prototype.slice.call(arguments),e=b.shift();return{get:function(){return b.reduce(function(b,
e){return b[e]},e)},set:function(g){var l=b.slice(0,b.length-1).reduce(function(b,e){return b[e]},e);(this._stopChange?l.stopChange():l)[b[b.length-1]]=g;this._stopChange=!1},enumerable:!0,configurable:!0}}function O(b,e){for(var g=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
l=[],m,d=0,k=g.length;d<k;d++)if(m=b[g[d].listener],F.call(m))for(var l=Object.keys(m),f=0,c=l.length;f<c;f++)for(var h=0,t=m[l[f]].length;h<t;h++)e[g[d].method](l[f],m[l[f]][h]);else for(f=0,c=m.length;f<c;f++)e[g[d].method](m[f])}function N(b,e,g){if(K(b,e)||"length"===e||"__kbsetindex"===e){if("length"===e)if(g>b.length&&void 0!==b[g-1])b.length=g;else{if(g<b.length){e=g;for(var l=b.length;e<l;e++)b[e]&&delete b[e];b.length=g}}else b[e]=g;return!0}b.set(e,g)}function S(b,e){b.del(e);return!0}function P(b,
e,g){var l=r(g),m=F(g),B=J(g);if(l&&g.__kbname!==b.__kbname)"default"===g.__kbname?b.merge(g,e):b.__kbpointers[e]||b.addPointer(g,e);else{var l=new C(this,e,"create",g,void 0,[],"__kbcreatelisteners",this._stopChange),k=d(l),f=parseInt(e,10);if(!0!==k)if((m||B)&&0!==Object.keys(g,"all").length)for(P.call(this,b,e,{}),m=0,B=Object.keys(g,"all"),l=B.length;m<l;m++)P.call(this[e],b[e],B[m],g[B[m]]);else{if(m||B)g=new M(g,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+e),O(b,g);
Object.defineProperty(b,e,R(e,g));!isNaN(f)&&b.length<=f&&(b.length=f+1);l.listener="__kbupdatelisteners";l.type="postcreate";d(l)}}}function G(b,e,g,l){var m=r(g),d=F(g),k=J(g);if(m&&g.__kbname!==b.__kbname)"default"===g.__kbname?b.merge(g,e):b.__kbpointers[e]||b.addPointer(g,e);else if(void 0===b[e])-1===w.indexOf(e)?P.call(this,b,e,g):(l?b.stopChange():b)[e]=g;else if(d||k)for(m=0,d=Object.keys(g,"all"),k=d.length;m<k;m++)G.call(this[e],b[e],d[m],g[d[m]],l);else(l?b.stopChange():b)[e]=g}function H(b){return t.call(b).replace(/(\[object\s|\])/g,
"").toLowerCase()}function F(b){return"object"===H(void 0!==b?b:this)}function J(b){return"array"===H(void 0!==b?b:this)}function r(b){return"mixed"===H(void 0!==b?b:this)}function K(b,e){e="string"===typeof b?b:e;var g=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,e);return g?void 0===g.value:!1}function y(b,e){function g(b){var e=parseFloat(b,10),g="true"===b,l=b.indexOf('"'),m=b.lastIndexOf('"');if(isNaN(e)||e.toString().length!==b.length){if(g||"false"===b)return g;b=0===l&&0!==m?
b.substring(1,b.length-1):b.substring(1,b.length)}else return e;return b}var l=this.__kbnonproxy;split=b.split(/({"|,"(?=(?:[^"]|"[^"]*")*$)|\[(?=(?:[^"]|"[^"]*")*$)|\](?=(?:[^"]|"[^"]*")*$)|":|"}|{(?=(?:[^"]|"[^"]*")*$)|,(?=(?:[^"]|"[^"]*")*$)|}(?=(?:[^"]|"[^"]*")*$))/).filter(Boolean);UKeys=[];isValue=isKey=!1;n="";for(var m=1,d=split.length,k,f,c,h;m<d;m++)k=split[m],f=split[m-1],c=split[m+1],h=UKeys[UKeys.length-1],'":'===f&&'{"'===k||'":'===f&&"["===k?(n+=(0!==n.length?".":"")+h,l[h]||l.set(h,
e?e(h,{},n,l):{}),l=l[h],UKeys.pop()):"["===f||","===f&&0!==l.length?"{"===k||'{"'===k?(n+=(0!==n.length?".":"")+l.__kbsetindex,"object"!==typeof l[l.__kbsetindex]&&l.set(l.__kbsetindex,e?e(l.length,{},n,l):{}),l.__kbsetindex+=1,l=l[l.__kbsetindex-1]):(l.set(l.__kbsetindex,e?e(l.length,g(k),n,l):g(k)),l.__kbsetindex+=1):'":'===f?(l.set(h,e?e(h,g(k),n,l):g(k)),UKeys.pop()):'{"'===f||","===f&&'":'===c?UKeys[UKeys.length]=k.replace(/\"/g,""):"}"!==f&&"]"!==f||void 0===k||(n=-1!==n.indexOf(".")?n.substring(0,
n.lastIndexOf(".")-1):"",l=l.__kbImmediateParent);return this}function v(b,e){"number"===typeof b&&(b=b.toString());var g=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var l=new C(this,b,"set",e,this[b],arguments,"__kbmethodlisteners");!0!==d(l)&&(G.call(this,g,b,e,this._stopChange),this.stopChange=void 0,l.type="postset",l.listener="__kbmethodupdatelisteners",d(l));return this}function A(b){return b.split(".")}function q(b,e){return function(g,
l){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var m=this[e],B=new C(this,e,"addlistener",m,void 0,arguments,"");"string"===typeof g&&1!==A(g).length&&(m=A(g),g=m.pop(),m=m.join("."),B.local=this.getLayer(m),m=B.local[e],B.value=m);!0!==d(B)&&(F.call(m)?(void 0===m[g]&&(m[g]=[]),m[g].push(l),B.type="postaddlistener",d(B)):J.call(m)&&"function"===typeof g&&(m.push(g),B.type="postaddlistener",d(B)));return this}}function D(b,e){return function(g,l){arguments=Array.prototype.slice.call(arguments);
arguments.push(b);var m=this[e],B=new C(this,e,"removelistener",m,void 0,arguments,"");"string"===typeof g&&1!==A(g).length&&(m=A(g),m.pop(),m.join("."),B.local=this.getLayer(m),m=B.local[e],B.value=m,g=A(g).pop());if(!0!==d(B))if(F.call(m)){if(void 0!==m[g])for(var k=0,f=m[g].length;k<f;k++)if(m[g][k].toString()===l.toString()){m[g].splice(k,1);B.type="postremovelistener";d(B);break}}else if(J.call(m)&&"function"===typeof g)for(k=0,f=m.length;k<f;k++)if(m[k].toString()===g.toString()){m.splice(k,
1);B.type="postremovelistener";d(B);break}return this}}function I(b,e){function g(b,e,d){var k=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),f=this,c=b;"string"===typeof b&&1!==A(b).length&&(f=A(b),c=f.pop(),f=f.join("."),f=this.getLayer(f),void 0===f[d][c]&&(f[d][c]=[]),f[d][c].push(e));F.call(f[d])?(void 0===f[d][c]&&(f[d][c]=[]),f[d][c].push(e),f=f.__kbpointers[c],f=f.point.getLayer(f.keys),void 0!==f[c]&&(void 0===f[d][c]&&(f[d][c]=[]),f[d][c].push(_func))):f[d].push(e);
c=0;for(f=k.length;c<f;c++)g.call(this[k[c]],b,e,d)}return function(l,m){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var k=new C(this,e,"addchildlistener",void 0,void 0,arguments,"");!0!==d(k)&&(g.call(this.__kbnonproxy,l,m,e),k.type="postaddchildlistener",d(k));return this}}function L(b,e){function g(b,e,d){var k=Object.keys(this,"all").filter(function(b){return r.call(this[b])}.bind(this)),f=this,c=b;if("string"===typeof b&&1!==A(b).length){var h=A(b),c=h.pop();h.join(".");
f=this.getLayer(h);if(void 0!==f[d][b])for(var h=0,t=f[d][b].length;h<t;h++)if(f[d][b][h].toString()===e.toString()){f[d][b].splice(h,1);break}}if(F.call(f[d])){if(void 0!==f[d][c]){h=0;for(t=f[d][c].length;h<t;h++)if(f[d][c][h].toString()===e.toString()){f[d][c].splice(h,1);break}if(-1!==f.__kbpointers.indexOf(c)&&(h=f.__kbpointers[c],f=h.point.getLayer(h.keys),void 0!==f[d][c]))for(h=0,t=f[d][c].length;h<t;h++)if(f[d][c][h].toString()===e.toString()){f[d][c].splice(h,1);break}}}else for(h=0,t=f[d].length;h<
t;h++)if(f[d][h].toString()===e.toString()){f[d].splice(h,1);break}h=0;for(t=k.length;h<t;h++)g.call(this[k[h]],b,e,d)}return function(l,m){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var f=new C(this,e,"removechildlistener",void 0,void 0,arguments,"");!0!==d(f)&&(g.call(this.__kbnonproxy,l,m,e),f.type="postremovechildlistener",d(f));return this}}var T={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],
shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],postremovechildlistener:[]},w=["__proto__","_stopChange"],h=function(b,e){if(!e._stopPropogration&&b)for(var g=0,l=b.length;g!==l&&(b[g](e),!e._stopPropogration);g++);},d=function(b){if(b.listener){var e=b.local[b.listener],g=b.local[b.listener.replace("__kb",
"__kbparent")];F.call(e)?(h(e[b.key],b),h(e["*"],b)):h(e,b);F.call(g)?(h(g[b.key],b),h(g["*"],b)):h(g,b)}h(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},k=Array.prototype.sort,f=Array.prototype.slice,t;Object.prototype._toString||(Object.prototype._toString=Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof M?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,e){return Object._keys(b).filter(function(b){return e&&
"object"!==e&&"o"!==e?"all"===e?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};t={}.toString;Object.defineProperties(M.prototype,{"typeof":c(H,!1,!0),sizeof:c(function(b){function e(b){for(var d=Object.keys(b,"all"),f=0,k=void 0,c=0,h=d.length;c<h;c++)k=b[d[c]],"object"===typeof k&&void 0!==k&&null!==k?-1===g.indexOf(k)&&(g.push(k),f+=e(k)):"string"===typeof k?f+=2*k.length:"number"===typeof k?f+=8:"boolean"===typeof k?f+=4:"function"===typeof k&&(f+=2*k.toString().length),f+=2*d[c].length;return f}
var g=[];return e(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:c(F,!1,!0),isArray:c(J,!1,!0),isMixed:c(r,!1,!0),isObservable:c(K,!1,!0),stringify:c(function(b){var e=[];return JSON.stringify(b||this,function(b,l){if(J(l)||F(l)){if(-1!==e.indexOf(l))return;e.push(l)}return l})},!1,!0),getKeys:c(function(b,e){e="string"===typeof b?b:e?e:"object";return Object.keys("string"===typeof b||void 0===b?this:b,e)},!1,!0),getIndexes:c(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var e=
[],g=0,l=b.length;g<l;g++)void 0!==b[g]&&(e[e.length]=g);return e},!1,!0),keyCount:Q(function(){return this.getKeys("object").length},!1,!0),indexCount:Q(function(){return this.length},!1,!0),count:Q(function(){return this.keyCount+this.indexCount},!1,!0),concat:c(Array.prototype.concat),every:c(Array.prototype.every),filter:c(Array.prototype.filter),find:c(Array.prototype.find),findIndex:c(Array.prototype.findIndex),forEach:c(Array.prototype.forEach),includes:c(Array.prototype.includes),indexOf:c(Array.prototype.indexOf),
join:c(Array.prototype.join),lastIndexOf:c(Array.prototype.lastIndexOf),map:c(Array.prototype.map),reduce:c(Array.prototype.reduce),reduceRight:c(Array.prototype.reduceRight),slice:c(Array.prototype.slice),some:c(Array.prototype.some),entries:c(Array.prototype.entries),toLocaleString:c(Array.prototype.toLocaleString),parse:c(y,!0),parseReplace:c(function(b,e){return y.call(e||this,b)},!0),add:c(function(b,e){v.call(this,b,e);return this}),set:c(v),get:c(function(b){"number"===typeof b&&(b=b.toString());
var e=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(e)return e[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),del:c(function(b,e){var g="number"===typeof b||!isNaN(parseInt(b,10));g&&(b=b.toString());var l=-1!==b.indexOf(".")?this.getLayer(b):this,m=b.split(".").pop();if(l&&void 0!==l[m])if(g&&l.length>parseInt(b,10)&&!e)l=l.__kbnonproxy,l.splice(m,1);else{var f=new C(l,b,"delete",l[m],void 0,[],"__kbmethodlisteners"),
k=d(f),h=new C(l,b,"delete",l[m],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==d(h)&&!0!==k&&(l=l.__kbnonproxy,Object.defineProperty(l,m,c(void 0,!0,!0,!1)),delete l[m],g&&l.length>parseInt(b,10)&&e&&--l.length,f.type="postdelete",f.listener="__kbmethodupdatelisteners",d(f),h.listener="__kbupdatelisteners",h.type="postdelete",h.oldValue=h.value,h.value=void 0,d(h))}return this}),exists:c(function(b){var e=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&
(b=b.split(".").pop());return e?void 0!==e[b]:!!e}),addPrototype:c(function(b,e){var g=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===g[b]?Object.defineProperty(g.__proto__,b,c(e,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",prop,g);return this}),addPointer:c(function(){var b=Array.prototype.slice.call(arguments),e=b.shift(),g=b[b.length-1];e instanceof M||(e=new M(e,
e.__kbname));var l=new C(this,g,"create",e[g],void 0,[],"__kbcreatelisteners",this._stopChange),m=this.__kbnonproxy;l.root=e.__kbref.__kbproxy;if(!0!==d(l)){Object.defineProperty(m,g,E.apply(m,arguments));m.__kbpointers[g]={keys:b.join("."),point:e};var b=m,e=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],m=[],f;if(b[g].__kbImmediateParent)for(var k=0,c=e.length;k<c;k++){f=b[e[k].listener];for(var m=Object.keys(f),h=0,t=m.length;h<
t;h++)if(g===m[k])for(var v=0,A=f[m[k]].length;v<A;v++)void 0===b[g].__kbImmediateParent[e[k].listener][g]&&(b[g].__kbImmediateParent[e[k].listener][g]=[]),b[g].__kbImmediateParent[e[k].listener][g].push(f[m[k]][v])}O(b,b[g]);l.listener="__kbupdatelisteners";l.type="postcreate";d(l)}return this}),move:c(function(b,e){this.__kbnonproxy.set(e,b[e]);r(b)?b.del(e):(b[e]=null,delete b[e]);return this}),copy:c(function(b,e){var g=this.__kbnonproxy;r(b)?"default"===b.__kbname?g.merge(b[e],e):g.addPointer(b,
e):g.set(e,b[e]);return this}),merge:c(function(b,e){function g(b,e){for(var d=r(b)?b.keys("object"):Object.keys(b),m,f=0,k=d.length;f<k;f++)m=b[d[f]],"object"===typeof m&&-1===l.indexOf(m)&&"undefined"!==e[d[f]]?g(m,e):void 0===e[d[f]]&&e.set(d[f],"object"===typeof m?{}:m)}var l=[],d=this.__kbnonproxy;e&&void 0===d[e]&&d.set(e,{});g(b,e?d[e]:d);return this}),replace:c(function(b,e){function g(b,e){var d=r(b)?b.keys("object"):Object.keys(b),m;m=b[d[x]];"object"===typeof m&&-1===l.indexOf(m)&&"undefined"!==
e[d[x]]?g(m,e):e.set(d[x],"object"===typeof m?{}:m)}var l=[],d=this.__kbnonproxy;e&&void 0===d[e]&&d.set(e,{});g(b,e?d[e]:d);return this}),copyWithin:c(function(b,e,g){e=e||0;g=g||0;var l=new C(this,b,"copyWithin",this[b],void 0,arguments,"__kbmethodlisteners"),m=this.__kbnonproxy;if(!0!==d(l)&&b<m.length){b=0>b?m.length-1:b;e=e<m.length?e:m.length-1;g=g<m.length?g:m.length-1;e=0>e?m.length-1:e;g=0>e?m.length-1:g;for(var f=e;f<=g;f++)m.set(b+(f-e),m[f]);l.type="postcopyWithin";l.listener="__kbmethodupdatelisteners";
d(l)}return this}),fill:c(function(b,e,g){e=void 0!==e?Math.max(0,e):0;g=void 0!==g&&g<=this.length?Math.min(this.length,Math.max(0,g)):this.length;var l=new C(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),m=this.__kbnonproxy;if(!0!==d(l)){for(var f=a.key;f<g;f++)m[f]=b;l.type="postfill";l.listener="__kbmethodupdatelisteners";d(l)}return this}),pop:c(function(){var b=new C(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;
if(!0!==d(b)){var g=e[e.length-1];e.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";d(b);return g}return null}),push:c(function(b){var e=new C(this,this.length,"push",b,void 0,arguments,"__kbmethodlisteners"),g=this.__kbnonproxy;!0!==d(e)&&(g.set(g.length,b),e.type="postpush",e.listener="__kbmethodupdatelisteners",d(e));return this.length}),reverse:c(function(){var b=new C(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==d(b)){for(var g=
null,l=null,m=e.length,g=0;g<m/2;g+=1){var l=m-1-g,f=e[g];e[g]=e[l];e[l]=f}b.type="postreverse";b.listener="__kbmethodupdatelisteners";d(b)}return this}),shift:c(function(){var b=new C(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==d(b)){for(var g=a.key,l=this.length-1;g<l;g++)e[g]=e[g+1];e.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";d(b)}return null}),sort:c(function(){var b=new C(this,void 0,"sort",void 0,void 0,arguments,
"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==d(b)){var g=f.call(e);k.apply(g,arguments);for(var l=0,m=g.length;l<m;l++)e[l]=g[l];b.type="postsort";b.listener="__kbmethodupdatelisteners";d(b)}return this}),splice:c(function(b,e,g){b="string"===typeof b?parseInt(b,10):b;var l=new C(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==d(l)){var k=[],c=Array.prototype.slice.call(arguments,2),h=c.length-2,t=0;if(0!==e&&void 0!==f[b-1+e])for(var v=0,A=e;v<A;v++){k.push(f[b+
v]);for(var q=b+v,r=this.length-1;q<r;q++)f[q]=f[q+1];f.del(f.length-1,!0)}if(0!==h)for(v=0,A=h;v<A;v++){t=b+Math.min(1,v);q=f.length;for(r=t;q>r;q--)f.set(q,f[q-1]);f.set(t,c[v])}l.type="postsplice";l.listener="__kbmethodupdatelisteners";d(l);return k}return[]}),unshift:c(function(){var b=new C(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==d(b)){for(var g=Array.prototype.slice.call(arguments),l=e.length-1+g.length,f=g.length;-1!==l;l--)l<f?e.set(l,g[l]):
e.set(l,e[l-g.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";d(b)}return this.length}),getLayer:c(function(b){function e(b){var l=b[0];return void 0===this[l]&&0!==b.length-1?null:r(this[l])?0!==b.length-1?(b.shift(),e.call(this[l],b)):this[l]:this}b=A(b);return e.call(this,b)}),setLayer:c(function(b){function e(b){var l=b[0];void 0===this[l]&&0!==b.length-1&&(this[l]=M({},this.__kbname,this,this.__kbscopeString+"."+l));return r(this[l])?0!==b.length-1?(b.shift(),e.call(this[l],
b)):this[l]:this}b=A(b);return e.call(this,b)}),ignoreCreate:c(function(b){-1===w.indexOf(b)&&w.push(b);return this}),addActionListener:c(function(b,e){var g=this.__kbnonproxy;void 0!==g.__kbref.__kbevents[b]&&g.__kbref.__kbevents[b].push(e);return this}),removeActionListener:c(function(b,e){var g=this.__kbnonproxy;if(void 0!==g.__kbref.__kbevents[b])for(var l=0,d=g.__kbref.__kbevents[b];l<d;l++)if(g.__kbref.__kbevents[b][l].toString()===e.toString()){g.__kbref.__kbevents[b].splice(l,1);break}return this}),
subscribe:c(function(b,e){var g=b.split("."),l=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;void 0===g.__kbsubscribers[l]&&(g.__kbsubscribers[l]=[]);g.__kbsubscribers[l].push(e);return this}),unsubscribe:c(function(b,e){var g=b.split("."),l=g.pop(),g=0!==g.length?this.__kbnonproxy.getLayer(g.join(".")):this.__kbnonproxy;if(void 0!==g.__kbsubscribers[l])for(var d=0,f=g.__kbsubscribers[l].length;d<f;d++)if(g.__kbsubscribers[l][d].toString()===e.toString()){g.__kbsubscribers[l].splice(d,
1);break}return this}),subscribeDeep:c(function(b,e){function g(b,d){var l=Object.keys(b,"all").filter(function(e){return r.call(b[e])}.bind(b));if(void 0!==b[d]||"*"===d)void 0===b.__kbparentsubscribers[d]&&(b.__kbparentsubscribers[d]=[]),b.__kbparentsubscribers[d].push(e);for(var f=0,k=l.length;f<k;f++)g(b[l[f]],d)}var l=-1!==b.indexOf("*"),d=b.split(".");d.slice(0,d.indexOf("*"));var f=-1!==d.indexOf("*")?d.slice(d.indexOf("*"),d.length):[],k=1===f.length,c=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):
this.__kbnonproxy;l?k?g(d,"*"):(f.shift(),d.subscribeDeep(f.join("."),e)):g(d,c);return this}),unsubscribeDeep:c(function(b,e){function g(b,d){var l=Object.keys(b,"all").filter(function(e){return r.call(b[e])&&!(b[e]instanceof HTMLElement)}.bind(b));if((void 0!==b[d]||"*"===d)&&void 0!==b.__kbparentsubscribers[d])for(var f=0,k=b.__kbparentsubscribers[d].length;f<k;f++)b.__kbparentsubscribers[d][f].toString()===e.toString()&&b.__kbparentsubscribers[d].splice(f,1);f=0;for(k=l.length;f<k;f++)g(b[l[f]],
d)}var d=-1!==b.indexOf("*"),f=b.split(".");f.slice(0,f.indexOf("*"));var k=-1!==f.indexOf("*")?f.slice(f.indexOf("*"),f.length):[],c=1===k.length,h=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):this.__kbnonproxy;d?c?g(f,"*"):(k.shift(),f.unsubscribeDeep(k.join("."),e)):g(f,h);return this}),callSubscribers:c(function(b,e,g,d,f,k){var c=this.__kbnonproxy;if(void 0!==c.__kbsubscribers[g])for(var h=0,t=c.__kbsubscribers[g].length;h<t;h++)c.__kbsubscribers[g][h].call(this,{key:g,value:d,
oldValue:f,stopChange:k,local:e,kbref:b});if(void 0!==c.__kbparentsubscribers[g])for(h=0,t=c.__kbparentsubscribers[g].length;h<t;h++)c.__kbparentsubscribers[g][h].call(this,{key:g,value:d,oldValue:f,stopChange:k,local:e,kbref:b});if(void 0!==c.__kbsubscribers["*"])for(h=0,t=c.__kbsubscribers["*"].length;h<t;h++)c.__kbsubscribers["*"][h].call(this,{key:g,value:d,oldValue:f,stopChange:k,local:e,kbref:b});if(void 0!==c.__kbparentsubscribers["*"])for(h=0,t=c.__kbparentsubscribers["*"].length;h<t;h++)c.__kbparentsubscribers["*"][h].call(this,
{key:g,value:d,oldValue:f,stopChange:k,local:e,kbref:b});return this}),callAllSubscribers:c(function(){function b(b,g,d){for(var f=0,k=g.length;f<k;f++)g[f].call(b,{key:d,value:b[d],oldValue:b[d],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(e){for(var g=Object.keys(e.__kbsubscribers),d=Object.keys(e.__kbparentsubscribers),f=0,k=g.length;f<k;f++)if(0!==e.__kbsubscribers[g[f]].length)if("*"===g[f])for(var c=0,h=Object.keys(e),t=h.length;c<t;c++)b(e,e.__kbsubscribers[g[f]],h[c]);else b(e,
e.__kbsubscribers[g[f]],g[f]);f=0;for(k=d.length;f<k;f++)if(0!==e.__kbparentsubscribers[d[f]].length)if("*"===d[f])for(c=0,h=Object.keys(e),t=h.length;c<t;c++)b(e,e.__kbparentsubscribers[d[f]],h[c]);else b(e,e.__kbparentsubscribers[d[f]],d[f])})(this.__kbnonproxy);return this}),stopChange:c(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(M.prototype,{addDataListener:c(q("addDataListener","__kblisteners")),removeDataListener:c(D("removeDataListener","__kblisteners")),
addDataUpdateListener:c(q("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:c(D("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:c(q("addDataCreateListener","__kbcreatelisteners")),removeDataCreateListener:c(D("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:c(q("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:c(D("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:c(q("addDataMethodListener",
"__kbmethodlisteners")),removeDataMethodListener:c(D("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:c(q("addDataMethodUpdateListener","__kbmethodupdatelisteners")),removeDataMethodUpdateListener:c(D("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:c(I("addChildDataListener","__kbparentlisteners")),removeChildDataListener:c(L("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:c(I("addChildDataUpdateListener",
"__kbparentupdatelisteners")),removeChildDataUpdateListener:c(L("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:c(I("addChildDataCreateListener","__kbparentcreatelisteners")),removeChildDataCreateListener:c(L("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:c(I("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:c(L("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return M}}(),
X=function(){return function(){function z(n){if("object"===typeof n)for(var p=0,C=n.length;p<C;p++)K_Components[n[p]]?u(n[p],K_Components[n[p]],document.getElementById("script_"+n[p])):z.load(n[p],"component/"+n[p]+"/"+location.search,u);else"string"===typeof n&&(K_Components[n[p]]?u(n,K_Components[n],document.getElementById("script_"+n)):z.load(n,"component/"+n+"/"+location.search,u))}var u=function(){},p=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});z.getUnknowns=function(n){var u=
n.match(p);return u.map(function(n){return n.replace(/[<\/>]/g,"")}).filter(function(n,c){return document.createElement(n)instanceof HTMLUnknownElement&&-1===u.indexOf(n,c+1)&&!K_Components[n]})};z.load=function(n,u,p){document.head.appendChild(function(c,n,u){var p=document.createElement("script");p.type="text/javascript";p.charset="utf-8";p.async=!0;p.src=n;p.id="script_"+c;p.onload=function(){u(c,K_Components[c],this)};return p}(n,u,p));return z};z.onLoad=function(n){if(void 0===n)return u;u="function"===
typeof n?n:u;return z};return z}}(),V=function(){function z(){function u(d,k){var f=d.length,c;for(c=0;c<f&&(d[c](k),void 0===k._stopPropogation);c++);}function p(d,k){var f=d.length,c;for(c=0;c<f&&(k.child=k.target,k.target=d[c].parent,d[c].func(k),void 0===k._stopPropogation);c++);}function n(d,k){for(var f=d.length;0<f;T++)if(d[T].toString()===k.toString())return!0;return!1}function z(d,k,f,c,b,e,g,l){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=
!0};this.value=f;this.oldValue=c;this.target=d;this.attr=k;this.arguments=b;this.action=e;this.child=void 0;this.type=g;this.stopChange=l}function C(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function c(d,k,f,c){var b=d.get,e=d.set,g;return function(d){g=b.call(this);f(this,k,d,g,void 0,
this._stopChange)&&e.call(this,d);this._stopChange||c(this,k,d,g);this._stopChange=void 0}}function Q(d,k,f,c){var b;return function(e){b=d.value;f(this,k,e,b,arguments,this._stopChange)&&(d.value=e);this._stopChange||c(this,k,e,b,arguments);this._stopChange=void 0}}function R(d,k,f,c){var b=d.value,e;return function(){f(this,k,null,null,arguments,this._stopChange)&&(e=b.apply(this,arguments));this._stopChange||c(this,k,null,null,arguments,e);this._stopChange=void 0;return e}}function E(d,k,f,c,b){var e=
b.style,g=k.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),l,m;return{get:function(){return m},set:function(d){l=m;f(b,k,d,l,void 0,this._stopChange)&&(m=d,e.setProperty(g,d));this._stopChange||c(b,k,d,l);this._stopChange=void 0},enumerable:!0,configurable:!0}}function O(d,k,f,c){if("function"!==typeof k)return r;var b=-1!==["value","checked"].indexOf(d),e=-1!==I.indexOf(d),g;if(this.toString()!==r.toString())if(f){var l=this.querySelectorAll("*");f=l.length;for(var m,h=0;h<f;h++){m=l[h].attrListeners();
if(b||"*"===d)void 0!==l[h].addInputBinding&&l[h].addInputBinding(),void 0!==l[h].addInputBoxBinding&&l[h].addInputBoxBinding();if(e)r.injectStyleProperty(l[h],d),g=c?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===d){g=c?"_parentStyleUpdateListeners":"_parentStyleListeners";f=I.length;for(var q=0;q<f;q++)r.injectStyleProperty(l[h],I[q]);void 0===m[g]["*"]&&(m[g]["*"]=[]);m[g]["*"].push({parent:this,func:k})}g=c?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===m[g][d]&&
(m[g][d]=[]);m[g][d].push({parent:this,func:k})}}else{m=this.attrListeners();if(e)g=c?"_styleUpdateListeners":"_styleListeners",r.injectStyleProperty(this,d);else{if(b||"*"===d)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===d){g=c?"_styleUpdateListeners":"_styleListeners";f=I.length;for(h=0;h<f;h++)r.injectStyleProperty(this,I[h]);void 0===m[g][d]&&(m[g][d]=[]);m[g][d].push(k)}g=c?"_attrUpdateListeners":"_attrListeners"}void 0===
m[g][d]&&(m[g][d]=[]);m[g][d].push(k)}else{if(b||"*"===d)for(q=document.querySelectorAll("input, textarea"),f=q.length,h=0;h<f;h++)void 0!==q[h].addInputBinding&&q[h].addInputBinding(),void 0!==q[h].addInputBoxBinding&&q[h].addInputBoxBinding();if(e){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));f=e.length+1;e.unshift(document.body);for(h=0;h<f;h++)r.injectStyleProperty(e[h],d);g=c?A:v}else{if("*"===d){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));f=e.length+
1;b=I.length;e.unshift(document.body);for(h=0;h<f;h++)for(q=0;q<b;q++)r.injectStyleProperty(e[h],I[q]);g=c?A:v;void 0===g[d]&&(g[d]=[]);g[d].push(k)}g=c?y:K}void 0===g[d]&&(g[d]=[]);g[d].push(k)}}function N(d,k,f,c){function b(b,e){var d=e[b],f=d.length;for(g=0;g<f;g++)d[g].toString()===k.toString()&&d.splice(g,1)}if("function"!==typeof k)return r;["value","checked"].indexOf(d);var e=-1!==I.indexOf(d),g;if(this.toString()!==r.toString())if(f){f=this.querySelectorAll("*");var l=f.length;e?(e=c?"_childStyleUpdateListeners":
"_childStyleListeners",b(d,this.attrListeners()[e]),e=c?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===d&&(e=c?"_childStyleUpdateListeners":"_childStyleListeners",b(d,this.attrListeners()[e])),e=c?"_childAttrUpdateListeners":"_childAttrListeners",b(d,this.attrListeners()[e]),e=c?"_parentAttrUpdateListeners":"_parentAttrListeners");for(g=0;g<l;g++){for(var h=f[g].attrListeners()[e][d],q=h.length,n=0;n<q;n++)h[n].isEqualNode(this)&&h.slice(n,1);if("*"===d)for(listenersStyle=c?"_parentStyleUpdateListeners":
"_parentStyleListeners",h=f[g].attrListeners()[e][d],q=h.length,n=0;n<q;n++)h[n].isEqualNode(this)&&h.slice(n,1)}}else e?e=c?"_styleUpdateListeners":"_styleListeners":("*"===d&&(e=c?"_styleUpdateListeners":"_styleListeners",b(d,this.attrListeners()[e])),e=c?"_attrUpdateListeners":"_attrListeners"),b(d,this.attrListeners()[e]);else e?e=c?A:v:("*"===d&&(e=c?A:v,b(d,e)),e=c?y:K),b(d,e)}function S(d,k){r.addAttrListener.call(this,d,k,!0);return this}function P(d,k){r.addAttrUpdateListener.call(this,d,
k,!0);return this}function G(d,k){r.removeAttrListener.call(this,d,k,!0);return this}function H(d,k){r.removeAttrUpdateListener.call(this,d,k,!0);return this}function F(d,k,f){var c=this.attrListeners();"html"===k&&(k="innerHTML");"events"===k&&(k="onclick");switch(d){case "attr":if(n(c._attrListeners[k],f))return!0;break;case "attrupdate":if(n(c._attrUpdateListeners[k],f))return!0}return!1}function J(){this._stopChange=!0;return this}function r(){function d(b,e){var d,g=e.length;for(d=0;d<g;d++)-1===
b.indexOf(e[d])&&b.push(e[d]);return b}function k(b,e){for(var d=Object.keys(b),g,f,k=0,c=d.length;k<c;k++)if(g=d[k],void 0===e[g])e[g]=b[g].slice();else for(var h=0,v=b[g].length;h<v;h++)f=b[g][h],e[g].push(f)}function f(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var e=b.target.attrListeners(),g,f=["value","checked"],c=e._attrListeners,h=e._attrUpdateListeners,t=e._parentAttrListeners;g=e._parentAttrUpdateListeners;var q=!1;if(void 0!==K["*"]||void 0!==y["*"])q=!0;if(!0!==q&&void 0!==c["*"]||
void 0!==h["*"]||void 0!==t["*"]||void 0!==g["*"])q=!0;if(!0!==q)for(var n=0;n<f.length;n++)if(void 0!==K[f[n]]||void 0!==y[f[n]]||void 0!==c[f[n]]||void 0!==h[f[n]]||void 0!==t[f[n]]||void 0!==g[f[n]]){q=!0;break}g=q;f=Object.keys(v);c=Object.keys(A);Object.keys(e._styleListeners);Object.keys(e._styleUpdateListeners);h=Object.keys(e._parentStyleListeners);e=Object.keys(e._parentStyleUpdateListeners);t=[];if(0!==f.length||0!==c.length)t=d(t,f),t=d(t,c);if(0!==t.length&&0!==h.length||0!==e.length)t=
d(t,h),t=d(t,e);-1!==t.indexOf("*")&&(t=I);var e=t,f=e.length,u,p,c=[],D,h="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,t=b.target;void 0!==h&&(b.attr="appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(g){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?(c=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||c.unshift(b.arguments[0])):c=
Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));D=c.length;for(var w=0;w<D;w++)void 0!==c[w].addInputBinding&&c[w].addInputBinding(),void 0!==c[w].addInputBoxBinding&&c[w].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(c=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),c.unshift(b.arguments[0])):c=Array.prototype.slice.call(b.target.querySelectorAll("*"));g=b.target.__kb._parentAttrListeners;
q=b.target.__kb._parentAttrUpdateListeners;n=b.target.__kb._parentStyleListeners;u=b.target.__kb._parentStyleUpdateListeners;D=c.length;for(w=0;w<D;w++){if(0!==f)for(p=0;p<f;p++)r.injectStyleProperty(c[w],e[p]);p=c[w].attrListeners();k(g,p._parentAttrListeners);k(q,p._parentAttrUpdateListeners);k(n,p._parentStyleListeners);k(u,p._parentStyleUpdateListeners)}void 0!==h&&(b.attr=h,b.target=t,b.arguments=[])}}function c(b){var g=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:
"";e(b.target,b.arguments[0],d,void 0!==g?g.value:"",[d])||b.preventDefault()}function b(b){var e=b.target.attributes[b.arguments[0]],d="setAttribute"===b.attr?b.arguments[1]:"";g(b.target,b.arguments[0],d,void 0!==e?e.value:"",[d])}r.injectPrototypes(Node,"Node");r.injectPrototypes(Element,"Element");r.injectPrototypes(HTMLElement,"HTMLElement");r.injectPrototypes(HTMLInputElement,"HTMLInputElement");r.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");r.injectPrototypes(Document,"Document");
var e=w,g=h;r.addAttrUpdateListener("appendChild",f);r.addAttrUpdateListener("removeChild",f);r.addAttrUpdateListener("innerHTML",f);r.addAttrUpdateListener("outerHTML",f);r.addAttrUpdateListener("innerText",f);r.addAttrUpdateListener("outerText",f);r.addAttrUpdateListener("textContent",f);r.addAttrListener("setAttribute",c);r.addAttrListener("removeAttribute",c);r.addAttrUpdateListener("setAttribute",b);r.addAttrUpdateListener("removeAttribute",b);return r}var K={},y={},v={},A={},q={},D="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
I=Object.getOwnPropertyNames(document.documentElement.style),L=Object.keys(HTMLElement.prototype).filter(function(d){return 0===d.indexOf("on")}).concat(["addEventListener","removeEventListener"]),T,w=function(d,c,f,h,b,e){f=new z(d,c,f,h,b,void 0,"set",e);void 0!==d.__kb&&(h=d.__kb._attrListeners,b=d.__kb._styleListeners,e=d.__kb._parentAttrListeners,d=d.__kb._parentStyleListeners,void 0!==h[c]&&u(h[c],f),void 0===f._stopPropogation&&void 0!==b[c]&&u(b[c],f),void 0===f._stopPropogation&&void 0!==
h["*"]&&(u(h["*"],f),void 0===f._stopPropogation&&u(b["*"],f)),void 0===f._stopPropogation&&void 0!==e[c]&&p(e[c],f),void 0===f._stopPropogation&&void 0!==d[c]&&p(d[c],f),void 0===f._stopPropogation&&void 0!==e["*"]&&(p(e["*"],f),void 0===f._stopPropogation&&p(d["*"],f)));void 0===f._stopPropogation&&void 0!==K[c]&&u(K[c],f);void 0===f._stopPropogation&&void 0!==v[c]&&u(v[c],f);void 0===f._stopPropogation&&void 0!==K["*"]&&(u(K["*"],f),void 0===f._stopPropogation&&u(v["*"],f));return void 0!==f._preventDefault?
!1:!0},h=function(d,c,f,h,b,e){f=new z(d,c,f,h,b,e,"update");void 0!==d.__kb&&(h=d.__kb._attrUpdateListeners,b=d.__kb._styleUpdateListeners,e=d.__kb._parentAttrUpdateListeners,d=d.__kb._parentStyleUpdateListeners,void 0!==h[c]&&u(h[c],f),void 0===f._stopPropogation&&void 0!==b[c]&&u(b[c],f),void 0===f._stopPropogation&&void 0!==h["*"]&&(u(h["*"],f),void 0===f._stopPropogation&&u(b["*"],f)),void 0===f._stopPropogation&&void 0!==e[c]&&p(e[c],f),void 0===f._stopPropogation&&void 0!==d[c]&&p(d[c],f),
void 0===f._stopPropogation&&void 0!==e["*"]&&(p(e["*"],f),void 0===f._stopPropogation&&p(d["*"],f)));void 0===f._stopPropogation&&void 0!==y[c]&&u(y[c],f);void 0===f._stopPropogation&&void 0!==A[c]&&u(A[c],f);void 0===f._stopPropogation&&void 0!==y["*"]&&(u(y["*"],f),void 0===f._stopPropogation&&u(A["*"],f));return void 0!==f._preventDefault?!1:!0};r.injectPrototypeProperty=function(d,k,f,v,b){var e=d.prototype,g=Object.getOwnPropertyDescriptor(e,k);f=f||d.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var l=q[f];v=v||w;b=b||h;void 0===e.attrListeners&&(e={},e.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);return this.__kb}.bind(e),e.addAttrListener=r.addAttrListener,e.addAttrUpdateListener=r.addAttrUpdateListener,e.addChildAttrListener=S,e.addChildAttrUpdateListener=P,e.hasListener=F,e.removeAttrListener=r.removeAttrListener,e.removeAttrUpdateListener=r.removeAttrUpdateListener,e.removeChildAttrListener=G,e.removeChildAttrUpdateListener=H,e.stopChange=J);void 0===l&&(q[f]={obj:d,
proto:e,descriptors:{},set:void 0,update:void 0},l=q[f],l.set=v,l.update=b);void 0===l.descriptors[k]&&(l.descriptors[k]=g);g.configurable&&(void 0!==g.set?Object.defineProperty(e,k,{get:g.get,set:c(g,k,v,b),enumerable:!0,configurable:!0}):"function"===typeof g.value?Object.defineProperty(e,k,{value:R(g,k,v,b),writable:!0,enumerable:!0,configurable:!0}):void 0!==g.value&&Object.defineProperty(e,k,{get:function(){return g.value},set:Q(g,k,v,b),enumerable:!0,configurable:!0}));return r};r.injectStyleProperty=
function(d,c,f,v){var b=d.style,e=Object.getOwnPropertyDescriptor(b,c),g=d.attrListeners().injectedStyle;f=f||w;v=v||h;void 0===g&&(d.attrListeners().injectedStyle={obj:d,proto:b,descriptors:{},set:void 0,update:void 0},d.attrListeners().injectedStyle.set=f,d.attrListeners().injectedStyle.update=v,g=d.attrListeners().injectedStyle);void 0===g.descriptors[c]&&(g.descriptors[c]=e);e.configurable&&Object.defineProperty(b,c,E(e,c,f,v,d));return r};r.injectPrototypes=function(d,c,f,v){var b=d.prototype;
c=c||d.toString().split(/\s+/)[1].split("{")[0].replace("()","");var e=q[c],g=Object.getOwnPropertyNames(b);f=f||w;v=v||h;var l;void 0===b.attrListeners&&(b.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);return this.__kb},b.addAttrListener=r.addAttrListener,b.addAttrUpdateListener=r.addAttrUpdateListener,b.addChildAttrListener=S,b.addChildAttrUpdateListener=P,b.removeAttrListener=r.removeAttrListener,b.removeAttrUpdateListener=r.removeAttrUpdateListener,b.removeChildAttrListener=G,
b.removeChildAttrUpdateListener=H,b.hasListener=F,b.stopChange=J);void 0===e&&(q[c]={obj:d,proto:b,descriptors:{},set:void 0,update:void 0},e=q[c],e.set=f,e.update=v);l=q[c].descriptors;for(v=0;v<g.length;v+=1)void 0===l[g[v]]&&r.injectPrototypeProperty(d,g[v],c,f,h);if(-1!==g.indexOf("value")){var m=function(b){var g,d,f;if("checkbox"===this.type||"radio"===this.type)g=!0;d=g?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){f=g?"string"===typeof this.checked?
this.checked:this.checked?"true":"false":this.value;g&&(e.set(this,"checked",this.checked,d)?e.update(this,"checked",this.checked,d):l.checked.set.call(this,d));this.value!==f&&(this.value=f);e.set(this,"value",this.value,d)?e.update(this,"value",this.value,d):l.value.set.call(this,d)}.bind(this),0)};b.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",m)};b.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",
m)};b.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",m)};b.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",m)}}return r};r.addAttrListener=function(d,c,f){if("html"===d){d=0;for(var h=D.length;d<h;d++)O.call(this,D[d],c,f,!1)}else if("events"===d)for(d=0,h=L.length;d<h;d++)O.call(this,L[d],c,f,!1);else O.call(this,d,c,f,!1);return this};r.addAttrUpdateListener=function(d,c,f){if("html"===
d){d=0;for(var h=D.length;d<h;d++)O.call(this,D[d],c,f,!0)}else if("events"===d)for(d=0,h=L.length;d<h;d++)O.call(this,L[d],c,f,!0);else O.call(this,d,c,f,!0);return this};r.removeAttrListener=function(d,c,f){if("html"===d){d=0;for(var h=D.length;d<h;d++)N.call(this,D[d],c,f,!1)}else if("events"===d)for(d=0,h=L.length;d<h;d++)N.call(this,L[d],c,f,!1);else N.call(this,d,c,f,!1);return this};r.removeAttrUpdateListener=function(d,c,f){if("html"===d){d=0;for(var h=D.length;d<h;d++)N.call(this,D[d],c,
f,!0)}else if("events"===d)for(d=0,h=L.length;d<h;d++)N.call(this,L[d],c,f,!0);else N.call(this,d,c,f,!0);return this};r.hasListener=function(d,c,f){"html"===c&&(c="innerHTML");"events"===c&&(c="onclick");switch(d){case "attr":if(n(K[c],f))return!0;break;case "attrupdate":if(n(y[c],f))return!0}return!1};r.injectedPrototypes=function(){return q};return r}"function"===typeof define&&define.amd&&define("KB",z);return z}(),Y=function(z){return function(){function u(c){document.createDocumentFragment();
this.name=c.tagName.toLowerCase();this.template=J[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=c;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name}function p(c,n,q,r){return{value:c,writable:!!n,enumerable:!!r,configurable:!!q}}function n(){return new RegExp("(\\"+G.split("").join("\\")+")(.*?)(\\"+H.split("").join("\\")+")","g")}function M(c){return c.split(new RegExp("("+
G.split("").join("\\")+")(.*?)("+H.split("").join("\\")+")","g")).map(function(c,v,n){return n[v-1]===G?G+c+H:c}).filter(function(c,v,n){return 0!==c.length&&c!==G&&c!==H&&0!==c.length})}function C(c){return c.replace(new RegExp("["+G+H+"]","g"),"").replace(new RegExp("(\\"+F.split("").join("\\")+"(.*?)+)","g"),"").replace(/\s/g,"")}function c(c){return c.reduce(function(c,v){v.match(/(\()(.*?)(\))/)?c.vmFilters[c.vmFilters.length]=v.replace(/[\(\)]/g,""):v.match(/(\[)(.*?)(\])/)?-1!==v.indexOf("~")?
c.model[c.model.length]=v.replace(/[\[\]\~]/g,""):-1!==v.indexOf("+")?c.local[c.local.length]=v.replace(/[\[\]\+]/g,""):c.session[c.session.length]=v.replace(/[\[\]\-]/g,""):c.filters[c.filters.length]=v;return c},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function Q(c){return-1!==c.indexOf("for")?c.replace(new RegExp("["+G+H+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(c){return 0!==c.length}):[]}function R(c){if(2>c.split("==").length&&2>
c.split("<=").length&&2>c.split(">=").length&&-1!==c.indexOf("="))return c.substring(c.indexOf("=")+1,c.length)}function E(c){var n=c.match(/^(\s*)(>)((.*?)+)/),q=c.match(/^(\s*)(<)((.*?)+)/);c=c.replace(/(^<|^>)((.*?)+)/,"$2");var r=R(c),p=c.match(/((==|<=|>=|<|>)((.*?)+))/g),u=c.match(/(([\+\*-\/])((.*?)+))/g);return{type:n?"insert":q?"outsert":void 0,set:r!==c?r:void 0,filters:p||u?{boolFilter:p?eval("(function(){ return function(v){ return (v"+p[0]+");};}())"):void 0,mathFilter:u?eval("(function(){ return function(v){ return (v"+
u[0]+");};}())"):void 0}:void 0}}function O(c){if(0!==c.length){for(var n="",q=0,r=c.length;q<r;q++)if("string"===typeof c[q])n+=c[q];else if(void 0===c[q]._data)n+=c[q].text;else var p=c[q]._data.get(c[q].key),n=n+N(void 0!==p?p:"",c[q].filters.filters,c[q]._data.filters);return n}return N(c[0]._data.get(c[0].key)||"",c[0].filters.filters,c[0]._data.filters)}function N(c,n,q){for(var r=0,p=n.length;r<p;r++)q[n[r]]&&(c=q[n[r]](c));return c}function S(c,n,q,r){for(var p=0,u=n.length;p<u;p++)if(q[n[p]])q[n[p]](c,
r);return c}function P(){function n(h,d){var k=E(d);this.text=h;this.key=d.replace(/(^>|^<*)(.*?)([=*+-\/<>]+)((.*?)+)/g,"$2").replace(/\s/g,"");this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var f;f=-1!==h.indexOf(F)?h.replace(new RegExp("["+H+"]","g"),"").replace(new RegExp("(.*?)(\\"+F.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[];this.filters=c(f);this.component="for"===this.type?Q(h)[1]:void 0;this.id=0;this.subType=k.subtype;this.set=k.set;
this.inlineFilters=k.filters}function r(c,d){for(var k=0,f=d.length;k<f;k++)c.stopChange().appendChild(d[k])}function q(c){if(c&&window.model)return window.model.get(c[0])}function u(c,d){if(d&&0!==d.length&&window.model)for(var k=0,f=d.length;k<f;k++)window.model.set(d[k],c)}function I(c){if(c&&window.localStorage)return localStorage.getItem(c[0])}function z(c,d){if(c&&0!==c.length&&window.localStorage)for(var k=0,f=c.length;k<f;k++)localStorage.setItem(c[k],d)}function C(c){if(c&&window.sessionStorage)return sessionStorage.getItem(c[0])}
function w(c,d){if(c&&0!==c.length&&window.sessionStorage)for(var k=0,f=c.length;k<f;k++)sessionStorage.setItem(c[k],d)}Object.defineProperties(n.prototype,{addPointer:p(function(c){for(var d=document.createElement(this.component),k=S(this._data.getLayer(this.key),this.filters.filters,this._data.filters,c)[c],f=0,n=Object.keys(k,"all"),b=n.length;f<b;f++)d.k_post||(d.k_post={}),d.k_post[n[f]]=k,d.k_post.x=c,d.k_post.loopid=this.component+"_"+c;c>=this.node.children.length?this.node.stopChange().appendChild(d):
this.node.stopChange().insertBefore(d,this.node.children[c]);c={event:"loopitem",node:d,parent:this.node};d=y[c.event];k=0;for(f=d.length;k<f;k++)d[k](c);return this}),removePointer:p(function(c){for(var d=this.node.children[c].kb_maps,k=0,f=Object.keys(this.node.children[c].kb_viewmodel.pointers),n=f.length;k<n;k++){var b=d[f[k]];if(b)for(var e=0,g=b.length;e<g;e++)b[e].unsync(),b[e]=null,delete b[e]}this.node.stopChange().removeChild(this.node.children[c]);k=0;for(n=this.node.children.length;k<
n;k++)this.node.children[k].kb_viewmodel.x=k,c=this.node.children[k].kb_viewmodel.loopid,this.node.children[k].kb_viewmodel.loopid=c.substring(0,c.lastIndexOf("_")+1)+k;return this}),reapplyPointer:p(function(c){for(var d=this.node.children[c].kb_maps,k=this.node.children[c].kb_viewmodel.loopid,f=0,n=Object.keys(this.node.children[c].kb_viewmodel.pointers),b=n.length;f<b;f++){var e=d[n[f]];if(void 0!==e)for(var g=0,l=e.length;g<l;g++)e[g].reconnect()}this.node.children[c].kb_viewmodel.x=c;this.node.children[c].kb_viewmodel.loopid=
k.substring(0,k.lastIndexOf("_")+1)+c;return this}),connect:p(function(c){var d=this;this._data=c;if("for"!==this.type){if(this.insert){this.setDom(this._data.get(this.key));this.unsync();return}if(this.set){var k=!isNaN(parseInt(this.set,10))&&parseInt(this.set,10).toString().length===this.set.length,f="true"===this.set.replace(/\s/g,"")||"false"===this.set.replace(/\s/g,""),n=-1!==this.set.indexOf('"')||-1!==this.set.indexOf("'");(this.set=k?parseInt(this.set,10):f?"true"===this.set.replace(/\s/g,
""):n?this.set.replace(/((\s*\"|\')(.*?)(\"|\'))/g,"$3"):void 0)&&this._data.set(this.key,this.set)}if(this.outsert){this.setDom("");this.unsync();return}this.inlineFilters&&(this.inlineFilters.boolFilter?(this.filters.filters.unshift("boolFilter"),this._data.filters.boolFilter=this.inlineFilters.boolFilter):(this.filters.filters.unshift("mathFilter"),this._data.filters.mathFilter=this.inlineFilters.mathFilter));this.dataListener=function(b){"delete"===b.event?d.unsync():d.setDom(b.value)};c.getLayer(this.key).addDataUpdateListener(this.localKey,
this.dataListener);1===this.bindText.length&&(this.domListener=function(b){d.setData(b.value)},this.node.__kbhtmllistener=!0,this.node.addAttrUpdateListener(this.listener,this.domListener))}else this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");d.setLoop(b.key,b.event)},c.getLayer(this.key).addDataMethodUpdateListener(this.dataListener);"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,q(this.filters.model)):
this.filters.session&&0!==this.filters.session.length?this._data.stopChange().set(this.key,C(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&this._data.stopChange().set(this.key,I(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",r(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=O(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&
(c=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==c?c:"")));return this}),reconnect:p(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:p(function(){this.node.stopChange().innerHTML="";for(var c=
0,d=S(this._data.get(this.key),this.filters.filters,this._data.filters).length;c<d;c++)this.setLoop(c,"create");return this}),setData:p(function(c){c=N(c,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,c);u(this.filters.model,c);w(this.filters.session,c);z(this.filters.local,c);return this}),setDom:p(function(c){u(this.filters.model,c);w(this.filters.session,c);z(this.filters.local,c);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&
-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",r(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=O(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(c=this._data.get(this.key),this.node.stopChange()[this.attr]=void 0!==c?c:""));return this}),setLoop:p(function(c,d){switch(d){case "create":this.addPointer(c);break;case "delete":this.removePointer(c);
break;case "set":this.reapplyPointer(c);break;default:if("push"!==d)for(var k=0,f=this._data.getLayer(this.key).length;k<f;k++)this.reapplyPointer(k)}return this}),bindMaps:p([]),unsync:p(function(){this._data=this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this}),reset:p(function(){"for"===this.type?this._data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener).addDataMethodUpdateListener(this.extraListener):
(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,this.dataListener).addDataUpdateListener(this.localKey,this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener).addAttrUpdateListener(this.listener,this.domListener))})});return n}var G="{{",H="}}",F="|",J={},r=/(<\/.*?>)/g;z().call();var K=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}),y={loopitem:[]};u.start=function(c){if(void 0===c)return G;
G="string"===typeof c?c:G;return u};u.end=function(c){if(void 0===c)return H;H="string"===typeof c?c:H;return u};u.pipe=function(c){if(void 0===c)return F;F="string"===typeof c?c:F;return u};u.getUnknown=function(c){var n=c.match(r).map(function(c){return c.replace(/[<\/>]/g,"")});n.filter(function(c,r){return document.createElement(c)instanceof HTMLUnknownElement&&-1===n.indexOf(c,r+1)&&void 0===J[c]});return n};u.isRegistered=function(c){return void 0!==J[c]};u.register=function(c,n){void 0===J[c]?
(J[c]=n,u.getUnknown(n)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",c);return this};u.addEventListener=function(c,n){void 0!==y[c]?y[c].push(n):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",c);return u};u.removeEventListener=function(c,n){if(void 0!==y[c])for(var q=0,r=y[c].length;q<r;q++)y[c][q].toString()===n.toString()&&y[c].splice(q,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",
c);return u};Object.defineProperties(u.prototype,{register:p(u.register),isRegistered:p(u.isRegistered),getUnknown:p(u.getUnknown),map:p(function(c){function r(q,p){for(var u=0,z=q.length;u<z;u++)if(void 0===q[u].kb_maps&&8!==q[u].nodeType){q[u].kb_mapper=c;q[u].kb_maps=p;if(3===q[u].nodeType){var y=q[u],w=p,h=y.textContent;if(h.match(n())){var d=M(h),k=P();k.prototype.type=h.match(new RegExp("(\\"+G.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+H.split("").join("\\")+")","g"))?"for":"text";
k.prototype.text=h;k.prototype.bindText=d;k.prototype.listener="textContent";k.prototype.attr="textContent";k.prototype.localAttr="textContent";k.prototype.local=y;k.prototype.node=y.parentElement;k.prototype.binds=w;y=0;for(h=d.length;y<h;y++)if(0===d[y].indexOf(G)){var f="for"===k.prototype.type?Q(d[y])[0]:C(d[y]),t=new k(d[y],f);void 0===w[f]&&(w[f]=[]);t.bindText[y]=t;t.bindMaps.push(t);t.id=w[f].length;w[f].push(t)}}}else for(w=q[u],d=p,k=Array.prototype.slice.call(w.attributes),y=w instanceof
HTMLUnknownElement,h=0,f=k.length;h<f;h++)if(k[h].value.match(n())){var t=M(k[h].value),b=P();b.prototype.type=y?"component":"attribute";b.prototype.text=k[h].value;b.prototype.bindText=t;b.prototype.isEvent=-1!==K.indexOf(k[h].name);b.prototype.isInput="input"===w.tagName.toLowerCase();b.prototype.isRadio=b.prototype.isInput?-1!==["radio","checkbox"].indexOf(w.type):!1;b.prototype.listener=k[h].name;b.prototype.attr=k[h].name;b.prototype.localAttr="value";b.prototype.local=k[h];b.prototype.node=
w;b.prototype.binds=d;b.prototype.isEvent&&w.removeAttribute(k[h].name);for(var e=0,g=t.length;e<g;e++)if(0===t[e].indexOf(G)){var l=C(t[e]),m=new b(t[e],l);void 0===d[l]&&(d[l]=[]);m.bindText[e]=m;m.bindMaps.push(m);m.id=d[l].length;d[l].push(m)}}q[u].childNodes&&0!==q[u].childNodes.length&&(p=r(q[u].childNodes,p))}return p}return r(c.childNodes,{})}),insert:p(u.insert)});return u}}(V),Z=function(){return function(){function z(n){0===n.length&&(n=u);document.body.innerHTML="<"+n+"></"+n+">";p(n);
return z}var u="",p=function(){};z.base=function(n){if(void 0===n)return u;u="string"===typeof n?n:u;return z};z.onChange=function(n){if(void 0===n)return p;p="function"===typeof n?n:p;return z};z.watch=function(n){window.onhashchange=n?function(){z(window.location.hash.replace("#",""))}:null;return z};return z}}(),U=function(z,u,p,n,M){return function(p){function c(b,e,g,d){function f(b,c,e,d,g){for(var l=y({},b),h=0,m=Object.keys(d),n=m.length;h<n;h++)-1!==k.indexOf(m[h])?Object.defineProperty(l,
m[h],E(d[m[h]],"filters"!==m[h])):d.pointers?void 0===d.pointers[m[h]]&&l.set(m[h],d[m[h]]):l.set(m[h],d[m[h]]);if(d.pointers)for(l.pointers||Object.defineProperty(l,"pointers",E({},!1,!0)),h=0,m=Object.keys(d.pointers),n=m.length;h<n;h++)l.pointers[m[h]]=d.pointers[m[h]],l.addPointer(l.pointers[m[h]].point,l.pointers[m[h]].key,m[h]);c.apply(l,e);h=0;m=Object.keys(c.prototype);for(n=m.length;h<n;h++)Object.defineProperty(l,[m[h]],E(c.prototype[m[h]],!0));h=0;m=Object.keys(g);for(n=m.length;h<n;h++)-1!==
k.indexOf(m[h])?Object.defineProperty(l,m[h],E(g[m[h]],"filters"!==m[h])):g.pointers?void 0===g.pointers[m[h]]&&l.set(m[h],g[m[h]]):l.set(m[h],g[m[h]]);if(g.pointers)for(l.pointers||Object.defineProperty(l,"pointers",E({},!1,!0)),h=0,m=Object.keys(g.pointers),n=m.length;h<n;h++)l.pointers[m[h]]=g.pointers[m[h]],l.addPointer(l.pointers[m[h]].point,l.pointers[m[h]].key,m[h]);h=0;m=Object.keys(l.filters);for(n=m.length;h<n;h++)l.filters[m[h]]=l.filters[m[h]].bind(l);if(l.sessionStorage){if(c=sessionStorage.getItem(l.id||
b))for(c=JSON.parse(c),h=0,m=Object.keys(c),n=m.length;h<n;h++)l.set(m[h],c[m[h]]);else sessionStorage.setItem(l.id||b,l.stringify());l.addChildDataUpdateListener("*",function(){sessionStorage.setItem(l.id||b,l.stringify())})}if(l.localStorage){if(c=localStorage.getItem(l.id||b))for(c=JSON.parse(c),h=0,m=Object.keys(c),n=m.length;h<n;h++)l.set(m[h],c[m[h]]);else localStorage.setItem(l.id||b,l.stringify());l.addChildDataUpdateListener("*",function(){localStorage.setItem(l.id||b,l.stringify())})}l.store&&
L.set(l.id||b,l);return l}function h(b,c,e){b.kb_viewmodel=e;var d=c.maps=c.map(c.wrapper);c.wrapper.kb_maps=d;Object.keys(d).forEach(function(b){d[b].forEach(function(b){switch(b.type){case "for":b.connect(e).createloop();break;case "component":b.connect(e).unsync();break;default:b.connect(e)}})});c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,c.wrapper);c.wrapper.kb_viewmodel.onGlobalFinish&&c.wrapper.kb_viewmodel.onGlobalFinish.call(c.wrapper.kb_viewmodel,c.wrapper)}function n(b){b=
b.querySelectorAll("*");for(var e=0,d=b.length;e<d;e++)b[e]instanceof HTMLUnknownElement&&c(b[e])}function r(b,d){p=new D(d,!0);p.wrapper.innerHTML=p.template;p.wrapper.kb_mapper=p.wrapper;Object.defineProperty(p.wrapper,"__kbcomponenttree",E(d.kb_mapper?d.kb_mapper.__kbcomponenttree.slice():[]));d.parentElement.stopChange().replaceChild(p.fragment,d);e.unshift(p.wrapper);h(p.wrapper,p,f(b,T[b],e,t,w));-1===p.wrapper.__kbcomponenttree.indexOf(b)||p.wrapper.kb_viewmodel.multiple?(p.wrapper.__kbcomponenttree.push(b),
p.wrapper.className+=" "+p.wrapper.kb_viewmodel.local,p.wrapper.className+=" "+p.wrapper.kb_viewmodel.id,p.wrapper.className+=p.wrapper.kb_viewmodel.loopid?" "+p.wrapper.kb_viewmodel.loopid:"",p.wrapper.kb_viewmodel.subscribeDeep("*",Q).callAllSubscribers(),p.wrapper.kb_viewmodel.kbnode=p.wrapper,p.wrapper.addChildAttrListener("html",function(b){if(!b.stopChange){if(-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&(b.arguments[0]instanceof HTMLUnknownElement||b.arguments[0]instanceof
HTMLScriptElement)||-1!==["innerHTML","textContent"].indexOf(b.attr)&&b.target.__kbhtmllistener)return!0;b.preventDefault();b.stopPropagation()}}),p.wrapper.addChildAttrUpdateListener("html",function(b){-1!==["appendChild","insertSibling","insertBefore","insertAfter"].indexOf(b.attr)&&b.arguments[0]instanceof HTMLUnknownElement&&c(b.arguments[0])}),n(p.wrapper)):(console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",
b),console.error("Recursive Component %o on %o",p.wrapper,p.wrapper.parentElement))}var q=b.tagName.toLowerCase(),p,u=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}),t=R(v,{}),w={};void 0===e&&(e=[]);g&&R(g,t);Object.defineProperty(t,"local",E(t.local||"local_"+q+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(t,"id",E(t.id||"id_"+q+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(t,"filters",E(t.filters||
{},!1,!1,!0));"function"!==typeof t.onFinish&&(t.onFinish=function(){});Object.defineProperty(t,"onGlobalFinish",E(t.onFinish,!0,!1,!0));t.listen=N;Object.defineProperty(t,"listen",E(t.listen,!0,!1,!0));t.unlisten=O;Object.defineProperty(t,"unlisten",E(t.unlisten,!0,!1,!0));t.alert=S;Object.defineProperty(t,"alert",E(t.alert,!0,!1,!0));Object.defineProperty(t,"sessionStorage",E(!1,!0,!1,!0));Object.defineProperty(t,"localStorage",E(!1,!0,!1,!0));Object.defineProperty(t,"store",E(!1,!0,!1,!0));Object.defineProperty(t,
"multiple",E(!1,!0,!1,!0));d&&R(d,w);w.innerHTML=Array.prototype.slice.call(b.childNodes);g=0;for(d=b.attributes.length;g<d;g++)w[b.attributes[g].name]=b.attributes[g].value;g=0;for(d=u.length;g<d;g++)b[u[g]]&&(w[u[g]]=b[u[g]]);b.k_post&&R(b.k_post,w);c.isRegistered(q)||b.kb_isLoading?c.isRegistered(q)&&r(q,b):(c.loadWaitList(q,function(c,e){r(q,b)}),c.loadWaitList(q).loading||(c.loadWaitList(q).loading=!0,K(q)))}function Q(b){var c=this.__kbref.local,d=this.__kbref.id,f=this.__kbref.loopid,k=this.__kbscopeString+
(0!==this.__kbscopeString.length?".":"")+b.key;if(h[c]&&h[c][k])for(var n=0,p=h[c][k].length;n<p;n++)h[c][k][n](b);if(h[d]&&h[d][k])for(n=0,p=h[d][k].length;n<p;n++)h[d][k][n](b);if(h[f]&&h[f][k])for(n=0,p=h[f][k].length;n<p;n++)h[f][k][n](b)}function R(b,c){var d=Object.keys(b);c.pointers||Object.defineProperty(c,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var f=0,h=d.length;f<h;f++)if(y.prototype.isObservable(b,d[f]))c.pointers[d[f]]={key:b.__kbscopeString.split(".").pop(),
point:b.__kbImmediateParent};else if(y.prototype.isMixed(b[d[f]]))c.pointers[d[f]]={key:b[d[f]].__kbscopeString.split(".").pop(),point:b[d[f]].__kbImmediateParent};else if(y.prototype.isObject(b[d[f]])){void 0===c[d[f]]&&(c[d[f]]={});for(var k=0,n=Object.keys(b[d[f]]);k<h;k++)c[d[f]][n[k]]=b[d[f]][n[k]]}else if(y.prototype.isArray(b[d[f]]))for(k=0;k<h;k++)c[d[f]][k]=b[d[f]][k];else c[d[f]]=b[d[f]];return c}function E(b,c,d,f){return{value:b,writable:!!c,enumerable:!!f,configurable:!!d}}function O(b,
c,d){if(2===arguments.length)if(d=c.bind(this),c=b,w[c])for(var f=0,k=w[c].length;f<k;f++)w[c][f].toString()===d.toString()&&w[c].splice(f,1);else console.error("no listeners exists by key %o",c);else if(d=d.bind(this),h[b]&&h[b][c])for(f=0,k=h[b][c].length;f<k;f++)h[b][c].toString()===d.toString()&&h[b][c].splice(f,1);return this}function N(b,c,d){if(2===arguments.length)d=c.bind(this),c=b,w[c]||(w[c]=[]),w[c].push(d);else if(d=d.bind(this),h[b]||(h[b]={}),h[b][c]||(h[b][c]=[]),h[b][c].push(d),document.querySelector("."+
b)){var f=h[b][c],k=document.querySelector("."+b).kb_mapper.kb_viewmodel,n=k.getLayer(c),p=c.split(".").pop(),q=n[p];f[f.length-1]({key:p,value:q,oldValue:q,local:n,kbref:k,onChange:!1,initial:!0})}return this}function S(b,c){if(w[b])for(var d=0,f=w[b].length;d<f;d++)w[b][d](c);return this}function P(){if(!document.querySelector('meta[name="viewport"]')){var b=document.createElement("meta");b.name="viewport";b.content="width=device-width, initial-scale=1.0";document.head.stopChange().appendChild(b)}c.device||
(c.device={});c.device.type=c.detectDevice();c.device.orientation=c.detectOrientation();c.device.browser=c.detectBrowser();c.device.screenSize=c.detectScreenSize();c.device.orientationSize=c.detectScreenOrientation();c.device.keyboard="desktop"!==c.device.type?window.innerHeight<screen.height-.4*screen.height:!1;document.body.className=c.device.type+" "+c.device.orientation+(c.device.keyboard?" keyboard":"")+" "+c.device.browser+" "+c.device.screenSize+" "+c.device.orientationSize}function G(b,c){var d=
document.createElement("script");d.src=b;d.onerror=function(){c(null,!0)};d.onload=function(){c(v)};document.head.stopChange().appendChild(d)}function H(b){G("/node_modules/Konnekt/configs/config.js",b)}function F(b){G("/bower_components/Konnekt/configs/config.js",b)}function J(b){G("/configs/config.js",b)}function r(){for(var b=0,c=q.length;b<c;b++)q[b]()}window.K_Components||(window.K_Components={});var K=u().onLoad(function(b,d){var f="<style>"+unescape(d.prototype.k_css)+"</style>"+unescape(d.prototype.k_html);
c.register(b,d,f,d.prototype.cms);A?(c.loadWaitList(b).forEach(function(c){c(b,d)}),c.loadWaitList(b,"clear")):q.push(function(){c.loadWaitList(b).forEach(function(c){c(b,d)});c.loadWaitList(b,"clear")})}),y=z(),v=p||{},A=!1,q=[],D=n().addEventListener("loopitem",function(b){var d=b.node.tagName.toLowerCase();c.isRegistered(d)||b.node.kb_isLoading?c.isRegistered(d)&&c(b.node):(b.node.kb_isLoading=!0,c.loadWaitList(d,function(d,e){c(b.node)}),c.loadWaitList(d).loading||(c.loadWaitList(d).loading=!0,
K(d)))}),I=M().base(void 0!==v.base?v.base:"default").watch(!0).onChange(function(b){c(document.querySelector(b))}),L=y({},"Model"),T={},w={},h={},d=function(){return window.location.search.replace("?","").split("&").filter(function(b){return 0!==b.length}).reduce(function(b,c){b[c.split("=")[0]]=c.split("=")[1];return b},{})}(),k="id filters class sessionStorage localStorage store component multiple".split(" "),f={},t;c.detectDevice=function(){return navigator.userAgent.toLowerCase().match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|[^a-z]rim[^a-z]|sonyericsson|nokia|[^a-z]mib[^a-z])/)?
"mobile":navigator.userAgent.toLowerCase().match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?"tablet":"desktop"};c.detectBrowser=function(){var b=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),c="undefined"!==typeof InstallTrigger,d=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),f=!!document.documentMode,h=
!f&&!!window.StyleMedia,k=!!window.chrome&&!!window.chrome.webstore;return b?"opera":c?"firefox":d?"safari":k?"chrome":f?"ie":h?"edge":"unknown"};c.detectOrientation=function(){return screen.width>screen.height?"landscape":screen.height>screen.width?"portrait":"square"};c.detectScreenOrientation=function(){return window.innerWidth>window.innerHeight?"landscape-size":window.innerHeight>window.innerWidth?"portrait-size":"square-size"};c.detectScreenSize=function(){return 1280>("landscape"===this.detectOrientation()?
window.innerWidth:window.innerHeight)?750>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?"mobile-size":"tablet-size":"desktop-size"};c.config=function(b){function d(b,c){for(var f=0,h=Object.keys(b),k=h.length;f<k;f++)"object"===typeof b[h[f]]?(void 0===c[h[f]]&&(c[h[f]]={}),d(b[h[f]],c[h[f]])):"object"!==c[h[f]]&&(c[h[f]]=b[h[f]])}d(b,v);return c};window.addEventListener("resize",P);document.body?P():document.addEventListener("DOMContentLoaded",function(){P()});c.register=
function(b,d,f,h){D.register(b,f);T[b]=d;return c};c.isRegistered=function(b){return void 0!==T[b]&&D.isRegistered(b)};c.registered=function(){return Object.keys(T)};c.loadWaitList=function(b,d){if("undefined"===typeof d&&b)return f[b];if(b){if(void 0===f[b]||"clear"===d){var g=void 0===f[b]?!1:!!f[b].loading;f[b]=[];f[b].loading=g}"function"===typeof d&&f[b].push(d)}return c};c.localRouting=function(b){b?(t=Node.prototype.appendChild,Node.prototype.appendChild=function(b){if("script"===b.nodeName.toLowerCase()){b.src=
b.src.substring(0,-1!==b.src.indexOf("?")?b.src.indexOf("?"):b.src.length);var c=b.src.match(/(.*?component\/)/);c&&(d.env||(d.env="prod"),"dev"===d.env&&(d.env="qa"),c=b.src.replace(c[0],"").replace(/[\/\s]/g,""),b.src=(void 0!==v.prefix?v.prefix:"")+"/components/"+c+"/build/"+d.env+"/"+c+(d.debug&&"prod"!==d.env?"":".min")+".js",arguments[0]=b)}return t.apply(this,arguments)}):t&&(Node.prototype.appendChild=t,t=null);return c};c.hashRouting=function(b){b&&(document.body?A?I(window.location.hash.replace("#",
"")):q.push(function(){I(window.location.hash.replace("#",""))}):document.addEventListener("DOMContentLoaded",function(){A?I(window.location.hash.replace("#","")):q.push(function(){I(window.location.hash.replace("#",""))})}));return this};y.prototype._parse||(y.prototype._parse=y.prototype.parse);y.prototype.parse=function(){if(this.__kbref.kbnode){var b=this.__kbref.kbnode.kb_mapper.kb_maps;this._parse.apply(this,arguments);this.unsubscribeDeep("*",Q);this.subscribeDeep("*",Q).callAllSubscribers();
Object.keys(b).forEach(function(c){b[c].forEach(function(b){b.reset()})})}else return this._parse.apply(this,arguments)};(function(){H(function(b,c){c?F(function(b,c){c&&console.error("the Konnekt local config was not found, this issue happens when You do not have Konnekt isntalled via th standard node_modules or bower_components module directories");J(function(b,c){A=!0;r()})}):J(function(b,c){A=!0;r()})})})();return c}}(W,X,V,Y,Z);"undefined"!==typeof window&&"undefined"!==typeof window.define&&
"undefined"!==typeof window.require?define([],function(){return U}):"undefined"!==typeof module&&(module.exports=U);return U}();
